import{A as iN,B as ga,C as jp,D as Zt,E as Vv,F as $p,G as Up,H as Hp,I as Gp,J as Lv,K as zn,a as Y,b as Me,c as hj,d as Ov,e as P,f as ZA,g as Op,h as XA,i as eN,j as tN,k as Pp,l as Pv,m as kp,n as Ld,o as kv,p as Fp,q as Vp,r as nN,s as Fv,t as We,u as Eo,v as Or,w as Lp,x as ma,y as Bd,z as Bp}from"./chunk-3AJCQ7FH.js";function fj(n,e){return Object.is(n,e)}var cn=null,qp=!1,zp=1,Jl=Symbol("SIGNAL");function ke(n){let e=cn;return cn=n,e}var Bv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rN(n){if(qp)throw new Error("");if(cn===null)return;cn.consumerOnSignalRead(n);let e=cn.nextProducerIndex++;if(Yl(cn),e<cn.producerNode.length&&cn.producerNode[e]!==n&&jd(cn)){let t=cn.producerNode[e];Wp(t,cn.producerIndexOfThis[e])}cn.producerNode[e]!==n&&(cn.producerNode[e]=n,cn.producerIndexOfThis[e]=jd(cn)?cN(n,cn,e):0),cn.producerLastReadVersion[e]=n.version}function pj(){zp++}function mj(n){if(!(jd(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===zp)){if(!n.producerMustRecompute(n)&&!jv(n)){n.dirty=!1,n.lastCleanEpoch=zp;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=zp}}function oN(n){if(n.liveConsumerNode===void 0)return;let e=qp;qp=!0;try{for(let t of n.liveConsumerNode)t.dirty||_j(t)}finally{qp=e}}function gj(){return cn?.consumerAllowSignalWrites!==!1}function _j(n){n.dirty=!0,oN(n),n.consumerMarkedDirty?.(n)}function sN(n){return n&&(n.nextProducerIndex=0),ke(n)}function aN(n,e){if(ke(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(jd(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Wp(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function jv(n){Yl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(mj(t),i!==t.version))return!0}return!1}function lN(n){if(Yl(n),jd(n))for(let e=0;e<n.producerNode.length;e++)Wp(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function cN(n,e,t){if(uN(n),Yl(n),n.liveConsumerNode.length===0)for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=cN(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Wp(n,e){if(uN(n),Yl(n),n.liveConsumerNode.length===1)for(let i=0;i<n.producerNode.length;i++)Wp(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Yl(r),r.producerIndexOfThis[i]=e}}function jd(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Yl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function uN(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function yj(){throw new Error}var dN=yj;function vj(){dN()}function hN(n){dN=n}var Ej=null;function $v(n,e){gj()||vj(),n.equal(n.value,e)||(n.value=e,wj(n))}var fN=Me(Y({},Bv),{equal:fj,value:void 0});function wj(n){n.version++,pj(),oN(n),Ej?.()}function me(n){return typeof n=="function"}function Zl(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Kp=Zl(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function _a(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Mt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(me(i))try{i()}catch(o){e=o instanceof Kp?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{pN(o)}catch(s){e=e??[],s instanceof Kp?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Kp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)pN(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&_a(t,e)}remove(e){let{_finalizers:t}=this;t&&_a(t,e),e instanceof n&&e._removeParent(this)}};Mt.EMPTY=(()=>{let n=new Mt;return n.closed=!0,n})();var Uv=Mt.EMPTY;function Qp(n){return n instanceof Mt||n&&"closed"in n&&me(n.remove)&&me(n.add)&&me(n.unsubscribe)}function pN(n){me(n)?n():n.unsubscribe()}var or={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xl={setTimeout(n,e,...t){let{delegate:i}=Xl;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Xl;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Yp(n){Xl.setTimeout(()=>{let{onUnhandledError:e}=or;if(e)e(n);else throw n})}function wo(){}var mN=Hv("C",void 0,void 0);function gN(n){return Hv("E",void 0,n)}function _N(n){return Hv("N",n,void 0)}function Hv(n,e,t){return{kind:n,value:e,error:t}}var ya=null;function ec(n){if(or.useDeprecatedSynchronousErrorHandling){let e=!ya;if(e&&(ya={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=ya;if(ya=null,t)throw i}}else n()}function yN(n){or.useDeprecatedSynchronousErrorHandling&&ya&&(ya.errorThrown=!0,ya.error=n)}var va=class extends Mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qp(e)&&e.add(this)):this.destination=Cj}static create(e,t,i){return new bo(e,t,i)}next(e){this.isStopped?qv(_N(e),this):this._next(e)}error(e){this.isStopped?qv(gN(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qv(mN,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bj=Function.prototype.bind;function Gv(n,e){return bj.call(n,e)}var zv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Jp(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Jp(i)}else Jp(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Jp(t)}}},bo=class extends va{constructor(e,t,i){super();let r;if(me(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&or.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Gv(e.next,o),error:e.error&&Gv(e.error,o),complete:e.complete&&Gv(e.complete,o)}):r=e}this.destination=new zv(r)}};function Jp(n){or.useDeprecatedSynchronousErrorHandling?yN(n):Yp(n)}function Dj(n){throw n}function qv(n,e){let{onStoppedNotification:t}=or;t&&Xl.setTimeout(()=>t(n,e))}var Cj={closed:!0,next:wo,error:Dj,complete:wo};var tc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function En(n){return n}function Zp(...n){return Wv(n)}function Wv(n){return n.length===0?En:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var pe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=Tj(t)?t:new bo(t,i,r);return ec(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=vN(i),new i((r,o)=>{let s=new bo({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[tc](){return this}pipe(...t){return Wv(t)(this)}toPromise(t){return t=vN(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function vN(n){var e;return(e=n??or.Promise)!==null&&e!==void 0?e:Promise}function Ij(n){return n&&me(n.next)&&me(n.error)&&me(n.complete)}function Tj(n){return n&&n instanceof va||Ij(n)&&Qp(n)}function Kv(n){return me(n?.lift)}function we(n){return e=>{if(Kv(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(n,e,t,i,r){return new Qv(n,e,t,i,r)}var Qv=class extends va{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function nc(){return we((n,e)=>{let t=null;n._refCount++;let i=_e(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var ic=class extends pe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Kv(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mt;let t=this.getSubject();e.add(this.source.subscribe(_e(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mt.EMPTY)}return e}refCount(){return nc()(this)}};var EN=Zl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class n extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Xp(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new EN}next(t){ec(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){ec(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){ec(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Uv:(this.currentObservers=null,o.push(t),new Mt(()=>{this.currentObservers=null,_a(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new pe;return t.source=this,t}}return n.create=(e,t)=>new Xp(e,t),n})(),Xp=class extends Fe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Uv}};var un=class extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var $d={now(){return($d.delegate||Date).now()},delegate:void 0};var cs=class extends Fe{constructor(e=1/0,t=1/0,i=$d){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=t.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var em=class extends Mt{constructor(e,t){super()}schedule(e,t=0){return this}};var Ud={setInterval(n,e,...t){let{delegate:i}=Ud;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ud;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var rc=class extends em{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Ud.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Ud.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,_a(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var oc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};oc.now=$d.now;var sc=class extends oc{constructor(e,t=oc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Fi=new sc(rc),Yv=Fi;var tm=class extends rc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var nm=class extends sc{};var Jv=new nm(tm);var Xt=new pe(n=>n.complete());function im(n){return n&&me(n.schedule)}function Zv(n){return n[n.length-1]}function us(n){return me(Zv(n))?n.pop():void 0}function Pr(n){return im(Zv(n))?n.pop():void 0}function wN(n,e){return typeof Zv(n)=="number"?n.pop():e}var ac=n=>n&&typeof n.length=="number"&&typeof n!="function";function rm(n){return me(n?.then)}function om(n){return me(n[tc])}function sm(n){return Symbol.asyncIterator&&me(n?.[Symbol.asyncIterator])}function am(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Sj(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lm=Sj();function cm(n){return me(n?.[lm])}function um(n){return XA(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Op(t.read());if(r)return yield Op(void 0);yield yield Op(i)}}finally{t.releaseLock()}})}function dm(n){return me(n?.getReader)}function Ve(n){if(n instanceof pe)return n;if(n!=null){if(om(n))return Aj(n);if(ac(n))return Nj(n);if(rm(n))return Mj(n);if(sm(n))return bN(n);if(cm(n))return xj(n);if(dm(n))return Rj(n)}throw am(n)}function Aj(n){return new pe(e=>{let t=n[tc]();if(me(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Nj(n){return new pe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Mj(n){return new pe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Yp)})}function xj(n){return new pe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function bN(n){return new pe(e=>{Oj(n,e).catch(t=>e.error(t))})}function Rj(n){return bN(um(n))}function Oj(n,e){var t,i,r,o;return ZA(this,void 0,void 0,function*(){try{for(t=eN(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function oi(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function wi(n,e=0){return we((t,i)=>{t.subscribe(_e(i,r=>oi(i,n,()=>i.next(r),e),()=>oi(i,n,()=>i.complete(),e),r=>oi(i,n,()=>i.error(r),e)))})}function Vi(n,e=0){return we((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function DN(n,e){return Ve(n).pipe(Vi(e),wi(e))}function CN(n,e){return Ve(n).pipe(Vi(e),wi(e))}function IN(n,e){return new pe(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function TN(n,e){return new pe(t=>{let i;return oi(t,e,()=>{i=n[lm](),oi(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>me(i?.return)&&i.return()})}function hm(n,e){if(!n)throw new Error("Iterable cannot be null");return new pe(t=>{oi(t,e,()=>{let i=n[Symbol.asyncIterator]();oi(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function SN(n,e){return hm(um(n),e)}function AN(n,e){if(n!=null){if(om(n))return DN(n,e);if(ac(n))return IN(n,e);if(rm(n))return CN(n,e);if(sm(n))return hm(n,e);if(cm(n))return TN(n,e);if(dm(n))return SN(n,e)}throw am(n)}function Se(n,e){return e?AN(n,e):Ve(n)}function ue(...n){let e=Pr(n);return Se(n,e)}function lc(n,e){let t=me(n)?n:()=>n,i=r=>r.error(t());return new pe(e?r=>e.schedule(i,0,r):i)}function Xv(n){return!!n&&(n instanceof pe||me(n.lift)&&me(n.subscribe))}var Do=Zl(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function NN(n){return n instanceof Date&&!isNaN(n)}function ce(n,e){return we((t,i)=>{let r=0;t.subscribe(_e(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:Pj}=Array;function kj(n,e){return Pj(e)?n(...e):n(e)}function cc(n){return ce(e=>kj(n,e))}var{isArray:Fj}=Array,{getPrototypeOf:Vj,prototype:Lj,keys:Bj}=Object;function fm(n){if(n.length===1){let e=n[0];if(Fj(e))return{args:e,keys:null};if(jj(e)){let t=Bj(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function jj(n){return n&&typeof n=="object"&&Vj(n)===Lj}function pm(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function uc(...n){let e=Pr(n),t=us(n),{args:i,keys:r}=fm(n);if(i.length===0)return Se([],e);let o=new pe($j(i,e,r?s=>pm(r,s):En));return t?o.pipe(cc(t)):o}function $j(n,e,t=En){return i=>{MN(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)MN(e,()=>{let u=Se(n[l],e),d=!1;u.subscribe(_e(i,f=>{o[l]=f,d||(d=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function MN(n,e,t){n?oi(t,n,e):e()}function xN(n,e,t,i,r,o,s,a){let l=[],u=0,d=0,f=!1,m=()=>{f&&!l.length&&!u&&e.complete()},g=I=>u<i?D(I):l.push(I),D=I=>{o&&e.next(I),u++;let T=!1;Ve(t(I,d++)).subscribe(_e(e,F=>{r?.(F),o?g(F):e.next(F)},()=>{T=!0},void 0,()=>{if(T)try{for(u--;l.length&&u<i;){let F=l.shift();s?oi(e,s,()=>D(F)):D(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(_e(e,g,()=>{f=!0,m()})),()=>{a?.()}}function lt(n,e,t=1/0){return me(e)?lt((i,r)=>ce((o,s)=>e(i,o,r,s))(Ve(n(i,r))),t):(typeof e=="number"&&(t=e),we((i,r)=>xN(i,r,n,t)))}function kr(n=1/0){return lt(En,n)}function RN(){return kr(1)}function Fr(...n){return RN()(Se(n,Pr(n)))}function mm(n){return new pe(e=>{Ve(n()).subscribe(e)})}function eE(...n){let e=us(n),{args:t,keys:i}=fm(n),r=new pe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let d=0;d<s;d++){let f=!1;Ve(t[d]).subscribe(_e(o,m=>{f||(f=!0,u--),a[d]=m},()=>l--,void 0,()=>{(!l||!f)&&(u||o.next(i?pm(i,a):a),o.complete())}))}});return e?r.pipe(cc(e)):r}var Uj=["addListener","removeListener"],Hj=["addEventListener","removeEventListener"],Gj=["on","off"];function en(n,e,t,i){if(me(t)&&(i=t,t=void 0),i)return en(n,e,t).pipe(cc(i));let[r,o]=Wj(n)?Hj.map(s=>a=>n[s](e,a,t)):qj(n)?Uj.map(ON(n,e)):zj(n)?Gj.map(ON(n,e)):[];if(!r&&ac(n))return lt(s=>en(s,e,t))(Ve(n));if(!r)throw new TypeError("Invalid event target");return new pe(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function ON(n,e){return t=>i=>n[t](e,i)}function qj(n){return me(n.addListener)&&me(n.removeListener)}function zj(n){return me(n.on)&&me(n.off)}function Wj(n){return me(n.addEventListener)&&me(n.removeEventListener)}function Ea(n=0,e,t=Yv){let i=-1;return e!=null&&(im(e)?t=e:i=e),new pe(r=>{let o=NN(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function tE(n=0,e=Fi){return n<0&&(n=0),Ea(n,n,e)}function Hd(...n){let e=Pr(n),t=wN(n,1/0),i=n;return i.length?i.length===1?Ve(i[0]):kr(t)(Se(i,e)):Xt}var{isArray:Kj}=Array;function gm(n){return n.length===1&&Kj(n[0])?n[0]:n}function Xe(n,e){return we((t,i)=>{let r=0;t.subscribe(_e(i,o=>n.call(e,o,r++)&&i.next(o)))})}function _m(...n){return n=gm(n),n.length===1?Ve(n[0]):new pe(Qj(n))}function Qj(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(Ve(n[i]).subscribe(_e(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(r)})))}}function Gd(...n){let e=us(n),t=gm(n);return t.length?new pe(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<t.length;s++)Ve(t[s]).subscribe(_e(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(u=>u.shift());i.next(e?e(...l):l),r.some((u,d)=>!u.length&&o[d])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Xt}function ds(n){return we((e,t)=>{let i=null,r=!1,o;i=e.subscribe(_e(t,void 0,void 0,s=>{o=Ve(n(s,ds(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function PN(n,e,t,i,r){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(_e(s,d=>{let f=u++;l=a?n(l,d,f):(a=!0,d),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function wa(n,e){return me(e)?lt(n,e,1):lt(n,1)}function nE(n,e=Fi){return we((t,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let u=o;o=null,i.next(u)}};function l(){let u=s+n,d=e.now();if(d<u){r=this.schedule(void 0,u-d),i.add(r);return}a()}t.subscribe(_e(i,u=>{o=u,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function hs(n){return we((e,t)=>{let i=!1;e.subscribe(_e(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function $t(n){return n<=0?()=>Xt:we((e,t)=>{let i=0;e.subscribe(_e(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function kN(){return we((n,e)=>{n.subscribe(_e(e,wo))})}function qd(n){return ce(()=>n)}function iE(n,e){return e?t=>Fr(e.pipe($t(1),kN()),t.pipe(iE(n))):lt((t,i)=>Ve(n(t,i)).pipe($t(1),qd(t)))}function rE(n,e=Fi){let t=Ea(n,e);return iE(()=>t)}function zd(n,e=En){return n=n??Yj,we((t,i)=>{let r,o=!0;t.subscribe(_e(i,s=>{let a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Yj(n,e){return n===e}function ym(n=Jj){return we((e,t)=>{let i=!1;e.subscribe(_e(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Jj(){return new Do}function oE(...n){return e=>Fr(e,ue(...n))}function dc(n){return we((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Li(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Xe((r,o)=>n(r,o,i)):En,$t(1),t?hs(e):ym(()=>new Do))}function hc(n){return n<=0?()=>Xt:we((e,t)=>{let i=[];e.subscribe(_e(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function sE(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Xe((r,o)=>n(r,o,i)):En,hc(1),t?hs(e):ym(()=>new Do))}function fc(){return we((n,e)=>{let t,i=!1;n.subscribe(_e(e,r=>{let o=t;t=r,i&&e.next([o,r]),i=!0}))})}function fs(n,e){return we(PN(n,e,arguments.length>=2,!0))}function FN(n={}){let{connector:e=()=>new Fe,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,u=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=l=void 0,d=f=!1},D=()=>{let I=s;g(),I?.unsubscribe()};return we((I,T)=>{u++,!f&&!d&&m();let F=l=l??e();T.add(()=>{u--,u===0&&!f&&!d&&(a=aE(D,r))}),F.subscribe(T),!s&&u>0&&(s=new bo({next:H=>F.next(H),error:H=>{f=!0,m(),a=aE(g,t,H),F.error(H)},complete:()=>{d=!0,m(),a=aE(g,i),F.complete()}}),Ve(I).subscribe(s))})(o)}}function aE(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new bo({next:()=>{i.unsubscribe(),n()}});return Ve(e(...t)).subscribe(i)}function vm(n,e,t){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n:i=n??1/0,FN({connector:()=>new cs(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Co(...n){let e=Pr(n);return we((t,i)=>{(e?Fr(n,t,e):Fr(n,t)).subscribe(i)})}function ft(n,e){return we((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(_e(i,l=>{r?.unsubscribe();let u=0,d=o++;Ve(n(l,d)).subscribe(r=_e(i,f=>i.next(e?e(l,f,d,u++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Em(n,e){return me(e)?ft(()=>n,e):ft(()=>n)}function xt(n){return we((e,t)=>{Ve(n).subscribe(_e(t,()=>t.complete(),wo)),!t.closed&&e.subscribe(t)})}function bt(n,e,t){let i=me(n)||e||t?{next:n,error:e,complete:t}:n;return i?we((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(_e(o,l=>{var u;(u=i.next)===null||u===void 0||u.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,l),o.error(l)},()=>{var l,u;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):En}function Wd(...n){let e=us(n);return we((t,i)=>{let r=n.length,o=new Array(r),s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Ve(n[l]).subscribe(_e(i,u=>{o[l]=u,!a&&!s[l]&&(s[l]=!0,(a=s.every(En))&&(s=null))},wo));t.subscribe(_e(i,l=>{if(a){let u=[l,...o];i.next(e?e(...u):u)}}))})}var TM="https://g.co/ng/security#xss",le=class extends Error{constructor(e,t){super(xw(e,t)),this.code=e}};function xw(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var SM=Symbol("InputSignalNode#UNSET"),Zj=Me(Y({},fN),{transformFn:void 0,applyValueToInputSignal(n,e){$v(n,e)}});function ch(n){return{toString:n}.toString()}var wm="__parameters__";function Xj(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function AM(n,e,t){return ch(()=>{let i=Xj(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,u,d){let f=l.hasOwnProperty(wm)?l[wm]:Object.defineProperty(l,wm,{value:[]})[wm];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Rt=globalThis;function tt(n){for(let e in n)if(n[e]===tt)return e;throw Error("Could not find renamed property on target object.")}function e$(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Kn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Kn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function CE(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var t$=tt({__forward_ref__:tt});function Cn(n){return n.__forward_ref__=Cn,n.toString=function(){return Kn(this())},n}function Wn(n){return NM(n)?n():n}function NM(n){return typeof n=="function"&&n.hasOwnProperty(t$)&&n.__forward_ref__===Cn}function ee(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ie(n){return{providers:n.providers||[],imports:n.imports||[]}}function og(n){return VN(n,xM)||VN(n,RM)}function MM(n){return og(n)!==null}function VN(n,e){return n.hasOwnProperty(e)?n[e]:null}function n$(n){let e=n&&(n[xM]||n[RM]);return e||null}function LN(n){return n&&(n.hasOwnProperty(BN)||n.hasOwnProperty(i$))?n[BN]:null}var xM=tt({\u0275prov:tt}),BN=tt({\u0275inj:tt}),RM=tt({ngInjectableDef:tt}),i$=tt({ngInjectorDef:tt}),se=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ee({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function OM(n){return n&&!!n.\u0275providers}var r$=tt({\u0275cmp:tt}),o$=tt({\u0275dir:tt}),s$=tt({\u0275pipe:tt}),a$=tt({\u0275mod:tt}),Pm=tt({\u0275fac:tt}),Kd=tt({__NG_ELEMENT_ID__:tt}),jN=tt({__NG_ENV_ID__:tt});function sg(n){return typeof n=="string"?n:n==null?"":String(n)}function l$(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():sg(n)}function c$(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new le(-200,n)}function Rw(n,e){throw new le(-201,!1)}var Pe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Pe||{}),IE;function PM(){return IE}function si(n){let e=IE;return IE=n,e}function kM(n,e,t){let i=og(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Pe.Optional)return null;if(e!==void 0)return e;Rw(n,"Injector")}var u$={},Yd=u$,TE="__NG_DI_FLAG__",km="ngTempTokenPath",d$="ngTokenPath",h$=/\n/gm,f$="\u0275",$N="__source",_c;function p$(){return _c}function ps(n){let e=_c;return _c=n,e}function m$(n,e=Pe.Default){if(_c===void 0)throw new le(-203,!1);return _c===null?kM(n,void 0,e):_c.get(n,e&Pe.Optional?null:void 0,e)}function te(n,e=Pe.Default){return(PM()||m$)(Wn(n),e)}function R(n,e=Pe.Default){return te(n,ag(e))}function ag(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function SE(n){let e=[];for(let t=0;t<n.length;t++){let i=Wn(n[t]);if(Array.isArray(i)){if(i.length===0)throw new le(900,!1);let r,o=Pe.Default;for(let s=0;s<i.length;s++){let a=i[s],l=g$(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(te(r,o))}else e.push(te(i))}return e}function FM(n,e){return n[TE]=e,n.prototype[TE]=e,n}function g$(n){return n[TE]}function _$(n,e,t,i){let r=n[km];throw e[$N]&&r.unshift(e[$N]),n.message=y$(`
`+n.message,r,t,i),n[d$]=r,n[km]=null,n}function y$(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==f$?n.slice(2):n;let r=Kn(e);if(Array.isArray(e))r=e.map(Kn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Kn(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(h$,`
  `)}`}var dn=FM(AM("Optional"),8);var Ow=FM(AM("SkipSelf"),4);function Ia(n,e){let t=n.hasOwnProperty(Pm);return t?n[Pm]:null}function v$(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function E$(n){return n.flat(Number.POSITIVE_INFINITY)}function Pw(n,e){n.forEach(t=>Array.isArray(t)?Pw(t,e):e(t))}function VM(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Fm(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function w$(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function b$(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function kw(n,e,t){let i=uh(n,e);return i>=0?n[i|1]=t:(i=~i,b$(n,i,e,t)),i}function lE(n,e){let t=uh(n,e);if(t>=0)return n[t|1]}function uh(n,e){return D$(n,e,1)}function D$(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var vc={},ai=[],Ec=new se(""),LM=new se("",-1),BM=new se(""),Vm=class{get(e,t=Yd){if(t===Yd){let i=new Error(`NullInjectorError: No provider for ${Kn(e)}!`);throw i.name="NullInjectorError",i}return t}},jM=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(jM||{}),Br=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Br||{}),pt=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(pt||{});function C$(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function AE(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];I$(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function $M(n){return n===3||n===4||n===6}function I$(n){return n.charCodeAt(0)===64}function Jd(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?UN(n,t,r,null,e[++i]):UN(n,t,r,null,null))}}return n}function UN(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var UM="ng-template";function T$(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&C$(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Fw(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Fw(n){return n.type===4&&n.value!==UM}function S$(n,e,t){let i=n.type===4&&!t?UM:n.value;return e===i}function A$(n,e,t){let i=4,r=n.attrs,o=r!==null?x$(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!sr(i)&&!sr(l))return!1;if(s&&sr(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!S$(n,l,t)||l===""&&e.length===1){if(sr(i))return!1;s=!0}}else if(i&8){if(r===null||!T$(n,r,l,t)){if(sr(i))return!1;s=!0}}else{let u=e[++a],d=N$(l,r,Fw(n),t);if(d===-1){if(sr(i))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=r[d+1].toLowerCase(),i&2&&u!==f){if(sr(i))return!1;s=!0}}}}return sr(i)||s}function sr(n){return(n&1)===0}function N$(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return R$(e,n)}function HM(n,e,t=!1){for(let i=0;i<e.length;i++)if(A$(n,e[i],t))return!0;return!1}function M$(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function x$(n){for(let e=0;e<n.length;e++){let t=n[e];if($M(t))return e}return n.length}function R$(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function O$(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function HN(n,e){return n?":not("+e.trim()+")":e}function P$(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!sr(s)&&(e+=HN(o,r),r=""),i=s,o=o||!sr(i);t++}return r!==""&&(e+=HN(o,r)),e}function k$(n){return n.map(P$).join(",")}function F$(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!sr(r))break;r=o}i++}return{attrs:e,classes:t}}function Ae(n){return ch(()=>{let e=KM(n),t=Me(Y({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===jM.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Br.Emulated,styles:n.styles||ai,_:null,schemas:n.schemas||null,tView:null,id:""});QM(t);let i=n.dependencies;return t.directiveDefs=qN(i,!1),t.pipeDefs=qN(i,!0),t.id=B$(t),t})}function V$(n){return Io(n)||GM(n)}function L$(n){return n!==null}function Te(n){return ch(()=>({type:n.type,bootstrap:n.bootstrap||ai,declarations:n.declarations||ai,imports:n.imports||ai,exports:n.exports||ai,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function GN(n,e){if(n==null)return vc;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=pt.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==pt.None?[i,a]:i,e[o]=s):t[o]=i}return t}function qe(n){return ch(()=>{let e=KM(n);return QM(e),e})}function Vw(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Io(n){return n[r$]||null}function GM(n){return n[o$]||null}function qM(n){return n[s$]||null}function zM(n){let e=Io(n)||GM(n)||qM(n);return e!==null?e.standalone:!1}function WM(n,e){let t=n[a$]||null;if(!t&&e===!0)throw new Error(`Type ${Kn(n)} does not have '\u0275mod' property.`);return t}function KM(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||vc,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||ai,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:GN(n.inputs,e),outputs:GN(n.outputs),debugInfo:null}}function QM(n){n.features?.forEach(e=>e(n))}function qN(n,e){if(!n)return null;let t=e?qM:V$;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(L$)}function B$(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function vs(n){return{\u0275providers:n}}function j$(...n){return{\u0275providers:YM(!0,n),\u0275fromNgModule:!0}}function YM(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return Pw(e,s=>{let a=s;NE(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&JM(r,o),t}function JM(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];Lw(r,o=>{e(o,i)})}}function NE(n,e,t,i){if(n=Wn(n),!n)return!1;let r=null,o=LN(n),s=!o&&Io(n);if(!o&&!s){let l=n.ngModule;if(o=LN(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)NE(u,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{Pw(o.imports,d=>{NE(d,e,t,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&JM(u,e)}if(!a){let u=Ia(r)||(()=>new r);e({provide:r,useFactory:u,deps:ai},r),e({provide:BM,useValue:r,multi:!0},r),e({provide:Ec,useValue:()=>te(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let u=n;Lw(l,d=>{e(d,u)})}}else return!1;return r!==n&&n.providers!==void 0}function Lw(n,e){for(let t of n)OM(t)&&(t=t.\u0275providers),Array.isArray(t)?Lw(t,e):e(t)}var $$=tt({provide:String,useValue:tt});function ZM(n){return n!==null&&typeof n=="object"&&$$ in n}function U$(n){return!!(n&&n.useExisting)}function H$(n){return!!(n&&n.useFactory)}function wc(n){return typeof n=="function"}function G$(n){return!!n.useClass}var lg=new se(""),Am={},q$={},cE;function cg(){return cE===void 0&&(cE=new Vm),cE}var wn=class{},Zd=class extends wn{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xE(e,s=>this.processProvider(s)),this.records.set(LM,pc(void 0,this)),r.has("environment")&&this.records.set(wn,pc(void 0,this));let o=this.records.get(lg);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(BM,ai,Pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ke(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ke(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=ps(this),i=si(void 0),r;try{return e()}finally{ps(t),si(i)}}get(e,t=Yd,i=Pe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(jN))return e[jN](this);i=ag(i);let r,o=ps(this),s=si(void 0);try{if(!(i&Pe.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=Y$(e)&&og(e);u&&this.injectableDefInScope(u)?l=pc(ME(e),Am):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Pe.Self?cg():this.parent;return t=i&Pe.Optional&&t===Yd?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[km]=a[km]||[]).unshift(Kn(e)),o)throw a;return _$(a,e,"R3InjectorError",this.source)}else throw a}finally{si(s),ps(o)}}resolveInjectorInitializers(){let e=ke(null),t=ps(this),i=si(void 0),r;try{let o=this.get(Ec,ai,Pe.Self);for(let s of o)s()}finally{ps(t),si(i),ke(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Kn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(e){e=Wn(e);let t=wc(e)?e:Wn(e&&e.provide),i=W$(e);if(!wc(e)&&e.multi===!0){let r=this.records.get(t);r||(r=pc(void 0,Am,!0),r.factory=()=>SE(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=ke(null);try{return t.value===Am&&(t.value=q$,t.value=t.factory()),typeof t.value=="object"&&t.value&&Q$(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ke(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Wn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function ME(n){let e=og(n),t=e!==null?e.factory:Ia(n);if(t!==null)return t;if(n instanceof se)throw new le(204,!1);if(n instanceof Function)return z$(n);throw new le(204,!1)}function z$(n){if(n.length>0)throw new le(204,!1);let t=n$(n);return t!==null?()=>t.factory(n):()=>new n}function W$(n){if(ZM(n))return pc(void 0,n.useValue);{let e=XM(n);return pc(e,Am)}}function XM(n,e,t){let i;if(wc(n)){let r=Wn(n);return Ia(r)||ME(r)}else if(ZM(n))i=()=>Wn(n.useValue);else if(H$(n))i=()=>n.useFactory(...SE(n.deps||[]));else if(U$(n))i=()=>te(Wn(n.useExisting));else{let r=Wn(n&&(n.useClass||n.provide));if(K$(n))i=()=>new r(...SE(n.deps));else return Ia(r)||ME(r)}return i}function pc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function K$(n){return!!n.deps}function Q$(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Y$(n){return typeof n=="function"||typeof n=="object"&&n instanceof se}function xE(n,e){for(let t of n)Array.isArray(t)?xE(t,e):t&&OM(t)?xE(t.\u0275providers,e):e(t)}function Ur(n,e){n instanceof Zd&&n.assertNotDestroyed();let t,i=ps(n),r=si(void 0);try{return e()}finally{ps(i),si(r)}}function ex(){return PM()!==void 0||p$()!=null}function ug(n){if(!ex())throw new le(-203,!1)}function J$(n){let e=Rt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function Z$(n){return typeof n=="function"}var Mo=0,be=1,ve=2,bn=3,lr=4,Di=5,bc=6,Xd=7,Pn=8,Dc=9,cr=10,_t=11,eh=12,zN=13,Sc=14,Bi=15,dh=16,mc=17,To=18,dg=19,tx=20,ms=21,uE=22,Ta=23,Dn=25,nx=1;var Sa=7,Lm=8,Cc=9,kn=10,Bw=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Bw||{});function Da(n){return Array.isArray(n)&&typeof n[nx]=="object"}function xo(n){return Array.isArray(n)&&n[nx]===!0}function jw(n){return(n.flags&4)!==0}function hg(n){return n.componentOffset>-1}function fg(n){return(n.flags&1)===1}function gs(n){return!!n.template}function X$(n){return(n[ve]&512)!==0}var RE=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function ix(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function In(){return rx}function rx(n){return n.type.prototype.ngOnChanges&&(n.setInput=tU),eU}In.ngInherit=!0;function eU(){let n=sx(this),e=n?.current;if(e){let t=n.previous;if(t===vc)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function tU(n,e,t,i,r){let o=this.declaredInputs[i],s=sx(n)||nU(n,{previous:vc,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new RE(u&&u.currentValue,t,l===vc),ix(n,e,r,t)}var ox="__ngSimpleChanges__";function sx(n){return n[ox]||null}function nU(n,e){return n[ox]=e}var WN=null;var Vr=function(n,e,t){WN?.(n,e,t)},iU="svg",rU="math",oU=!1;function sU(){return oU}function jr(n){for(;Array.isArray(n);)n=n[Mo];return n}function ax(n,e){return jr(e[n])}function ji(n,e){return jr(e[n.index])}function $w(n,e){return n.data[e]}function Uw(n,e){return n[e]}function Es(n,e){let t=e[n];return Da(t)?t:t[Mo]}function aU(n){return(n[ve]&4)===4}function Hw(n){return(n[ve]&128)===128}function lU(n){return xo(n[bn])}function Ic(n,e){return e==null?null:n[e]}function lx(n){n[mc]=0}function cU(n){n[ve]&1024||(n[ve]|=1024,Hw(n)&&th(n))}function uU(n,e){for(;n>0;)e=e[Sc],n--;return e}function Gw(n){return!!(n[ve]&9216||n[Ta]?.dirty)}function OE(n){n[cr].changeDetectionScheduler?.notify(1),Gw(n)?th(n):n[ve]&64&&(sU()?(n[ve]|=1024,th(n)):n[cr].changeDetectionScheduler?.notify())}function th(n){n[cr].changeDetectionScheduler?.notify();let e=nh(n);for(;e!==null&&!(e[ve]&8192||(e[ve]|=8192,!Hw(e)));)e=nh(e)}function cx(n,e){if((n[ve]&256)===256)throw new le(911,!1);n[ms]===null&&(n[ms]=[]),n[ms].push(e)}function dU(n,e){if(n[ms]===null)return;let t=n[ms].indexOf(e);t!==-1&&n[ms].splice(t,1)}function nh(n){let e=n[bn];return xo(e)?e[bn]:e}var Oe={lFrame:_x(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hU(){return Oe.lFrame.elementDepthCount}function fU(){Oe.lFrame.elementDepthCount++}function pU(){Oe.lFrame.elementDepthCount--}function ux(){return Oe.bindingsEnabled}function dx(){return Oe.skipHydrationRootTNode!==null}function mU(n){return Oe.skipHydrationRootTNode===n}function gU(){Oe.skipHydrationRootTNode=null}function Ce(){return Oe.lFrame.lView}function Dt(){return Oe.lFrame.tView}function $(n){return Oe.lFrame.contextLView=n,n[Pn]}function U(n){return Oe.lFrame.contextLView=null,n}function Fn(){let n=hx();for(;n!==null&&n.type===64;)n=n.parent;return n}function hx(){return Oe.lFrame.currentTNode}function _U(){let n=Oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Pa(n,e){let t=Oe.lFrame;t.currentTNode=n,t.isParent=e}function qw(){return Oe.lFrame.isParent}function zw(){Oe.lFrame.isParent=!1}function yU(){return Oe.lFrame.contextLView}function hh(){let n=Oe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function vU(n){return Oe.lFrame.bindingIndex=n}function ka(){return Oe.lFrame.bindingIndex++}function fx(n){let e=Oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function EU(){return Oe.lFrame.inI18n}function wU(n,e){let t=Oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,PE(e)}function bU(){return Oe.lFrame.currentDirectiveIndex}function PE(n){Oe.lFrame.currentDirectiveIndex=n}function DU(n){let e=Oe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function px(){return Oe.lFrame.currentQueryIndex}function Ww(n){Oe.lFrame.currentQueryIndex=n}function CU(n){let e=n[be];return e.type===2?e.declTNode:e.type===1?n[Di]:null}function mx(n,e,t){if(t&Pe.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&Pe.Host);)if(r=CU(o),r===null||(o=o[Sc],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=Oe.lFrame=gx();return i.currentTNode=e,i.lView=n,!0}function Kw(n){let e=gx(),t=n[be];Oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function gx(){let n=Oe.lFrame,e=n===null?null:n.child;return e===null?_x(n):e}function _x(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function yx(){let n=Oe.lFrame;return Oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var vx=yx;function Qw(){let n=yx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function IU(n){return(Oe.lFrame.contextLView=uU(n,Oe.lFrame.contextLView))[Pn]}function ws(){return Oe.lFrame.selectedIndex}function Aa(n){Oe.lFrame.selectedIndex=n}function pg(){let n=Oe.lFrame;return $w(n.tView,n.selectedIndex)}function TU(){return Oe.lFrame.currentNamespace}var Ex=!0;function mg(){return Ex}function gg(n){Ex=n}function SU(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=rx(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function _g(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Nm(n,e,t){wx(n,e,3,t)}function Mm(n,e,t,i){(n[ve]&3)===t&&wx(n,e,t,i)}function dE(n,e){let t=n[ve];(t&3)===e&&(t&=16383,t+=1,n[ve]=t)}function wx(n,e,t,i){let r=i!==void 0?n[mc]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[mc]+=65536),(a<o||o==-1)&&(AU(n,t,e,l),n[mc]=(n[mc]&4294901760)+l+2),l++}function KN(n,e){Vr(4,n,e);let t=ke(null);try{e.call(n)}finally{ke(t),Vr(5,n,e)}}function AU(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[ve]>>14<n[mc]>>16&&(n[ve]&3)===e&&(n[ve]+=16384,KN(a,o)):KN(a,o)}var yc=-1,Na=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function NU(n){return n instanceof Na}function MU(n){return(n.flags&8)!==0}function xU(n){return(n.flags&16)!==0}function bx(n){return n!==yc}function Bm(n){return n&32767}function RU(n){return n>>16}function jm(n,e){let t=RU(n),i=e;for(;t>0;)i=i[Sc],t--;return i}var kE=!0;function $m(n){let e=kE;return kE=n,e}var OU=256,Dx=OU-1,Cx=5,PU=0,Lr={};function kU(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Kd)&&(i=t[Kd]),i==null&&(i=t[Kd]=PU++);let r=i&Dx,o=1<<r;e.data[n+(r>>Cx)]|=o}function Um(n,e){let t=Ix(n,e);if(t!==-1)return t;let i=e[be];i.firstCreatePass&&(n.injectorIndex=e.length,hE(i.data,n),hE(e,null),hE(i.blueprint,null));let r=Yw(n,e),o=n.injectorIndex;if(bx(r)){let s=Bm(r),a=jm(r,e),l=a[be].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=r,o}function hE(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ix(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Yw(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=Mx(r),i===null)return yc;if(t++,r=r[Sc],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return yc}function FE(n,e,t){kU(n,e,t)}function FU(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if($M(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function Tx(n,e,t){if(t&Pe.Optional||n!==void 0)return n;Rw(e,"NodeInjector")}function Sx(n,e,t,i){if(t&Pe.Optional&&i===void 0&&(i=null),!(t&(Pe.Self|Pe.Host))){let r=n[Dc],o=si(void 0);try{return r?r.get(e,i,t&Pe.Optional):kM(e,i,t&Pe.Optional)}finally{si(o)}}return Tx(i,e,t)}function Ax(n,e,t,i=Pe.Default,r){if(n!==null){if(e[ve]&2048&&!(i&Pe.Self)){let s=jU(n,e,t,i,Lr);if(s!==Lr)return s}let o=Nx(n,e,t,i,Lr);if(o!==Lr)return o}return Sx(e,t,i,r)}function Nx(n,e,t,i,r){let o=LU(t);if(typeof o=="function"){if(!mx(e,n,i))return i&Pe.Host?Tx(r,t,i):Sx(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&Pe.Optional))Rw(t);else return s}finally{vx()}}else if(typeof o=="number"){let s=null,a=Ix(n,e),l=yc,u=i&Pe.Host?e[Bi][Di]:null;for((a===-1||i&Pe.SkipSelf)&&(l=a===-1?Yw(n,e):e[a+8],l===yc||!YN(i,!1)?a=-1:(s=e[be],a=Bm(l),e=jm(l,e)));a!==-1;){let d=e[be];if(QN(o,a,d.data)){let f=VU(a,e,t,s,i,u);if(f!==Lr)return f}l=e[a+8],l!==yc&&YN(i,e[be].data[a+8]===u)&&QN(o,a,e)?(s=d,a=Bm(l),e=jm(l,e)):a=-1}}return r}function VU(n,e,t,i,r,o){let s=e[be],a=s.data[n+8],l=i==null?hg(a)&&kE:i!=s&&(a.type&3)!==0,u=r&Pe.Host&&o===a,d=xm(a,s,t,l,u);return d!==null?Ma(e,s,d,a):Lr}function xm(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,d=o>>20,f=i?a:a+d,m=r?a+d:u;for(let g=f;g<m;g++){let D=s[g];if(g<l&&t===D||g>=l&&D.type===t)return g}if(r){let g=s[l];if(g&&gs(g)&&g.type===t)return l}return null}function Ma(n,e,t,i){let r=n[t],o=e.data;if(NU(r)){let s=r;s.resolving&&c$(l$(o[t]));let a=$m(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?si(s.injectImpl):null,d=mx(n,i,Pe.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&SU(t,o[t],e)}finally{u!==null&&si(u),$m(a),s.resolving=!1,vx()}}return r}function LU(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Kd)?n[Kd]:void 0;return typeof e=="number"?e>=0?e&Dx:BU:e}function QN(n,e,t){let i=1<<n;return!!(t[e+(n>>Cx)]&i)}function YN(n,e){return!(n&Pe.Self)&&!(n&Pe.Host&&e)}var Ca=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Ax(this._tNode,this._lView,e,ag(i),t)}};function BU(){return new Ca(Fn(),Ce())}function ci(n){return ch(()=>{let e=n.prototype.constructor,t=e[Pm]||VE(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Pm]||VE(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function VE(n){return NM(n)?()=>{let e=VE(Wn(n));return e&&e()}:Ia(n)}function jU(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[ve]&2048&&!(s[ve]&512);){let a=Nx(o,s,t,i|Pe.Self,Lr);if(a!==Lr)return a;let l=o.parent;if(!l){let u=s[tx];if(u){let d=u.get(t,Lr,i);if(d!==Lr)return d}l=Mx(s),s=s[Sc]}o=l}return r}function Mx(n){let e=n[be],t=e.type;return t===2?e.declTNode:t===1?n[Di]:null}function yg(n){return FU(Fn(),n)}function JN(n,e=null,t=null,i){let r=xx(n,e,t,i);return r.resolveInjectorInitializers(),r}function xx(n,e=null,t=null,i,r=new Set){let o=[t||ai,j$(n)];return i=i||(typeof n=="object"?void 0:Kn(n)),new Zd(o,e||cg(),i||null,r)}var Ye=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Yd}static{this.NULL=new Vm}static create(t,i){if(Array.isArray(t))return JN({name:""},i,t,"");{let r=t.name??"";return JN({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=ee({token:n,providedIn:"any",factory:()=>te(LM)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var $U="ngOriginalError";function fE(n){return n[$U]}var ur=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&fE(e);for(;t&&fE(t);)t=fE(t);return t||null}},Rx=new se("",{providedIn:"root",factory:()=>R(ur).handleError.bind(void 0)}),Ro=(()=>{class n{static{this.__NG_ELEMENT_ID__=UU}static{this.__NG_ENV_ID__=t=>t}}return n})(),LE=class extends Ro{constructor(e){super(),this._lView=e}onDestroy(e){return cx(this._lView,e),()=>dU(this._lView,e)}};function UU(){return new LE(Ce())}var BE=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=R(ur,{optional:!0}),this.destroyRef=R(Ro),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new le(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed)throw new le(953,!1);if(this.listeners===null)return;let t=ke(null);try{for(let i of this.listeners)try{i(e)}catch(r){this.errorHandler?.handleError(r)}}finally{ke(t)}}};function HU(){return Ac(Fn(),Ce())}function Ac(n,e){return new nt(ji(n,e))}var nt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=HU}}return n})();function GU(n){return n instanceof nt?n.nativeElement:n}var jE=class extends Fe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,ex()&&(this.destroyRef=R(Ro,{optional:!0})??void 0)}emit(e){let t=ke(null);try{super.next(e)}finally{ke(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=pE(o),r&&(r=pE(r)),s&&(s=pE(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Mt&&e.add(a),a}};function pE(n){return e=>{setTimeout(n,void 0,e)}}var Re=jE;function qU(){return this._results[Symbol.iterator]()}var $E=class n{get changes(){return this._changes??=new Re}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=qU)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=E$(e);(this._changesDetected=!v$(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Ox(n){return(n.flags&128)===128}var Px=new Map,zU=0;function WU(){return zU++}function KU(n){Px.set(n[dg],n)}function QU(n){Px.delete(n[dg])}var ZN="__ngContext__";function _s(n,e){Da(e)?(n[ZN]=e[dg],KU(e)):n[ZN]=e}function kx(n){return Vx(n[eh])}function Fx(n){return Vx(n[lr])}function Vx(n){for(;n!==null&&!xo(n);)n=n[lr];return n}var UE;function Lx(n){UE=n}function YU(){if(UE!==void 0)return UE;if(typeof document<"u")return document;throw new le(210,!1)}var vg=new se("",{providedIn:"root",factory:()=>JU}),JU="ng",Jw=new se(""),Tn=new se("",{providedIn:"platform",factory:()=>"unknown"});var Zw=new se("",{providedIn:"root",factory:()=>YU().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZU="h",XU="b";var e4=()=>null;function Xw(n,e,t=!1){return e4(n,e,t)}var Bx=!1,t4=new se("",{providedIn:"root",factory:()=>Bx});var bm;function n4(){if(bm===void 0&&(bm=null,Rt.trustedTypes))try{bm=Rt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bm}function Eg(n){return n4()?.createHTML(n)||n}var Dm;function i4(){if(Dm===void 0&&(Dm=null,Rt.trustedTypes))try{Dm=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Dm}function XN(n){return i4()?.createScriptURL(n)||n}var So=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${TM})`}},HE=class extends So{getTypeName(){return"HTML"}},GE=class extends So{getTypeName(){return"Style"}},qE=class extends So{getTypeName(){return"Script"}},zE=class extends So{getTypeName(){return"URL"}},WE=class extends So{getTypeName(){return"ResourceURL"}};function dr(n){return n instanceof So?n.changingThisBreaksApplicationSecurity:n}function bs(n,e){let t=r4(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${TM})`)}return t===e}function r4(n){return n instanceof So&&n.getTypeName()||null}function jx(n){return new HE(n)}function $x(n){return new GE(n)}function Ux(n){return new qE(n)}function Hx(n){return new zE(n)}function Gx(n){return new WE(n)}function o4(n){let e=new QE(n);return s4()?new KE(e):e}var KE=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Eg(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}},QE=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Eg(e),t}};function s4(){try{return!!new window.DOMParser().parseFromString(Eg(""),"text/html")}catch{return!1}}var a4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wg(n){return n=String(n),n.match(a4)?n:"unsafe:"+n}function Oo(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function fh(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var qx=Oo("area,br,col,hr,img,wbr"),zx=Oo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wx=Oo("rp,rt"),l4=fh(Wx,zx),c4=fh(zx,Oo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),u4=fh(Wx,Oo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),eM=fh(qx,c4,u4,l4),Kx=Oo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),d4=Oo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),h4=Oo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),f4=fh(Kx,d4,h4),p4=Oo("script,style,template"),YE=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=_4(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=g4(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=tM(e).toLowerCase();if(!eM.hasOwnProperty(t))return this.sanitizedSomething=!0,!p4.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!f4.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Kx[a]&&(l=wg(l)),this.buf.push(" ",s,'="',nM(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=tM(e).toLowerCase();eM.hasOwnProperty(t)&&!qx.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(nM(e))}};function m4(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function g4(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw Qx(e);return e}function _4(n){let e=n.firstChild;if(e&&m4(n,e))throw Qx(e);return e}function tM(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function Qx(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var y4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v4=/([^\#-~ |!])/g;function nM(n){return n.replace(/&/g,"&amp;").replace(y4,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(v4,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Cm;function Yx(n,e){let t=null;try{Cm=Cm||o4(n);let i=e?String(e):"";t=Cm.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Cm.getInertBodyElement(i)}while(i!==o);let a=new YE().sanitizeChildren(iM(t)||t);return Eg(a)}finally{if(t){let i=iM(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function iM(n){return"content"in n&&E4(n)?n.content:null}function E4(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Hr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Hr||{});function ph(n){let e=Zx();return e?e.sanitize(Hr.URL,n)||"":bs(n,"URL")?dr(n):wg(sg(n))}function eb(n){let e=Zx();if(e)return XN(e.sanitize(Hr.RESOURCE_URL,n)||"");if(bs(n,"ResourceURL"))return XN(dr(n));throw new le(904,!1)}function w4(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?eb:ph}function Jx(n,e,t){return w4(e,t)(n)}function Zx(){let n=Ce();return n&&n[cr].sanitizer}var b4=/^>|^->|<!--|-->|--!>|<!-$/g,D4=/(<|>)/g,C4="\u200B$1\u200B";function I4(n){return n.replace(b4,e=>e.replace(D4,C4))}function Xx(n){return n instanceof Function?n():n}function eR(n){return(n??R(Ye)).get(Tn)==="browser"}var Ao=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ao||{}),T4;function tb(n,e){return T4(n,e)}function gc(n,e,t,i,r){if(i!=null){let o,s=!1;xo(i)?o=i:Da(i)&&(s=!0,i=i[Mo]);let a=jr(i);n===0&&t!==null?r==null?oR(e,t,a):Hm(e,t,a,r||null,!0):n===1&&t!==null?Hm(e,t,a,r||null,!0):n===2?U4(e,a,s):n===3&&e.destroyNode(a),o!=null&&G4(e,n,o,t,r)}}function S4(n,e){return n.createText(e)}function A4(n,e,t){n.setValue(e,t)}function N4(n,e){return n.createComment(I4(e))}function tR(n,e,t){return n.createElement(e,t)}function M4(n,e){nR(n,e),e[Mo]=null,e[Di]=null}function x4(n,e,t,i,r,o){i[Mo]=r,i[Di]=e,Cg(n,i,t,1,r,o)}function nR(n,e){e[cr].changeDetectionScheduler?.notify(1),Cg(n,e,e[_t],2,null,null)}function R4(n){let e=n[eh];if(!e)return mE(n[be],n);for(;e;){let t=null;if(Da(e))t=e[eh];else{let i=e[kn];i&&(t=i)}if(!t){for(;e&&!e[lr]&&e!==n;)Da(e)&&mE(e[be],e),e=e[bn];e===null&&(e=n),Da(e)&&mE(e[be],e),t=e&&e[lr]}e=t}}function O4(n,e,t,i){let r=kn+i,o=t.length;i>0&&(t[r-1][lr]=e),i<o-kn?(e[lr]=t[r],VM(t,kn+i,e)):(t.push(e),e[lr]=null),e[bn]=t;let s=e[dh];s!==null&&t!==s&&P4(s,e);let a=e[To];a!==null&&a.insertView(n),OE(e),e[ve]|=128}function P4(n,e){let t=n[Cc],r=e[bn][bn][Bi];e[Bi]!==r&&(n[ve]|=Bw.HasTransplantedViews),t===null?n[Cc]=[e]:t.push(e)}function iR(n,e){let t=n[Cc],i=t.indexOf(e);t.splice(i,1)}function ih(n,e){if(n.length<=kn)return;let t=kn+e,i=n[t];if(i){let r=i[dh];r!==null&&r!==n&&iR(r,i),e>0&&(n[t-1][lr]=i[lr]);let o=Fm(n,kn+e);M4(i[be],i);let s=o[To];s!==null&&s.detachView(o[be]),i[bn]=null,i[lr]=null,i[ve]&=-129}return i}function bg(n,e){if(!(e[ve]&256)){let t=e[_t];t.destroyNode&&Cg(n,e,t,3,null,null),R4(e)}}function mE(n,e){if(e[ve]&256)return;let t=ke(null);try{e[ve]&=-129,e[ve]|=256,e[Ta]&&lN(e[Ta]),F4(n,e),k4(n,e),e[be].type===1&&e[_t].destroy();let i=e[dh];if(i!==null&&xo(e[bn])){i!==e[bn]&&iR(i,e);let r=e[To];r!==null&&r.detachView(n)}QU(e)}finally{ke(t)}}function k4(n,e){let t=n.cleanup,i=e[Xd];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(e[Xd]=null);let r=e[ms];if(r!==null){e[ms]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function F4(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Na)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Vr(4,a,l);try{l.call(a)}finally{Vr(5,a,l)}}else{Vr(4,r,o);try{o.call(r)}finally{Vr(5,r,o)}}}}}function rR(n,e,t){return V4(n,e.parent,t)}function V4(n,e,t){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return t[Mo];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===Br.None||o===Br.Emulated)return null}return ji(i,t)}}function Hm(n,e,t,i,r){n.insertBefore(e,t,i,r)}function oR(n,e,t){n.appendChild(e,t)}function rM(n,e,t,i,r){i!==null?Hm(n,e,t,i,r):oR(n,e,t)}function L4(n,e,t,i){n.removeChild(e,t,i)}function nb(n,e){return n.parentNode(e)}function B4(n,e){return n.nextSibling(e)}function sR(n,e,t){return $4(n,e,t)}function j4(n,e,t){return n.type&40?ji(n,t):null}var $4=j4,oM;function Dg(n,e,t,i){let r=rR(n,i,e),o=e[_t],s=i.parent||e[Di],a=sR(s,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)rM(o,r,t[l],a,!1);else rM(o,r,t,a,!1);oM!==void 0&&oM(o,i,e,t,r)}function Rm(n,e){if(e!==null){let t=e.type;if(t&3)return ji(e,n);if(t&4)return JE(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Rm(n,i);{let r=n[e.index];return xo(r)?JE(-1,r):jr(r)}}else{if(t&32)return tb(e,n)()||jr(n[e.index]);{let i=aR(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=nh(n[Bi]);return Rm(r,i)}else return Rm(n,e.next)}}}return null}function aR(n,e){if(e!==null){let i=n[Bi][Di],r=e.projection;return i.projection[r]}return null}function JE(n,e){let t=kn+n+1;if(t<e.length){let i=e[t],r=i[be].firstChild;if(r!==null)return Rm(i,r)}return e[Sa]}function U4(n,e,t){let i=nb(n,e);i&&L4(n,i,e,t)}function ib(n,e,t,i,r,o,s){for(;t!=null;){let a=i[t.index],l=t.type;if(s&&e===0&&(a&&_s(jr(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)ib(n,e,t.child,i,r,o,!1),gc(e,n,r,a,o);else if(l&32){let u=tb(t,i),d;for(;d=u();)gc(e,n,r,d,o);gc(e,n,r,a,o)}else l&16?lR(n,e,i,t,r,o):gc(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Cg(n,e,t,i,r,o){ib(t,i,n.firstChild,e,r,o,!1)}function H4(n,e,t){let i=e[_t],r=rR(n,t,e),o=t.parent||e[Di],s=sR(o,t,e);lR(i,0,e,t,r,s)}function lR(n,e,t,i,r,o){let s=t[Bi],l=s[Di].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];gc(e,n,r,d,o)}else{let u=l,d=s[bn];Ox(i)&&(u.flags|=128),ib(n,e,u,d,r,o,!0)}}function G4(n,e,t,i,r){let o=t[Sa],s=jr(t);o!==s&&gc(e,n,i,o,r);for(let a=kn;a<t.length;a++){let l=t[a];Cg(l[be],l,n,e,i,o)}}function q4(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Ao.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ao.Important),n.setStyle(t,i,r,o))}}function z4(n,e,t){n.setAttribute(e,"style",t)}function cR(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function uR(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&AE(n,e,i),r!==null&&cR(n,e,r),o!==null&&z4(n,e,o)}var Gr={};function O(n=1){dR(Dt(),Ce(),ws()+n,!1)}function dR(n,e,t,i){if(!i)if((e[ve]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Nm(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Mm(e,o,0,t)}Aa(t)}function J(n,e=Pe.Default){let t=Ce();if(t===null)return te(n,e);let i=Fn();return Ax(i,t,Wn(n),e)}function hR(){let n="invalid";throw new Error(n)}function fR(n,e,t,i,r,o){let s=ke(null);try{let a=null;r&pt.SignalBased&&(a=e[i][Jl]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&pt.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,i):ix(e,a,i,o)}finally{ke(s)}}function W4(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Aa(~r);else{let o=r,s=t[++i],a=t[++i];wU(s,o);let l=e[o];a(2,l)}}}finally{Aa(-1)}}function Ig(n,e,t,i,r,o,s,a,l,u,d){let f=e.blueprint.slice();return f[Mo]=r,f[ve]=i|4|128|8|64,(u!==null||n&&n[ve]&2048)&&(f[ve]|=2048),lx(f),f[bn]=f[Sc]=n,f[Pn]=t,f[cr]=s||n&&n[cr],f[_t]=a||n&&n[_t],f[Dc]=l||n&&n[Dc]||null,f[Di]=o,f[dg]=WU(),f[bc]=d,f[tx]=u,f[Bi]=e.type==2?n[Bi]:f,f}function Nc(n,e,t,i,r){let o=n.data[e];if(o===null)o=K4(n,e,t,i,r),EU()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=_U();o.injectorIndex=s===null?-1:s.injectorIndex}return Pa(o,!0),o}function K4(n,e,t,i,r){let o=hx(),s=qw(),a=s?o:o&&o.parent,l=n.data[e]=eH(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function pR(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function mR(n,e,t,i,r){let o=ws(),s=i&2;try{Aa(-1),s&&e.length>Dn&&dR(n,e,Dn,!1),Vr(s?2:0,r),t(i,r)}finally{Aa(o),Vr(s?3:1,r)}}function rb(n,e,t){if(jw(e)){let i=ke(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{ke(i)}}}function ob(n,e,t){ux()&&(sH(n,e,t,ji(t,e)),(t.flags&64)===64&&yR(n,e,t))}function sb(n,e,t=ji){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function gR(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ab(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ab(n,e,t,i,r,o,s,a,l,u,d){let f=Dn+i,m=f+r,g=Q4(f,m),D=typeof u=="function"?u():u;return g[be]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:D,incompleteFirstPass:!1,ssrId:d}}function Q4(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Gr);return t}function Y4(n,e,t,i){let o=i.get(t4,Bx)||t===Br.ShadowDom,s=n.selectRootElement(e,o);return J4(s),s}function J4(n){Z4(n)}var Z4=()=>null;function X4(n,e,t,i){let r=wR(e);r.push(t),n.firstCreatePass&&bR(n).push(i,r.length-1)}function eH(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return dx()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sM(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,l=pt.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(r!==null){if(!r.hasOwnProperty(o))continue;u=r[o]}n===0?aM(i,t,u,a,l):aM(i,t,u,a)}return i}function aM(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],r!==void 0&&o.push(r)}function tH(n,e,t){let i=e.directiveStart,r=e.directiveEnd,o=n.data,s=e.attrs,a=[],l=null,u=null;for(let d=i;d<r;d++){let f=o[d],m=t?t.get(f):null,g=m?m.inputs:null,D=m?m.outputs:null;l=sM(0,f.inputs,d,l,g),u=sM(1,f.outputs,d,u,D);let I=l!==null&&s!==null&&!Fw(e)?_H(l,d,s):null;a.push(I)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function nH(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function lb(n,e,t,i,r,o,s,a){let l=ji(e,t),u=e.inputs,d;!a&&u!=null&&(d=u[i])?(ub(n,t,d,i,r),hg(e)&&iH(t,e.index)):e.type&3?(i=nH(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(l,i,r)):e.type&12}function iH(n,e){let t=Es(e,n);t[ve]&16||(t[ve]|=64)}function cb(n,e,t,i){if(ux()){let r=i===null?null:{"":-1},o=lH(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&_R(n,e,t,s,r,a),r&&cH(t,i,r)}t.mergedAttrs=Jd(t.mergedAttrs,t.attrs)}function _R(n,e,t,i,r,o){for(let u=0;u<i.length;u++)FE(Um(t,e),n,i[u].type);dH(t,n.data.length,i.length);for(let u=0;u<i.length;u++){let d=i[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=pR(n,e,i.length,null);for(let u=0;u<i.length;u++){let d=i[u];t.mergedAttrs=Jd(t.mergedAttrs,d.hostAttrs),hH(n,t,e,l,d),uH(l,d,r),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}tH(n,t,o)}function rH(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;oH(s)!=a&&s.push(a),s.push(t,i,o)}}function oH(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function sH(n,e,t,i){let r=t.directiveStart,o=t.directiveEnd;hg(t)&&fH(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Um(t,e),_s(i,e);let s=t.initialInputs;for(let a=r;a<o;a++){let l=n.data[a],u=Ma(e,n,a,t);if(_s(u,e),s!==null&&gH(e,a-r,u,l,t,s),gs(l)){let d=Es(t.index,e);d[Pn]=Ma(e,n,a,t)}}}function yR(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=bU();try{Aa(o);for(let a=i;a<r;a++){let l=n.data[a],u=e[a];PE(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&aH(l,u)}}finally{Aa(-1),PE(s)}}function aH(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function lH(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(HM(e,s.selectors,!1))if(i||(i=[]),gs(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;ZE(n,e,l)}else i.unshift(s),ZE(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function ZE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function cH(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new le(-301,!1);i.push(e[r],o)}}}function uH(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;gs(e)&&(t[""]=n)}}function dH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function hH(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=Ia(r.type,!0)),s=new Na(o,gs(r),J);n.blueprint[i]=s,t[i]=s,rH(n,e,i,pR(n,t,r.hostVars,Gr),r)}function fH(n,e,t){let i=ji(e,n),r=gR(t),o=n[cr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Tg(n,Ig(n,r,null,s,i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=a}function pH(n,e,t,i,r,o){let s=ji(n,e);mH(e[_t],s,o,n.value,t,i,r)}function mH(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?sg(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function gH(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],d=s[a++],f=s[a++];fR(i,t,l,u,d,f)}}function _H(n,e,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function vR(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function ER(n,e){let t=n.contentQueries;if(t!==null){let i=ke(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];Ww(o),a.contentQueries(2,e[s],s)}}}finally{ke(i)}}}function Tg(n,e){return n[eh]?n[zN][lr]=e:n[eh]=e,n[zN]=e,e}function XE(n,e,t){Ww(0);let i=ke(null);try{e(n,t)}finally{ke(i)}}function wR(n){return n[Xd]||(n[Xd]=[])}function bR(n){return n.cleanup||(n.cleanup=[])}function DR(n,e){let t=n[Dc],i=t?t.get(ur,null):null;i&&i.handleError(e)}function ub(n,e,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],u=e[s],d=n.data[s];fR(d,u,i,a,l,r)}}function yH(n,e,t){let i=ax(e,n);A4(n[_t],i,t)}function vH(n,e){let t=Es(e,n),i=t[be];EH(i,t);let r=t[Mo];r!==null&&t[bc]===null&&(t[bc]=Xw(r,t[Dc])),db(i,t,t[Pn])}function EH(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function db(n,e,t){Kw(e);try{let i=n.viewQuery;i!==null&&XE(1,i,t);let r=n.template;r!==null&&mR(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[To]?.finishViewCreation(n),n.staticContentQueries&&ER(n,e),n.staticViewQueries&&XE(2,n.viewQuery,t);let o=n.components;o!==null&&wH(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ve]&=-5,Qw()}}function wH(n,e){for(let t=0;t<e.length;t++)vH(n,e[t])}function Sg(n,e,t,i){let r=ke(null);try{let o=e.tView,a=n[ve]&4096?4096:16,l=Ig(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[e.index];l[dh]=u;let d=n[To];return d!==null&&(l[To]=d.createEmbeddedView(o)),db(o,l,t),l}finally{ke(r)}}function CR(n,e){let t=kn+e;if(t<n.length)return n[t]}function rh(n,e){return!e||e.firstChild===null||Ox(n)}function Ag(n,e,t,i=!0){let r=e[be];if(O4(r,e,n,t),i){let s=JE(t,n),a=e[_t],l=nb(a,n[Sa]);l!==null&&x4(r,n[Di],a,e,l,s)}let o=e[bc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function IR(n,e){let t=ih(n,e);return t!==void 0&&bg(t[be],t),t}function Gm(n,e,t,i,r=!1){for(;t!==null;){let o=e[t.index];o!==null&&i.push(jr(o)),xo(o)&&bH(o,i);let s=t.type;if(s&8)Gm(n,e,t.child,i);else if(s&32){let a=tb(t,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=aR(e,t);if(Array.isArray(a))i.push(...a);else{let l=nh(e[Bi]);Gm(l[be],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function bH(n,e){for(let t=kn;t<n.length;t++){let i=n[t],r=i[be].firstChild;r!==null&&Gm(i[be],i,r,e)}n[Sa]!==n[Mo]&&e.push(n[Sa])}var TR=[];function DH(n){return n[Ta]??CH(n)}function CH(n){let e=TR.pop()??Object.create(TH);return e.lView=n,e}function IH(n){n.lView[Ta]!==n&&(n.lView=null,TR.push(n))}var TH=Me(Y({},Bv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{th(n.lView)},consumerOnSignalRead(){this.lView[Ta]=this}}),SR=100;function AR(n,e=!0,t=0){let i=n[cr],r=i.rendererFactory,o=!1;o||r.begin?.();try{SH(n,t)}catch(s){throw e&&DR(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function SH(n,e){ew(n,e);let t=0;for(;Gw(n);){if(t===SR)throw new le(103,!1);t++,ew(n,1)}}function AH(n,e,t,i){let r=e[ve];if((r&256)===256)return;let o=!1;!o&&e[cr].inlineEffectRunner?.flush(),Kw(e);let s=null,a=null;!o&&NH(n)&&(a=DH(e),s=sN(a));try{lx(e),vU(n.bindingStartIndex),t!==null&&mR(n,e,t,2,i);let l=(r&3)===3;if(!o)if(l){let f=n.preOrderCheckHooks;f!==null&&Nm(e,f,null)}else{let f=n.preOrderHooks;f!==null&&Mm(e,f,0,null),dE(e,0)}if(MH(e),NR(e,0),n.contentQueries!==null&&ER(n,e),!o)if(l){let f=n.contentCheckHooks;f!==null&&Nm(e,f)}else{let f=n.contentHooks;f!==null&&Mm(e,f,1),dE(e,1)}W4(n,e);let u=n.components;u!==null&&xR(e,u,0);let d=n.viewQuery;if(d!==null&&XE(2,d,i),!o)if(l){let f=n.viewCheckHooks;f!==null&&Nm(e,f)}else{let f=n.viewHooks;f!==null&&Mm(e,f,2),dE(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[uE]){for(let f of e[uE])f();e[uE]=null}o||(e[ve]&=-73)}catch(l){throw th(e),l}finally{a!==null&&(aN(a,s),IH(a)),Qw()}}function NH(n){return n.type!==2}function NR(n,e){for(let t=kx(n);t!==null;t=Fx(t))for(let i=kn;i<t.length;i++){let r=t[i];MR(r,e)}}function MH(n){for(let e=kx(n);e!==null;e=Fx(e)){if(!(e[ve]&Bw.HasTransplantedViews))continue;let t=e[Cc];for(let i=0;i<t.length;i++){let r=t[i],o=r[bn];cU(r)}}}function xH(n,e,t){let i=Es(e,n);MR(i,t)}function MR(n,e){Hw(n)&&ew(n,e)}function ew(n,e){let i=n[be],r=n[ve],o=n[Ta],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&jv(o)),o&&(o.dirty=!1),n[ve]&=-9217,s)AH(i,n,i.template,n[Pn]);else if(r&8192){NR(n,1);let a=i.components;a!==null&&xR(n,a,1)}}function xR(n,e,t){for(let i=0;i<e.length;i++)xH(n,e[i],t)}function hb(n){for(n[cr].changeDetectionScheduler?.notify();n;){n[ve]|=64;let e=nh(n);if(X$(n)&&!e)return n;n=e}return null}var xa=class{get rootNodes(){let e=this._lView,t=e[be];return Gm(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pn]}set context(e){this._lView[Pn]=e}get destroyed(){return(this._lView[ve]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bn];if(xo(e)){let t=e[Lm],i=t?t.indexOf(this):-1;i>-1&&(ih(e,i),Fm(t,i))}this._attachedToViewContainer=!1}bg(this._lView[be],this._lView)}onDestroy(e){cx(this._lView,e)}markForCheck(){hb(this._cdRefInjectingView||this._lView)}detach(){this._lView[ve]&=-129}reattach(){OE(this._lView),this._lView[ve]|=128}detectChanges(){this._lView[ve]|=1024,AR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,nR(this._lView[be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=e,OE(this._lView)}},$r=(()=>{class n{static{this.__NG_ELEMENT_ID__=PH}}return n})(),RH=$r,OH=class extends RH{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=Sg(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new xa(r)}};function PH(){return Ng(Fn(),Ce())}function Ng(n,e){return n.type&4?new OH(e,n,Ac(n,e)):null}var Kde=new RegExp(`^(\\d+)*(${XU}|${ZU})*(.*)`);var kH=()=>null;function oh(n,e){return kH(n,e)}var qm=class{},tw=class{},zm=class{};function FH(n){let e=Error(`No component factory found for ${Kn(n)}.`);return e[VH]=n,e}var VH="ngComponent";var nw=class{resolveComponentFactory(e){throw FH(e)}},Mg=(()=>{class n{static{this.NULL=new nw}}return n})(),sh=class{},qr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>LH()}}return n})();function LH(){let n=Ce(),e=Fn(),t=Es(e.index,n);return(Da(t)?t:n)[_t]}var BH=(()=>{class n{static{this.\u0275prov=ee({token:n,providedIn:"root",factory:()=>null})}}return n})(),gE={};var lM=new Set;function Mc(n){lM.has(n)||(lM.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function cM(...n){}function jH(){let n=typeof Rt.requestAnimationFrame=="function",e=Rt[n?"requestAnimationFrame":"setTimeout"],t=Rt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var ye=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=jH().nativeRequestAnimationFrame,HH(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new le(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,$H,cM,cM);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},$H={};function fb(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function UH(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Rt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,iw(n),n.isCheckStableRunning=!0,fb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),iw(n))}function HH(n){let e=()=>{UH(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(GH(a))return t.invokeTask(r,o,s,a);try{return uM(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),dM(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return uM(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),dM(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,iw(n),fb(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function iw(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function uM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function dM(n){n._nesting--,fb(n)}var rw=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function GH(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}function qH(n="zone.js",e){return n==="noop"?new rw:n==="zone.js"?new ye(e):n}var li=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(li||{}),RR={destroy(){}};function xg(n,e){!e&&ug(xg);let t=e?.injector??R(Ye);if(!eR(t))return RR;Mc("NgAfterRender");let i=t.get(Rg),r=i.handler??=new Km,o=e?.phase??li.MixedReadWrite,s=()=>{r.unregister(l),a()},a=t.get(Ro).onDestroy(s),l=Ur(t,()=>new Wm(o,n));return r.register(l),{destroy:s}}function Po(n,e){!e&&ug(Po);let t=e?.injector??R(Ye);if(!eR(t))return RR;Mc("NgAfterNextRender");let i=t.get(Rg),r=i.handler??=new Km,o=e?.phase??li.MixedReadWrite,s=()=>{r.unregister(l),a()},a=t.get(Ro).onDestroy(s),l=Ur(t,()=>new Wm(o,()=>{s(),n()}));return r.register(l),{destroy:s}}var Wm=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=R(ye),this.errorHandler=R(ur,{optional:!0}),R(qm,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Km=class{constructor(){this.executingCallbacks=!1,this.buckets={[li.EarlyRead]:new Set,[li.Write]:new Set,[li.MixedReadWrite]:new Set,[li.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Rg=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ee({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Qm(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=CE(r,a);else if(o==2){let l=a,u=e[++s];i=CE(i,l+": "+u+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Ym=class extends Mg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Io(e);return new Ra(t,this.ngModule)}};function hM(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let i=n[t];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}function zH(n){let e=n.toLowerCase();return e==="svg"?iU:e==="math"?rU:null}var ow=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=ag(i);let r=this.injector.get(e,gE,i);return r!==gE||t===gE?r:this.parentInjector.get(e,t,i)}},Ra=class extends zm{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=hM(e.inputs);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return hM(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=k$(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=ke(null);try{r=r||this.ngModule;let s=r instanceof wn?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new ow(e,s):e,l=a.get(sh,null);if(l===null)throw new le(407,!1);let u=a.get(BH,null),d=a.get(Rg,null),f=a.get(qm,null),m={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},g=l.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",I=i?Y4(g,i,this.componentDef.encapsulation,a):tR(g,D,zH(D)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let F=null;I!==null&&(F=Xw(I,a,!0));let H=ab(0,null,null,1,0,null,null,null,null,null,null),B=Ig(null,H,null,T,null,null,m,g,a,null,F);Kw(B);let G,Z;try{let X=this.componentDef,C,E=null;X.findHostDirectiveDefs?(C=[],E=new Map,X.findHostDirectiveDefs(X,C,E),C.push(X)):C=[X];let w=WH(B,I),S=KH(w,I,X,C,B,m,g);Z=$w(H,Dn),I&&JH(g,X,I,i),t!==void 0&&ZH(Z,this.ngContentSelectors,t),G=YH(S,X,C,E,B,[XH]),db(H,B,null)}finally{Qw()}return new sw(this.componentType,G,Ac(Z,B),B,Z)}finally{ke(o)}}},sw=class extends tw{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new xa(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;ub(o[be],o,r,e,t),this.previousInputValues.set(e,t);let s=Es(this._tNode.index,o);hb(s)}}get injector(){return new Ca(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function WH(n,e){let t=n[be],i=Dn;return n[i]=e,Nc(t,i,2,"#host",null)}function KH(n,e,t,i,r,o,s){let a=r[be];QH(i,n,e,s);let l=null;e!==null&&(l=Xw(e,r[Dc]));let u=o.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let f=Ig(r,gR(t),null,d,r[n.index],n,o,u,null,null,l);return a.firstCreatePass&&ZE(a,n,i.length-1),Tg(r,f),r[n.index]=f}function QH(n,e,t,i){for(let r of n)e.mergedAttrs=Jd(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Qm(e,e.mergedAttrs,!0),t!==null&&uR(i,t,e))}function YH(n,e,t,i,r,o){let s=Fn(),a=r[be],l=ji(s,r);_R(a,r,s,t,null,i);for(let d=0;d<t.length;d++){let f=s.directiveStart+d,m=Ma(r,a,f,s);_s(m,r)}yR(a,r,s),l&&_s(l,r);let u=Ma(r,a,s.directiveStart+s.componentOffset,s);if(n[Pn]=r[Pn]=u,o!==null)for(let d of o)d(u,e);return rb(a,s,r),u}function JH(n,e,t,i){if(i)AE(n,t,["ng-version","17.3.9"]);else{let{attrs:r,classes:o}=F$(e.selectors[0]);r&&AE(n,t,r),o&&o.length>0&&cR(n,t,o.join(" "))}}function ZH(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function XH(){let n=Fn();_g(Ce()[be],n)}var hr=(()=>{class n{static{this.__NG_ELEMENT_ID__=eG}}return n})();function eG(){let n=Fn();return PR(n,Ce())}var tG=hr,OR=class extends tG{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Ac(this._hostTNode,this._hostLView)}get injector(){return new Ca(this._hostTNode,this._hostLView)}get parentInjector(){let e=Yw(this._hostTNode,this._hostLView);if(bx(e)){let t=jm(e,this._hostLView),i=Bm(e),r=t[be].data[i+8];return new Ca(r,t)}else return new Ca(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=fM(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-kn}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=oh(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,rh(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!Z$(e),a;if(s)a=t;else{let D=t||{};a=D.index,i=D.injector,r=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let l=s?e:new Ra(Io(e)),u=i||this.parentInjector;if(!o&&l.ngModule==null){let I=(s?u:this.parentInjector).get(wn,null);I&&(o=I)}let d=Io(l.componentType??{}),f=oh(this._lContainer,d?.id??null),m=f?.firstChild??null,g=l.create(u,r,m,o);return this.insertImpl(g.hostView,a,rh(this._hostTNode,f)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(lU(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[bn],u=new OR(l,l[Di],l[bn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Ag(s,r,o,i),e.attachToViewContainerRef(),VM(_E(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=fM(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=ih(this._lContainer,t);i&&(Fm(_E(this._lContainer),t),bg(i[be],i))}detach(e){let t=this._adjustIndex(e,-1),i=ih(this._lContainer,t);return i&&Fm(_E(this._lContainer),t)!=null?new xa(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function fM(n){return n[Lm]}function _E(n){return n[Lm]||(n[Lm]=[])}function PR(n,e){let t,i=e[n.index];return xo(i)?t=i:(t=vR(i,e,null,n),e[n.index]=t,Tg(e,t)),iG(t,e,n,i),new OR(t,n,e)}function nG(n,e){let t=n[_t],i=t.createComment(""),r=ji(e,n),o=nb(t,r);return Hm(t,o,i,B4(t,r),!1),i}var iG=sG,rG=()=>!1;function oG(n,e,t){return rG(n,e,t)}function sG(n,e,t,i){if(n[Sa])return;let r;t.type&8?r=jr(i):r=nG(e,t),n[Sa]=r}var aw=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},lw=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)pb(e,t).matches!==null&&this.queries[t].setDirty()}},Jm=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=pG(e):this.predicate=e}},cw=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},uw=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,aG(t,o)),this.matchTNodeWithReadOption(e,t,xm(t,e,o,!1,!1))}else i===$r?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,xm(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===nt||r===hr||r===$r&&t.type&4)this.addMatch(t.index,-2);else{let o=xm(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function aG(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function lG(n,e){return n.type&11?Ac(n,e):n.type&4?Ng(n,e):null}function cG(n,e,t,i){return t===-1?lG(e,n):t===-2?uG(n,e,i):Ma(n,n[be],t,e)}function uG(n,e,t){if(t===nt)return Ac(e,n);if(t===$r)return Ng(e,n);if(t===hr)return PR(e,n)}function kR(n,e,t,i){let r=e[To].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let d=o[u];a.push(cG(e,d,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function dw(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=kR(n,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let u=o[a+1],d=e[-l];for(let f=kn;f<d.length;f++){let m=d[f];m[dh]===m[bn]&&dw(m[be],m,u,i)}if(d[Cc]!==null){let f=d[Cc];for(let m=0;m<f.length;m++){let g=f[m];dw(g[be],g,u,i)}}}}}return i}function dG(n,e){return n[To].queries[e].queryList}function FR(n,e,t){let i=new $E((t&4)===4);return X4(n,e,i,i.destroy),(e[To]??=new lw).queries.push(new aw(i))-1}function hG(n,e,t){let i=Dt();return i.firstCreatePass&&(VR(i,new Jm(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),FR(i,Ce(),e)}function fG(n,e,t,i){let r=Dt();if(r.firstCreatePass){let o=Fn();VR(r,new Jm(e,t,i),o.index),mG(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return FR(r,Ce(),t)}function pG(n){return n.split(",").map(e=>e.trim())}function VR(n,e,t){n.queries===null&&(n.queries=new cw),n.queries.track(new uw(e,t))}function mG(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function pb(n,e){return n.queries.getByIndex(e)}function gG(n,e){let t=n[be],i=pb(t,e);return i.crossesNgTemplate?dw(t,n,e,[]):kR(t,n,i,e)}function _G(n){return typeof n=="function"&&n[Jl]!==void 0}function yG(){let n=this[Jl];if(n.readonlyFn===void 0){let e=()=>this();e[Jl]=n,n.readonlyFn=e}return n.readonlyFn}function LR(n){return _G(n)&&typeof n.set=="function"}function BR(n){let e=Object.create(Zj),t=new BE;e.value=n;function i(){return rN(e),pM(e.value),e.value}return i[Jl]=e,i.asReadonly=yG.bind(i),i.set=r=>{e.equal(e.value,r)||($v(e,r),t.emit(r))},i.update=r=>{pM(e.value),i.set(r(e.value))},i.subscribe=t.subscribe.bind(t),i.destroyRef=t.destroyRef,i}function pM(n){if(n===SM)throw new le(-952,!1)}function mM(n){return BR(n)}function vG(){return BR(SM)}var jR=(mM.required=vG,mM);function EG(n){let e=[],t=new Map;function i(r){let o=t.get(r);if(!o){let s=n(r);t.set(r,o=s.then(CG))}return o}return Zm.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(u=>{r.template=u}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let u=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((f,m)=>{a.push(""),s.push(i(f).then(g=>{a[u+m]=g,d.splice(d.indexOf(f),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(u=>{a.push(u),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>IG(o));e.push(l)}),bG(),Promise.all(e).then(()=>{})}var Zm=new Map,wG=new Set;function bG(){let n=Zm;return Zm=new Map,n}function DG(){return Zm.size===0}function CG(n){return typeof n=="string"?n:n.text()}function IG(n){wG.delete(n)}function TG(n){return Object.getPrototypeOf(n.prototype).constructor}function $i(n){let e=TG(n.type),t=!0,i=[n];for(;e;){let r;if(gs(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new le(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=Im(n.inputs),s.inputTransforms=Im(n.inputTransforms),s.declaredInputs=Im(n.declaredInputs),s.outputs=Im(n.outputs);let a=r.hostBindings;a&&xG(n,a);let l=r.viewQuery,u=r.contentQueries;if(l&&NG(n,l),u&&MG(n,u),SG(n,r),e$(n.outputs,r.outputs),gs(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===$i&&(t=!1)}}e=Object.getPrototypeOf(e)}AG(i)}function SG(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function AG(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Jd(r.hostAttrs,t=Jd(t,r.hostAttrs))}}function Im(n){return n===vc?{}:n===ai?[]:n}function NG(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function MG(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function xG(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function mb(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var ys=class{},ah=class{};var Xm=class extends ys{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ym(this);let r=WM(e);this._bootstrapComponents=Xx(r.bootstrap),this._r3Injector=xx(e,t,[{provide:ys,useValue:this},{provide:Mg,useValue:this.componentFactoryResolver},...i],Kn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},eg=class extends ah{constructor(e){super(),this.moduleType=e}create(e){return new Xm(this.moduleType,e,[])}};function RG(n,e,t){return new Xm(n,e,t)}var hw=class extends ys{constructor(e){super(),this.componentFactoryResolver=new Ym(this),this.instance=null;let t=new Zd([...e.providers,{provide:ys,useValue:this},{provide:Mg,useValue:this.componentFactoryResolver}],e.parent||cg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Og(n,e,t=null){return new hw({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Pg=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new un(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $R(n){return PG(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function OG(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function PG(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function kg(n,e,t){return n[e]=t}function kG(n,e){return n[e]}function bi(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function UR(n,e,t,i){let r=bi(n,e,t);return bi(n,e+1,i)||r}function FG(n,e,t,i,r){let o=UR(n,e,t,i);return bi(n,e+2,r)||o}function VG(n){return(n.flags&32)===32}function LG(n,e,t,i,r,o,s,a,l){let u=e.consts,d=Nc(e,n,4,s||null,Ic(u,a));cb(e,t,d,Ic(u,l)),_g(e,d);let f=d.tView=ab(2,d,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function he(n,e,t,i,r,o,s,a){let l=Ce(),u=Dt(),d=n+Dn,f=u.firstCreatePass?LG(d,u,l,e,t,i,r,o,s):u.data[d];Pa(f,!1);let m=BG(u,l,f,n);mg()&&Dg(u,l,m,f),_s(m,l);let g=vR(m,l,m,f);return l[d]=g,Tg(l,g),oG(g,f,l),fg(f)&&ob(u,l,f),s!=null&&sb(l,f,a),he}var BG=jG;function jG(n,e,t,i){return gg(!0),e[_t].createComment("")}function zr(n,e,t,i){let r=Ce(),o=ka();if(bi(r,o,e)){let s=Dt(),a=pg();pH(a,r,n,e,t,i)}return zr}function $G(n,e,t,i){return bi(n,ka(),t)?e+sg(t)+i:Gr}function Tm(n,e){return n<<17|e<<2}function Oa(n){return n>>17&32767}function UG(n){return(n&2)==2}function HG(n,e){return n&131071|e<<17}function fw(n){return n|2}function Tc(n){return(n&131068)>>2}function yE(n,e){return n&-131069|e<<2}function GG(n){return(n&1)===1}function pw(n){return n|1}function qG(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Oa(s),l=Tc(s);n[i]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||uh(f,d)>0)&&(u=!0)}else d=t;if(r)if(l!==0){let m=Oa(n[a+1]);n[i+1]=Tm(m,a),m!==0&&(n[m+1]=yE(n[m+1],i)),n[a+1]=HG(n[a+1],i)}else n[i+1]=Tm(a,0),a!==0&&(n[a+1]=yE(n[a+1],i)),a=i;else n[i+1]=Tm(l,0),a===0?a=i:n[l+1]=yE(n[l+1],i),l=i;u&&(n[i+1]=fw(n[i+1])),gM(n,d,i,!0),gM(n,d,i,!1),zG(e,d,n,i,o),s=Tm(a,l),o?e.classBindings=s:e.styleBindings=s}function zG(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&uh(o,e)>=0&&(t[i+1]=pw(t[i+1]))}function gM(n,e,t,i){let r=n[t+1],o=e===null,s=i?Oa(r):Tc(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];WG(l,e)&&(a=!0,n[s+1]=i?pw(u):fw(u)),s=i?Oa(u):Tc(u)}a&&(n[t+1]=i?fw(r):pw(r))}function WG(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?uh(n,e)>=0:!1}var ar={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function KG(n){return n.substring(ar.key,ar.keyEnd)}function QG(n){return YG(n),HR(n,GR(n,0,ar.textEnd))}function HR(n,e){let t=ar.textEnd;return t===e?-1:(e=ar.keyEnd=JG(n,ar.key=e,t),GR(n,e,t))}function YG(n){ar.key=0,ar.keyEnd=0,ar.value=0,ar.valueEnd=0,ar.textEnd=n.length}function GR(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function JG(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function K(n,e,t){let i=Ce(),r=ka();if(bi(i,r,e)){let o=Dt(),s=pg();lb(o,s,i,n,e,i[_t],t,!1)}return K}function mw(n,e,t,i,r){let o=e.inputs,s=r?"class":"style";ub(n,t,o[s],s,i)}function xc(n,e,t){return qR(n,e,t,!1),xc}function Vn(n,e){return qR(n,e,null,!0),Vn}function Fg(n){XG(o5,ZG,n,!0)}function ZG(n,e){for(let t=QG(e);t>=0;t=HR(e,t))kw(n,KG(e),!0)}function qR(n,e,t,i){let r=Ce(),o=Dt(),s=fx(2);if(o.firstUpdatePass&&WR(o,n,s,i),e!==Gr&&bi(r,s,e)){let a=o.data[ws()];KR(o,a,r,r[_t],n,r[s+1]=a5(e,t),i,s)}}function XG(n,e,t,i){let r=Dt(),o=fx(2);r.firstUpdatePass&&WR(r,null,o,i);let s=Ce();if(t!==Gr&&bi(s,o,t)){let a=r.data[ws()];if(QR(a,i)&&!zR(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=CE(l,t||"")),mw(r,a,s,t,i)}else s5(r,a,s,s[_t],s[o+1],s[o+1]=r5(n,e,t),i,o)}}function zR(n,e){return e>=n.expandoStartIndex}function WR(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[ws()],s=zR(n,t);QR(o,i)&&e===null&&!s&&(e=!1),e=e5(r,o,e,i),qG(r,o,e,t,s,i)}}function e5(n,e,t,i){let r=DU(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=vE(null,n,e,t,i),t=lh(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=vE(r,n,e,t,i),o===null){let l=t5(n,e,i);l!==void 0&&Array.isArray(l)&&(l=vE(null,n,e,l[1],i),l=lh(l,e.attrs,i),n5(n,e,i,l))}else o=i5(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function t5(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Tc(i)!==0)return n[Oa(i)]}function n5(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Oa(r)]=i}function i5(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=lh(i,s,t)}return lh(i,e.attrs,t)}function vE(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=lh(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function lh(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),kw(n,s,t?!0:e[++o]))}return n===void 0?null:n}function r5(n,e,t){if(t==null||t==="")return ai;let i=[],r=dr(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function o5(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&kw(n,i,t)}function s5(n,e,t,i,r,o,s,a){r===Gr&&(r=ai);let l=0,u=0,d=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let m=l<r.length?r[l+1]:void 0,g=u<o.length?o[u+1]:void 0,D=null,I;d===f?(l+=2,u+=2,m!==g&&(D=f,I=g)):f===null||d!==null&&d<f?(l+=2,D=d):(u+=2,D=f,I=g),D!==null&&KR(n,e,t,i,D,I,s,a),d=l<r.length?r[l]:null,f=u<o.length?o[u]:null}}function KR(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],d=GG(u)?_M(l,e,t,r,Tc(u),s):void 0;if(!tg(d)){tg(o)||UG(u)&&(o=_M(l,null,t,r,a,s));let f=ax(ws(),t);q4(i,s,f,r,o)}}function _M(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let l=n[r],u=Array.isArray(l),d=u?l[1]:l,f=d===null,m=t[r+1];m===Gr&&(m=f?ai:void 0);let g=f?lE(m,i):d===i?m:void 0;if(u&&!tg(g)&&(g=lE(l,i)),tg(g)&&(a=g,s))return a;let D=n[r+1];r=s?Oa(D):Tc(D)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=lE(l,i))}return a}function tg(n){return n!==void 0}function a5(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Kn(dr(n)))),n}function QR(n,e){return(n.flags&(e?8:16))!==0}var gw=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function EE(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function l5(n,e,t){let i,r,o=0,s=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let l=n.at(o),u=e[o],d=EE(o,l,o,u,t);if(d!==0){d<0&&n.updateValue(o,u),o++;continue}let f=n.at(s),m=e[a],g=EE(s,f,a,m,t);if(g!==0){g<0&&n.updateValue(s,m),s--,a--;continue}let D=t(o,l),I=t(s,f),T=t(o,u);if(Object.is(T,I)){let F=t(a,m);Object.is(F,D)?(n.swap(o,s),n.updateValue(s,m),a--,s--):n.move(s,o),n.updateValue(o,u),o++;continue}if(i??=new ng,r??=vM(n,o,s,t),_w(n,i,o,T))n.updateValue(o,u),o++,s++;else if(r.has(T))i.set(D,n.detach(o)),s--;else{let F=n.create(o,e[o]);n.attach(o,F),o++,s++}}for(;o<=a;)yM(n,i,t,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),l=a.next();for(;!l.done&&o<=s;){let u=n.at(o),d=l.value,f=EE(o,u,o,d,t);if(f!==0)f<0&&n.updateValue(o,d),o++,l=a.next();else{i??=new ng,r??=vM(n,o,s,t);let m=t(o,d);if(_w(n,i,o,m))n.updateValue(o,d),o++,s++,l=a.next();else if(!r.has(m))n.attach(o,n.create(o,d)),o++,s++,l=a.next();else{let g=t(o,u);i.set(g,n.detach(o)),s--}}}for(;!l.done;)yM(n,i,t,n.length,l.value),l=a.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(a=>{n.destroy(a)})}function _w(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function yM(n,e,t,i,r){if(_w(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function vM(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var ng=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function Ui(n,e,t){Mc("NgControlFlow");let i=Ce(),r=ka(),o=ww(i,Dn+n),s=0;if(bi(i,r,e)){let a=ke(null);try{if(IR(o,s),e!==-1){let l=bw(i[be],Dn+e),u=oh(o,l.tView.ssrId),d=Sg(i,l,t,{dehydratedView:u});Ag(o,d,s,rh(l,u))}}finally{ke(a)}}else{let a=CR(o,s);a!==void 0&&(a[Pn]=t)}}var yw=class{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-kn}};function Ds(n){return n}function Fa(n,e){return e}var vw=class{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function ui(n,e,t,i,r,o,s,a,l,u,d,f,m){Mc("NgControlFlow");let g=l!==void 0,D=Ce(),I=a?s.bind(D[Bi][Pn]):s,T=new vw(g,I);D[Dn+n]=T,he(n+1,e,t,i,r,o),g&&he(n+2,l,u,d,f,m)}var Ew=class extends gw{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-kn}at(e){return this.getLView(e)[Pn].$implicit}attach(e,t){let i=t[bc];this.needsIndexUpdate||=e!==this.length,Ag(this.lContainer,t,e,rh(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,c5(this.lContainer,e)}create(e,t){let i=oh(this.lContainer,this.templateTNode.tView.ssrId);return Sg(this.hostLView,this.templateTNode,new yw(this.lContainer,t,e),{dehydratedView:i})}destroy(e){bg(e[be],e)}updateValue(e,t){this.getLView(e)[Pn].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Pn].$index=e}getLView(e){return u5(this.lContainer,e)}};function di(n){let e=ke(null),t=ws();try{let i=Ce(),r=i[be],o=i[t];if(o.liveCollection===void 0){let a=t+1,l=ww(i,a),u=bw(r,a);o.liveCollection=new Ew(l,i,u)}else o.liveCollection.reset();let s=o.liveCollection;if(l5(s,n,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=ka(),l=s.length===0;if(bi(i,a,l)){let u=t+2,d=ww(i,u);if(l){let f=bw(r,u),m=oh(d,f.tView.ssrId),g=Sg(i,f,void 0,{dehydratedView:m});Ag(d,g,0,rh(f,m))}else IR(d,0)}}}finally{ke(e)}}function ww(n,e){return n[e]}function c5(n,e){return ih(n,e)}function u5(n,e){return CR(n,e)}function bw(n,e){return $w(n,e)}function d5(n,e,t,i,r,o){let s=e.consts,a=Ic(s,r),l=Nc(e,n,2,i,a);return cb(e,t,l,Ic(s,o)),l.attrs!==null&&Qm(l,l.attrs,!1),l.mergedAttrs!==null&&Qm(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function y(n,e,t,i){let r=Ce(),o=Dt(),s=Dn+n,a=r[_t],l=o.firstCreatePass?d5(s,o,r,e,t,i):o.data[s],u=h5(o,r,l,a,e,n);r[s]=u;let d=fg(l);return Pa(l,!0),uR(a,u,l),!VG(l)&&mg()&&Dg(o,r,u,l),hU()===0&&_s(u,r),fU(),d&&(ob(o,r,l),rb(o,l,r)),i!==null&&sb(r,l),y}function v(){let n=Fn();qw()?zw():(n=n.parent,Pa(n,!1));let e=n;mU(e)&&gU(),pU();let t=Dt();return t.firstCreatePass&&(_g(t,n),jw(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&MU(e)&&mw(t,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xU(e)&&mw(t,e,Ce(),e.stylesWithoutHost,!1),v}function ie(n,e,t,i){return y(n,e,t,i),v(),ie}var h5=(n,e,t,i,r,o)=>(gg(!0),tR(i,r,TU()));function f5(n,e,t,i,r){let o=e.consts,s=Ic(o,i),a=Nc(e,n,8,"ng-container",s);s!==null&&Qm(a,s,!0);let l=Ic(o,r);return cb(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Hi(n,e,t){let i=Ce(),r=Dt(),o=n+Dn,s=r.firstCreatePass?f5(o,r,i,e,t):r.data[o];Pa(s,!0);let a=p5(r,i,s,n);return i[o]=a,mg()&&Dg(r,i,a,s),_s(a,i),fg(s)&&(ob(r,i,s),rb(r,s,i)),t!=null&&sb(i,s),Hi}function Gi(){let n=Fn(),e=Dt();return qw()?zw():(n=n.parent,Pa(n,!1)),e.firstCreatePass&&(_g(e,n),jw(n)&&e.queries.elementEnd(n)),Gi}var p5=(n,e,t,i)=>(gg(!0),N4(e[_t],""));function Ee(){return Ce()}function Vg(n,e,t){let i=Ce(),r=ka();if(bi(i,r,e)){let o=Dt(),s=pg();lb(o,s,i,n,e,i[_t],t,!0)}return Vg}var ba=void 0;function m5(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var g5=["en",[["a","p"],["AM","PM"],ba],[["AM","PM"],ba,ba],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ba,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ba,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ba,"{1} 'at' {0}",ba],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",m5],wE={};function Ci(n){let e=_5(n),t=EM(e);if(t)return t;let i=e.split("-")[0];if(t=EM(i),t)return t;if(i==="en")return g5;throw new le(701,!1)}function EM(n){return n in wE||(wE[n]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[n]),wE[n]}var Ct=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ct||{});function _5(n){return n.toLowerCase().replace(/_/g,"-")}var ig="en-US";var y5=ig;function v5(n){typeof n=="string"&&(y5=n.toLowerCase().replace(/_/g,"-"))}function j(n,e,t,i){let r=Ce(),o=Dt(),s=Fn();return YR(o,r,r[_t],s,n,e,i),j}function E5(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[Xd],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function YR(n,e,t,i,r,o,s){let a=fg(i),u=n.firstCreatePass&&bR(n),d=e[Pn],f=wR(e),m=!0;if(i.type&3||s){let I=ji(i,e),T=s?s(I):I,F=f.length,H=s?G=>s(jr(G[i.index])):i.index,B=null;if(!s&&a&&(B=E5(n,e,r,i.index)),B!==null){let G=B.__ngLastListenerFn__||B;G.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,m=!1}else{o=bM(i,e,d,o,!1);let G=t.listen(T,r,o);f.push(o,G),u&&u.push(r,H,F,F+1)}}else o=bM(i,e,d,o,!1);let g=i.outputs,D;if(m&&g!==null&&(D=g[r])){let I=D.length;if(I)for(let T=0;T<I;T+=2){let F=D[T],H=D[T+1],Z=e[F][H].subscribe(o),X=f.length;f.push(o,Z),u&&u.push(r,i.index,X,-(X+1))}}}function wM(n,e,t,i){let r=ke(null);try{return Vr(6,e,t),t(i)!==!1}catch(o){return DR(n,o),!1}finally{Vr(7,e,t),ke(r)}}function bM(n,e,t,i,r){return function o(s){if(s===Function)return i;let a=n.componentOffset>-1?Es(n.index,e):e;hb(a);let l=wM(e,t,i,s),u=o.__ngNextListenerFn__;for(;u;)l=wM(e,t,u,s)&&l,u=u.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function z(n=1){return IU(n)}function w5(n,e){let t=null,i=M$(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?HM(n,o,!0):O$(i,o))return r}return t}function JR(n){let e=Ce()[Bi][Di];if(!e.projection){let t=n?n.length:1,i=e.projection=w$(t,null),r=i.slice(),o=e.child;for(;o!==null;){let s=n?w5(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function ZR(n,e=0,t){let i=Ce(),r=Dt(),o=Nc(r,Dn+n,16,null,t||null);o.projection===null&&(o.projection=e),zw(),(!i[bc]||dx())&&(o.flags&32)!==32&&H4(r,i,o)}function Va(n,e,t,i){fG(n,e,t,i)}function tn(n,e,t){hG(n,e,t)}function ct(n){let e=Ce(),t=Dt(),i=px();Ww(i+1);let r=pb(t,i);if(n.dirty&&aU(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=gG(e,i);n.reset(o,GU),n.notifyOnChanges()}return!0}return!1}function ut(){return dG(Ce(),px())}function b5(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function nn(n){let e=yU();return Uw(e,Dn+n)}function A(n,e=""){let t=Ce(),i=Dt(),r=n+Dn,o=i.firstCreatePass?Nc(i,r,1,e,null):i.data[r],s=D5(i,t,o,e,n);t[r]=s,mg()&&Dg(i,t,s,o),Pa(o,!1)}var D5=(n,e,t,i,r)=>(gg(!0),S4(e[_t],i));function Be(n){return ze("",n,""),Be}function ze(n,e,t){let i=Ce(),r=$G(i,n,e,t);return r!==Gr&&yH(i,ws(),r),ze}function Ot(n,e,t){LR(e)&&(e=e());let i=Ce(),r=ka();if(bi(i,r,e)){let o=Dt(),s=pg();lb(o,s,i,n,e,i[_t],t,!1)}return Ot}function Ut(n,e){let t=LR(n);return t&&n.set(e),t}function Pt(n,e){let t=Ce(),i=Dt(),r=Fn();return YR(i,t,t[_t],r,n,e),Pt}function C5(n,e,t){let i=Dt();if(i.firstCreatePass){let r=gs(n);Dw(t,i.data,i.blueprint,r,!0),Dw(e,i.data,i.blueprint,r,!1)}}function Dw(n,e,t,i,r){if(n=Wn(n),Array.isArray(n))for(let o=0;o<n.length;o++)Dw(n[o],e,t,i,r);else{let o=Dt(),s=Ce(),a=Fn(),l=wc(n)?n:Wn(n.provide),u=XM(n),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(wc(n)||!n.multi){let g=new Na(u,r,J),D=DE(l,e,r?d:d+m,f);D===-1?(FE(Um(a,s),o,l),bE(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[D]=g,s[D]=g)}else{let g=DE(l,e,d+m,f),D=DE(l,e,d,d+m),I=g>=0&&t[g],T=D>=0&&t[D];if(r&&!T||!r&&!I){FE(Um(a,s),o,l);let F=S5(r?T5:I5,t.length,r,i,u);!r&&T&&(t[D].providerFactory=F),bE(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=XR(t[r?D:g],u,!r&&i);bE(o,n,g>-1?g:D,F)}!r&&i&&T&&t[D].componentProviders++}}}function bE(n,e,t,i){let r=wc(e),o=G$(e);if(r||o){let l=(o?Wn(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[i,l]):u[d+1].push(i,l)}else u.push(t,l)}}}function XR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function DE(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function I5(n,e,t,i){return Cw(this.multi,[])}function T5(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ma(t,t[be],this.providerFactory.index,i);o=a.slice(0,s),Cw(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Cw(r,o);return o}function Cw(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function S5(n,e,t,i,r){let o=new Na(n,t,J);return o.multi=[],o.index=e,o.componentProviders=0,XR(o,r,i&&!t),o}function hi(n,e=[]){return t=>{t.providersResolver=(i,r)=>C5(i,r?r(n):n,e)}}var A5=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=YM(!1,t.type),r=i.length>0?Og([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ee({token:n,providedIn:"environment",factory:()=>new n(te(wn))})}}return n})();function fi(n){Mc("NgStandalone"),n.getStandaloneInjector=e=>e.get(A5).getOrCreateStandaloneInjector(n)}function Lg(n,e,t){let i=hh()+n,r=Ce();return r[i]===Gr?kg(r,i,t?e.call(t):e()):kG(r,i)}function rn(n,e,t,i){return eO(Ce(),hh(),n,e,t,i)}function gb(n,e,t,i,r,o){return M5(Ce(),hh(),n,e,t,i,r,o)}function _b(n,e){let t=n[e];return t===Gr?void 0:t}function eO(n,e,t,i,r,o){let s=e+t;return bi(n,s,r)?kg(n,s+1,o?i.call(o,r):i(r)):_b(n,s+1)}function N5(n,e,t,i,r,o,s){let a=e+t;return UR(n,a,r,o)?kg(n,a+2,s?i.call(s,r,o):i(r,o)):_b(n,a+2)}function M5(n,e,t,i,r,o,s,a){let l=e+t;return FG(n,l,r,o,s)?kg(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):_b(n,l+3)}function Sn(n,e){let t=Dt(),i,r=n+Dn;t.firstCreatePass?(i=x5(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=Ia(i.type,!0)),s,a=si(J);try{let l=$m(!1),u=o();return $m(l),b5(t,Ce(),r,u),u}finally{si(a)}}function x5(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function La(n,e,t){let i=n+Dn,r=Ce(),o=Uw(r,i);return tO(r,i)?eO(r,hh(),e,o.transform,t,o):o.transform(t)}function Ii(n,e,t,i){let r=n+Dn,o=Ce(),s=Uw(o,r);return tO(o,r)?N5(o,hh(),e,s.transform,t,i,s):s.transform(t,i)}function tO(n,e){return n[be].data[e].pure}function Ba(n,e){return Ng(n,e)}var Sm=null;function R5(n){Sm!==null&&(n.defaultEncapsulation!==Sm.defaultEncapsulation||n.preserveWhitespaces!==Sm.preserveWhitespaces)||(Sm=n)}var No=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Bg=new No("17.3.9"),jg=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var yb=new se(""),mh=new se(""),$g=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,vb||(O5(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(te(ye),te(Ug),te(mh))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),Ug=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return vb?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function O5(n){vb=n}var vb;function ja(n){return!!n&&typeof n.then=="function"}function nO(n){return!!n&&typeof n.subscribe=="function"}var Hg=new se(""),iO=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=R(Hg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(ja(o))t.push(o);else if(nO(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Eb=new se("");function P5(){hN(()=>{throw new le(600,!1)})}function k5(n){return n.isBoundToModule}function F5(n,e,t){try{let i=t();return ja(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}function rO(n,e){return Array.isArray(e)?e.reduce(rO,n):Y(Y({},n),e)}var Cs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(Rx),this.afterRenderEffectManager=R(Rg),this.externalTestViews=new Set,this.beforeRender=new Fe,this.afterTick=new Fe,this.componentTypes=[],this.components=[],this.isStable=R(Pg).hasPendingTasks.pipe(ce(t=>!t)),this._injector=R(wn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof zm;if(!this._injector.get(iO).done){let m=!r&&zM(t),g=!1;throw new le(405,g)}let s;r?s=t:s=this._injector.get(Mg).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=k5(s)?void 0:this._injector.get(ys),l=i||s.selector,u=s.create(Ye.NULL,[],l,a),d=u.location.nativeElement,f=u.injector.get(yb,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Om(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new le(101,!1);let i=ke(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,ke(i)}}detectChangesInAttachedViews(t){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===SR)throw new le(103,!1);if(t){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)V5(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Iw(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Iw(o))))break}}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Om(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(Eb,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Om(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new le(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Om(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function V5(n,e,t){!e&&!Iw(n)||L5(n,t,e)}function Iw(n){return Gw(n)}function L5(n,e,t){let i;t?(i=0,n[ve]|=1024):n[ve]&64?i=0:i=1,AR(n,e,i)}var Tw=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Gg=(()=>{class n{compileModuleSync(t){return new eg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=WM(t),o=Xx(r.declarations).reduce((s,a)=>{let l=Io(a);return l&&s.push(new Ra(l)),s},[]);return new Tw(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),B5=new se("");function j5(n,e,t){let i=new eg(t);return Promise.resolve(i)}function DM(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var $5=(()=>{class n{constructor(){this.zone=R(ye),this.applicationRef=R(Cs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function U5(n){return[{provide:ye,useFactory:n},{provide:Ec,multi:!0,useFactory:()=>{let e=R($5,{optional:!0});return()=>e.initialize()}},{provide:Ec,multi:!0,useFactory:()=>{let e=R(q5);return()=>{e.initialize()}}},{provide:Rx,useFactory:H5}]}function H5(){let n=R(ye),e=R(ur);return t=>n.runOutsideAngular(()=>e.handleError(t))}function G5(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var q5=(()=>{class n{constructor(){this.subscription=new Mt,this.initialized=!1,this.zone=R(ye),this.pendingTasks=R(Pg)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function z5(){return typeof $localize<"u"&&$localize.locale||ig}var $a=new se("",{providedIn:"root",factory:()=>R($a,Pe.Optional|Pe.SkipSelf)||z5()});var oO=new se(""),sO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){let r=qH(i?.ngZone,G5({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{let o=RG(t.moduleType,this.injector,U5(()=>r)),s=o.injector.get(ur,null);return r.runOutsideAngular(()=>{let a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Om(this._modules,o),a.unsubscribe()})}),F5(s,r,()=>{let a=o.injector.get(iO);return a.runInitializers(),a.donePromise.then(()=>{let l=o.injector.get($a,ig);return v5(l||ig),this._moduleDoBootstrap(o),o})})})}bootstrapModule(t,i=[]){let r=rO({},i);return j5(this.injector,r,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){let i=t.injector.get(Cs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(i);else throw new le(-403,!1);this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let t=this._injector.get(oO,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(te(Ye))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Qd=null,aO=new se("");function W5(n){if(Qd&&!Qd.get(aO,!1))throw new le(400,!1);P5(),Qd=n;let e=n.get(sO);return Y5(n),e}function wb(n,e,t=[]){let i=`Platform: ${e}`,r=new se(i);return(o=[])=>{let s=lO();if(!s||s.injector.get(aO,!1)){let a=[...t,...o,{provide:r,useValue:!0}];n?n(a):W5(K5(a,i))}return Q5(r)}}function K5(n=[],e){return Ye.create({name:e,providers:[{provide:lg,useValue:"platform"},{provide:oO,useValue:new Set([()=>Qd=null])},...n]})}function Q5(n){let e=lO();if(!e)throw new le(401,!1);return e}function lO(){return Qd?.get(sO)??null}function Y5(n){n.get(Jw,null)?.forEach(t=>t())}function bb(){return!1}var Qn=(()=>{class n{static{this.__NG_ELEMENT_ID__=J5}}return n})();function J5(n){return Z5(Fn(),Ce(),(n&16)===16)}function Z5(n,e,t){if(hg(n)&&!t){let i=Es(n.index,e);return new xa(i,i)}else if(n.type&47){let i=e[Bi];return new xa(i,e)}return null}var Sw=class{constructor(){}supports(e){return $R(e)}create(e){return new Aw(e)}},X5=(n,e)=>e,Aw=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||X5}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<CM(i,r,o)?t:i,a=CM(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let u=a-r,d=l-r;if(u!=d){for(let m=0;m<u;m++){let g=m<o.length?o[m]:o[m]=0,D=g+m;d<=D&&D<u&&(o[m]=g+1)}let f=s.previousIndex;o[f]=d-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!$R(e))throw new le(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,OG(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Nw(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new rg),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new rg),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Nw=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Mw=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},rg=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new Mw,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function CM(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function IM(){return new Db([new Sw])}var Db=(()=>{class n{static{this.\u0275prov=ee({token:n,providedIn:"root",factory:IM})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||IM()),deps:[[n,new Ow,new dn]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new le(901,!1)}}return n})();var cO=wb(null,"core",[]),uO=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)(te(Cs))}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();function Ua(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function qg(n,e){let t=Io(n),i=e.elementInjector||cg();return new Ra(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function dO(n){let e=Io(n);if(!e)return null;let t=new Ra(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var vO=null;function Wr(){return vO}function EO(n){vO??=n}var e_=class{};var It=new se(""),Pb=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:()=>R(t9),providedIn:"platform"})}}return n})(),wO=new se(""),t9=(()=>{class n extends Pb{constructor(){super(),this._doc=R(It),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wr().getBaseHref(this._doc)}onPopState(t){let i=Wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function kb(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function hO(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function Fo(n){return n&&n[0]!=="?"?"?"+n:n}var pr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:()=>R(Fb),providedIn:"root"})}}return n})(),bO=new se(""),Fb=(()=>{class n extends pr{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??R(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return kb(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Fo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Fo(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Fo(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(te(Pb),te(bO,8))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),r_=(()=>{class n extends pr{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=kb(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Fo(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Fo(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(te(Pb),te(bO,8))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),Rc=(()=>{class n{constructor(t){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=r9(hO(fO(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Fo(i))}normalize(t){return n.stripTrailingSlash(i9(this._basePath,fO(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=Fo}static{this.joinWithSlash=kb}static{this.stripTrailingSlash=hO}static{this.\u0275fac=function(i){return new(i||n)(te(pr))}}static{this.\u0275prov=ee({token:n,factory:()=>n9(),providedIn:"root"})}}return n})();function n9(){return new Rc(te(pr))}function i9(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function fO(n){return n.replace(/\/index.html$/,"")}function r9(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var DO=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(DO||{});var Yn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Yn||{}),it=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(it||{}),Ti=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ti||{}),Si={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function o9(n){return Ci(n)[Ct.LocaleId]}function s9(n,e,t){let i=Ci(n),r=[i[Ct.DayPeriodsFormat],i[Ct.DayPeriodsStandalone]],o=qi(r,e);return qi(o,t)}function a9(n,e,t){let i=Ci(n),r=[i[Ct.DaysFormat],i[Ct.DaysStandalone]],o=qi(r,e);return qi(o,t)}function l9(n,e,t){let i=Ci(n),r=[i[Ct.MonthsFormat],i[Ct.MonthsStandalone]],o=qi(r,e);return qi(o,t)}function c9(n,e){let i=Ci(n)[Ct.Eras];return qi(i,e)}function zg(n,e){let t=Ci(n);return qi(t[Ct.DateFormat],e)}function Wg(n,e){let t=Ci(n);return qi(t[Ct.TimeFormat],e)}function Kg(n,e){let i=Ci(n)[Ct.DateTimeFormat];return qi(i,e)}function Vo(n,e){let t=Ci(n),i=t[Ct.NumberSymbols][e];if(typeof i>"u"){if(e===Si.CurrencyDecimal)return t[Ct.NumberSymbols][Si.Decimal];if(e===Si.CurrencyGroup)return t[Ct.NumberSymbols][Si.Group]}return i}function u9(n,e){return Ci(n)[Ct.NumberFormats][e]}function CO(n){if(!n[Ct.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ct.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function d9(n){let e=Ci(n);return CO(e),(e[Ct.ExtraData][2]||[]).map(i=>typeof i=="string"?Cb(i):[Cb(i[0]),Cb(i[1])])}function h9(n,e,t){let i=Ci(n);CO(i);let r=[i[Ct.ExtraData][0],i[Ct.ExtraData][1]],o=qi(r,e)||[];return qi(o,t)||[]}function qi(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Cb(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var f9=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qg={},p9=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Lo=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Lo||{}),Qe=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Qe||{}),Ke=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ke||{});function Vb(n,e,t,i){let r=D9(n);e=ko(t,e)||e;let s=[],a;for(;e;)if(a=p9.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let l=r.getTimezoneOffset();i&&(l=TO(i,l),r=b9(r,i,!0));let u="";return s.forEach(d=>{let f=E9(d);u+=f?f(r,t,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function t_(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function ko(n,e){let t=o9(n);if(Qg[t]??={},Qg[t][e])return Qg[t][e];let i="";switch(e){case"shortDate":i=zg(n,Ti.Short);break;case"mediumDate":i=zg(n,Ti.Medium);break;case"longDate":i=zg(n,Ti.Long);break;case"fullDate":i=zg(n,Ti.Full);break;case"shortTime":i=Wg(n,Ti.Short);break;case"mediumTime":i=Wg(n,Ti.Medium);break;case"longTime":i=Wg(n,Ti.Long);break;case"fullTime":i=Wg(n,Ti.Full);break;case"short":let r=ko(n,"shortTime"),o=ko(n,"shortDate");i=Yg(Kg(n,Ti.Short),[r,o]);break;case"medium":let s=ko(n,"mediumTime"),a=ko(n,"mediumDate");i=Yg(Kg(n,Ti.Medium),[s,a]);break;case"long":let l=ko(n,"longTime"),u=ko(n,"longDate");i=Yg(Kg(n,Ti.Long),[l,u]);break;case"full":let d=ko(n,"fullTime"),f=ko(n,"fullDate");i=Yg(Kg(n,Ti.Full),[d,f]);break}return i&&(Qg[t][e]=i),i}function Yg(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function fr(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function m9(n,e){return fr(n,3).substring(0,e)}function Ht(n,e,t=0,i=!1,r=!1){return function(o,s){let a=g9(n,o);if((t>0||a>-t)&&(a+=t),n===Qe.Hours)a===0&&t===-12&&(a=12);else if(n===Qe.FractionalSeconds)return m9(a,e);let l=Vo(s,Si.MinusSign);return fr(a,e,l,i,r)}}function g9(n,e){switch(n){case Qe.FullYear:return e.getFullYear();case Qe.Month:return e.getMonth();case Qe.Date:return e.getDate();case Qe.Hours:return e.getHours();case Qe.Minutes:return e.getMinutes();case Qe.Seconds:return e.getSeconds();case Qe.FractionalSeconds:return e.getMilliseconds();case Qe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function ot(n,e,t=Yn.Format,i=!1){return function(r,o){return _9(r,o,n,e,t,i)}}function _9(n,e,t,i,r,o){switch(t){case Ke.Months:return l9(e,r,i)[n.getMonth()];case Ke.Days:return a9(e,r,i)[n.getDay()];case Ke.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let u=d9(e),d=h9(e,r,i),f=u.findIndex(m=>{if(Array.isArray(m)){let[g,D]=m,I=s>=g.hours&&a>=g.minutes,T=s<D.hours||s===D.hours&&a<D.minutes;if(g.hours<D.hours){if(I&&T)return!0}else if(I||T)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return s9(e,r,i)[s<12?0:1];case Ke.Eras:return c9(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function Jg(n){return function(e,t,i){let r=-1*i,o=Vo(t,Si.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Lo.Short:return(r>=0?"+":"")+fr(s,2,o)+fr(Math.abs(r%60),2,o);case Lo.ShortGMT:return"GMT"+(r>=0?"+":"")+fr(s,1,o);case Lo.Long:return"GMT"+(r>=0?"+":"")+fr(s,2,o)+":"+fr(Math.abs(r%60),2,o);case Lo.Extended:return i===0?"Z":(r>=0?"+":"")+fr(s,2,o)+":"+fr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var y9=0,Xg=4;function v9(n){let e=t_(n,y9,1).getDay();return t_(n,0,1+(e<=Xg?Xg:Xg+7)-e)}function IO(n){let e=n.getDay(),t=e===0?-3:Xg-e;return t_(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Ib(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=IO(t),s=v9(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return fr(r,n,Vo(i,Si.MinusSign))}}function Zg(n,e=!1){return function(t,i){let o=IO(t).getFullYear();return fr(o,n,Vo(i,Si.MinusSign),e)}}var Tb={};function E9(n){if(Tb[n])return Tb[n];let e;switch(n){case"G":case"GG":case"GGG":e=ot(Ke.Eras,it.Abbreviated);break;case"GGGG":e=ot(Ke.Eras,it.Wide);break;case"GGGGG":e=ot(Ke.Eras,it.Narrow);break;case"y":e=Ht(Qe.FullYear,1,0,!1,!0);break;case"yy":e=Ht(Qe.FullYear,2,0,!0,!0);break;case"yyy":e=Ht(Qe.FullYear,3,0,!1,!0);break;case"yyyy":e=Ht(Qe.FullYear,4,0,!1,!0);break;case"Y":e=Zg(1);break;case"YY":e=Zg(2,!0);break;case"YYY":e=Zg(3);break;case"YYYY":e=Zg(4);break;case"M":case"L":e=Ht(Qe.Month,1,1);break;case"MM":case"LL":e=Ht(Qe.Month,2,1);break;case"MMM":e=ot(Ke.Months,it.Abbreviated);break;case"MMMM":e=ot(Ke.Months,it.Wide);break;case"MMMMM":e=ot(Ke.Months,it.Narrow);break;case"LLL":e=ot(Ke.Months,it.Abbreviated,Yn.Standalone);break;case"LLLL":e=ot(Ke.Months,it.Wide,Yn.Standalone);break;case"LLLLL":e=ot(Ke.Months,it.Narrow,Yn.Standalone);break;case"w":e=Ib(1);break;case"ww":e=Ib(2);break;case"W":e=Ib(1,!0);break;case"d":e=Ht(Qe.Date,1);break;case"dd":e=Ht(Qe.Date,2);break;case"c":case"cc":e=Ht(Qe.Day,1);break;case"ccc":e=ot(Ke.Days,it.Abbreviated,Yn.Standalone);break;case"cccc":e=ot(Ke.Days,it.Wide,Yn.Standalone);break;case"ccccc":e=ot(Ke.Days,it.Narrow,Yn.Standalone);break;case"cccccc":e=ot(Ke.Days,it.Short,Yn.Standalone);break;case"E":case"EE":case"EEE":e=ot(Ke.Days,it.Abbreviated);break;case"EEEE":e=ot(Ke.Days,it.Wide);break;case"EEEEE":e=ot(Ke.Days,it.Narrow);break;case"EEEEEE":e=ot(Ke.Days,it.Short);break;case"a":case"aa":case"aaa":e=ot(Ke.DayPeriods,it.Abbreviated);break;case"aaaa":e=ot(Ke.DayPeriods,it.Wide);break;case"aaaaa":e=ot(Ke.DayPeriods,it.Narrow);break;case"b":case"bb":case"bbb":e=ot(Ke.DayPeriods,it.Abbreviated,Yn.Standalone,!0);break;case"bbbb":e=ot(Ke.DayPeriods,it.Wide,Yn.Standalone,!0);break;case"bbbbb":e=ot(Ke.DayPeriods,it.Narrow,Yn.Standalone,!0);break;case"B":case"BB":case"BBB":e=ot(Ke.DayPeriods,it.Abbreviated,Yn.Format,!0);break;case"BBBB":e=ot(Ke.DayPeriods,it.Wide,Yn.Format,!0);break;case"BBBBB":e=ot(Ke.DayPeriods,it.Narrow,Yn.Format,!0);break;case"h":e=Ht(Qe.Hours,1,-12);break;case"hh":e=Ht(Qe.Hours,2,-12);break;case"H":e=Ht(Qe.Hours,1);break;case"HH":e=Ht(Qe.Hours,2);break;case"m":e=Ht(Qe.Minutes,1);break;case"mm":e=Ht(Qe.Minutes,2);break;case"s":e=Ht(Qe.Seconds,1);break;case"ss":e=Ht(Qe.Seconds,2);break;case"S":e=Ht(Qe.FractionalSeconds,1);break;case"SS":e=Ht(Qe.FractionalSeconds,2);break;case"SSS":e=Ht(Qe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Jg(Lo.Short);break;case"ZZZZZ":e=Jg(Lo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Jg(Lo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Jg(Lo.Long);break;default:return null}return Tb[n]=e,e}function TO(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function w9(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function b9(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),o=TO(e,r);return w9(n,i*(o-r))}function D9(n){if(pO(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return t_(r,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(f9))return C9(i)}let e=new Date(n);if(!pO(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function C9(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,u),e}function pO(n){return n instanceof Date&&!isNaN(n.valueOf())}var I9=/^(\d+)?\.((\d+)(-(\d+))?)?$/,mO=22,n_=".",gh="0",T9=";",S9=",",Sb="#";function A9(n,e,t,i,r,o,s=!1){let a="",l=!1;if(!isFinite(n))a=Vo(t,Si.Infinity);else{let u=R9(n);s&&(u=x9(u));let d=e.minInt,f=e.minFrac,m=e.maxFrac;if(o){let H=o.match(I9);if(H===null)throw new Error(`${o} is not a valid digit info`);let B=H[1],G=H[3],Z=H[5];B!=null&&(d=Ab(B)),G!=null&&(f=Ab(G)),Z!=null?m=Ab(Z):G!=null&&f>m&&(m=f)}O9(u,f,m);let g=u.digits,D=u.integerLen,I=u.exponent,T=[];for(l=g.every(H=>!H);D<d;D++)g.unshift(0);for(;D<0;D++)g.unshift(0);D>0?T=g.splice(D,g.length):(T=g,g=[0]);let F=[];for(g.length>=e.lgSize&&F.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)F.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&F.unshift(g.join("")),a=F.join(Vo(t,i)),T.length&&(a+=Vo(t,r)+T.join("")),I&&(a+=Vo(t,Si.Exponential)+"+"+I)}return n<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function N9(n,e,t){let i=u9(e,DO.Decimal),r=M9(i,Vo(e,Si.MinusSign));return A9(n,r,e,Si.Group,Si.Decimal,t)}function M9(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(T9),r=i[0],o=i[1],s=r.indexOf(n_)!==-1?r.split(n_):[r.substring(0,r.lastIndexOf(gh)+1),r.substring(r.lastIndexOf(gh)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(Sb));for(let d=0;d<l.length;d++){let f=l.charAt(d);f===gh?t.minFrac=t.maxFrac=d+1:f===Sb?t.maxFrac=d+1:t.posSuf+=f}let u=a.split(S9);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=r.length-t.posPre.length-t.posSuf.length,f=o.indexOf(Sb);t.negPre=o.substring(0,f).replace(/'/g,""),t.negSuf=o.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function x9(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function R9(n){let e=Math.abs(n)+"",t=0,i,r,o,s,a;for((r=e.indexOf(n_))>-1&&(e=e.replace(n_,"")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;e.charAt(o)===gh;o++);if(o===(a=e.length))i=[0],r=1;else{for(a--;e.charAt(a)===gh;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(e.charAt(o))}return r>mO&&(i=i.splice(0,mO-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function O9(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen,o=Math.min(Math.max(e,r),t),s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let f=s;f<i.length;f++)i[f]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let f=1;f<s;f++)i[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,u=e+n.integerLen,d=i.reduceRight(function(f,m,g,D){return m=m+f,D[g]=m<10?m:m-10,l&&(D[g]===0&&g>=u?D.pop():l=!1),m>=10?1:0},0);d&&(i.unshift(d),n.integerLen++)}function Ab(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function SO(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Nb=/\s+/,gO=[],zi=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=gO,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Nb):gO}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Nb):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Nb).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(J(nt),J(qr))}}static{this.\u0275dir=qe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[pt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Mb=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},AO=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Mb(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),_O(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);_O(o,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(J(hr),J($r),J(Db))}}static{this.\u0275dir=qe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function _O(n,e){n.context.$implicit=e.item}var Ln=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new xb,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){yO("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){yO("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(J(hr),J($r))}}static{this.\u0275dir=qe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),xb=class{constructor(){this.$implicit=null,this.ngIf=null}};function yO(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Kn(e)}'.`)}var Lb=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||n)(J(hr))}}static{this.\u0275dir=qe({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[In]})}}return n})();function NO(n,e){return new le(2100,!1)}var P9="mediumDate",k9=new se(""),F9=new se(""),Is=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??P9,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Vb(t,s,o||this.locale,a)}catch(s){throw NO(n,s.message)}}static{this.\u0275fac=function(i){return new(i||n)(J($a,16),J(k9,24),J(F9,24))}}static{this.\u0275pipe=Vw({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var Oc=(()=>{class n{constructor(t){this._locale=t}transform(t,i,r){if(!V9(t))return null;r||=this._locale;try{let o=L9(t);return N9(o,r,i)}catch(o){throw NO(n,o.message)}}static{this.\u0275fac=function(i){return new(i||n)(J($a,16))}}static{this.\u0275pipe=Vw({name:"number",type:n,pure:!0,standalone:!0})}}return n})();function V9(n){return!(n==null||n===""||n!==n)}function L9(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Kr=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})(),Bb="browser",B9="server";function MO(n){return n===Bb}function Ha(n){return n===B9}var xO=(()=>{class n{static{this.\u0275prov=ee({token:n,providedIn:"root",factory:()=>MO(R(Tn))?new Rb(R(It),window):new Ob})}}return n})(),Rb=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=j9(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function j9(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var Ob=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},i_=class{};var Ub=class extends e_{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Hb=class n extends Ub{static makeCurrent(){EO(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=$9();return t==null?null:U9(t)}resetBaseElement(){_h=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return SO(document.cookie,e)}},_h=null;function $9(){return _h=_h||document.querySelector("base"),_h?_h.getAttribute("href"):null}function U9(n){return new URL(n,document.baseURI).pathname}var Gb=class{addToWindow(e){Rt.getAngularTestability=(i,r=!0)=>{let o=e.findTestabilityInTree(i,r);if(o==null)throw new le(5103,!1);return o},Rt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Rt.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let r=Rt.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let r=e.getTestability(t);return r??(i?Wr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},H9=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),qb=new se(""),kO=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new le(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(te(qb),te(ye))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),o_=class{constructor(e){this._doc=e}},jb="ng-app-id",FO=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ha(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${jb}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(jb),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(jb,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(te(It),te(vg),te(Zw,8),te(Tn))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),$b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wb=/%COMP%/g,VO="%COMP%",G9=`_nghost-${VO}`,q9=`_ngcontent-${VO}`,z9=!0,W9=new se("",{providedIn:"root",factory:()=>z9});function K9(n){return q9.replace(Wb,n)}function Q9(n){return G9.replace(Wb,n)}function LO(n,e){return e.map(t=>t.replace(Wb,n))}var RO=(()=>{class n{constructor(t,i,r,o,s,a,l,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ha(a),this.defaultRenderer=new yh(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Br.ShadowDom&&(i=Me(Y({},i),{encapsulation:Br.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof s_?r.applyToHost(t):r instanceof vh&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Br.Emulated:o=new s_(l,u,i,this.appId,d,s,a,f);break;case Br.ShadowDom:return new zb(l,u,t,i,s,a,this.nonce,f);default:o=new vh(l,u,i,d,s,a,f);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(te(kO),te(FO),te(vg),te(W9),te(It),te(Tn),te(ye),te(Zw))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),yh=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS($b[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(OO(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(OO(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new le(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=$b[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=$b[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ao.DashCase|Ao.Important)?e.style.setProperty(t,i,r&Ao.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ao.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=Wr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function OO(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var zb=class extends yh{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=LO(r.id,r.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vh=class extends yh{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?LO(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},s_=class extends vh{constructor(e,t,i,r,o,s,a,l){let u=r+"-"+i.id;super(e,t,i,o,s,a,l,u),this.contentAttr=K9(u),this.hostAttr=Q9(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},Y9=(()=>{class n extends o_{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(te(It))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),PO=["alt","control","meta","shift"],J9={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},X9=(()=>{class n extends o_{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),PO.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),s+=u+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=J9[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),PO.forEach(s=>{if(s!==r){let a=Z9[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(te(It))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})();function e8(){Hb.makeCurrent()}function t8(){return new ur}function n8(){return Lx(document),document}var i8=[{provide:Tn,useValue:Bb},{provide:Jw,useValue:e8,multi:!0},{provide:It,useFactory:n8,deps:[]}],BO=wb(cO,"browser",i8),r8=new se(""),o8=[{provide:mh,useClass:Gb,deps:[]},{provide:yb,useClass:$g,deps:[ye,Ug,mh]},{provide:$g,useClass:$g,deps:[ye,Ug,mh]}],s8=[{provide:lg,useValue:"root"},{provide:ur,useFactory:t8,deps:[]},{provide:qb,useClass:Y9,multi:!0,deps:[It,ye,Tn]},{provide:qb,useClass:X9,multi:!0,deps:[It]},RO,FO,kO,{provide:sh,useExisting:RO},{provide:i_,useClass:H9,deps:[]},[]],jO=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:vg,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(te(r8,12))}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({providers:[...s8,...o8],imports:[Kr,uO]})}}return n})();var $O=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(te(It))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Kb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=te(a8),r},providedIn:"root"})}}return n})(),a8=(()=>{class n extends Kb{constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case Hr.NONE:return i;case Hr.HTML:return bs(i,"HTML")?dr(i):Yx(this._doc,String(i)).toString();case Hr.STYLE:return bs(i,"Style")?dr(i):i;case Hr.SCRIPT:if(bs(i,"Script"))return dr(i);throw new le(5200,!1);case Hr.URL:return bs(i,"URL")?dr(i):wg(String(i));case Hr.RESOURCE_URL:if(bs(i,"ResourceURL"))return dr(i);throw new le(5201,!1);default:throw new le(5202,!1)}}bypassSecurityTrustHtml(t){return jx(t)}bypassSecurityTrustStyle(t){return $x(t)}bypassSecurityTrustScript(t){return Ux(t)}bypassSecurityTrustUrl(t){return Hx(t)}bypassSecurityTrustResourceUrl(t){return Gx(t)}static{this.\u0275fac=function(i){return new(i||n)(te(It))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var xe="primary",Ph=Symbol("RouteTitle"),e1=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Lc(n){return new e1(n)}function l8(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function c8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yr(n[t],e[t]))return!1;return!0}function Yr(n,e){let t=n?t1(n):void 0,i=e?t1(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!YO(n[r],e[r]))return!1;return!0}function t1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function YO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function JO(n){return n.length>0?n[n.length-1]:null}function Ns(n){return Xv(n)?n:ja(n)?Se(Promise.resolve(n)):ue(n)}var u8={exact:XO,subset:eP},ZO={exact:d8,subset:h8,ignored:()=>!0};function UO(n,e,t){return u8[t.paths](n.root,e.root,t.matrixParams)&&ZO[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function d8(n,e){return Yr(n,e)}function XO(n,e,t){if(!qa(n.segments,e.segments)||!c_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!XO(n.children[i],e.children[i],t))return!1;return!0}function h8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>YO(n[t],e[t]))}function eP(n,e,t){return tP(n,e,e.segments,t)}function tP(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!qa(r,t)||e.hasChildren()||!c_(r,t,i))}else if(n.segments.length===t.length){if(!qa(n.segments,t)||!c_(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!eP(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!qa(n.segments,r)||!c_(n.segments,r,i)||!n.children[xe]?!1:tP(n.children[xe],e,o,i)}}function c_(n,e,t){return e.every((i,r)=>ZO[t](n[r].parameters,i.parameters))}var Ts=class{constructor(e=new Je([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Lc(this.queryParams),this._queryParamMap}toString(){return m8.serialize(this)}},Je=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return u_(this)}},Ga=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Lc(this.parameters),this._parameterMap}toString(){return iP(this)}};function f8(n,e){return qa(n,e)&&n.every((t,i)=>Yr(t.parameters,e[i].parameters))}function qa(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function p8(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===xe&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==xe&&(t=t.concat(e(r,i)))}),t}var kh=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:()=>new Th,providedIn:"root"})}}return n})(),Th=class{parse(e){let t=new i1(e);return new Ts(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Eh(e.root,!0)}`,i=y8(e.queryParams),r=typeof e.fragment=="string"?`#${g8(e.fragment)}`:"";return`${t}${i}${r}`}},m8=new Th;function u_(n){return n.segments.map(e=>iP(e)).join("/")}function Eh(n,e){if(!n.hasChildren())return u_(n);if(e){let t=n.children[xe]?Eh(n.children[xe],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==xe&&i.push(`${r}:${Eh(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=p8(n,(i,r)=>r===xe?[Eh(n.children[xe],!1)]:[`${r}:${Eh(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[xe]!=null?`${u_(n)}/${t[0]}`:`${u_(n)}/(${t.join("//")})`}}function nP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function a_(n){return nP(n).replace(/%3B/gi,";")}function g8(n){return encodeURI(n)}function n1(n){return nP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function d_(n){return decodeURIComponent(n)}function HO(n){return d_(n.replace(/\+/g,"%20"))}function iP(n){return`${n1(n.path)}${_8(n.parameters)}`}function _8(n){return Object.entries(n).map(([e,t])=>`;${n1(e)}=${n1(t)}`).join("")}function y8(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${a_(t)}=${a_(r)}`).join("&"):`${a_(t)}=${a_(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var v8=/^[^\/()?;#]+/;function Yb(n){let e=n.match(v8);return e?e[0]:""}var E8=/^[^\/()?;=#]+/;function w8(n){let e=n.match(E8);return e?e[0]:""}var b8=/^[^=?&#]+/;function D8(n){let e=n.match(b8);return e?e[0]:""}var C8=/^[^&#]+/;function I8(n){let e=n.match(C8);return e?e[0]:""}var i1=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[xe]=new Je(e,t)),i}parseSegment(){let e=Yb(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new le(4009,!1);return this.capture(e),new Ga(d_(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=w8(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Yb(this.remaining);r&&(i=r,this.capture(i))}e[d_(t)]=d_(i)}parseQueryParam(e){let t=D8(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=I8(this.remaining);s&&(i=s,this.capture(i))}let r=HO(t),o=HO(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Yb(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new le(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=xe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[xe]:new Je([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new le(4011,!1)}};function rP(n){return n.segments.length>0?new Je([],{[xe]:n}):n}function oP(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=oP(r);if(i===xe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Je(n.segments,e);return T8(t)}function T8(n){if(n.numberOfChildren===1&&n.children[xe]){let e=n.children[xe];return new Je(n.segments.concat(e.segments),e.children)}return n}function Bc(n){return n instanceof Ts}function S8(n,e,t=null,i=null){let r=sP(n);return aP(r,e,t,i)}function sP(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new Je(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=rP(i);return e??r}function aP(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Jb(r,r,r,t,i);let o=A8(e);if(o.toRoot())return Jb(r,r,new Je([],{}),t,i);let s=N8(o,r,n),a=s.processChildren?Dh(s.segmentGroup,s.index,o.commands):cP(s.segmentGroup,s.index,o.commands);return Jb(r,s.segmentGroup,a,t,i)}function h_(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Sh(n){return typeof n=="object"&&n!=null&&n.outlets}function Jb(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=lP(n,e,t);let a=rP(oP(s));return new Ts(a,o,r)}function lP(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=lP(o,e,t)}),new Je(n.segments,i)}var f_=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&h_(i[0]))throw new le(4003,!1);let r=i.find(Sh);if(r&&r!==JO(i))throw new le(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function A8(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new f_(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new f_(t,e,i)}var Fc=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function N8(n,e,t){if(n.isAbsolute)return new Fc(e,!0,0);if(!t)return new Fc(e,!1,NaN);if(t.parent===null)return new Fc(t,!0,0);let i=h_(n.commands[0])?0:1,r=t.segments.length-1+i;return M8(t,r,n.numberOfDoubleDots)}function M8(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new le(4005,!1);r=i.segments.length}return new Fc(i,!1,r-o)}function x8(n){return Sh(n[0])?n[0].outlets:{[xe]:n}}function cP(n,e,t){if(n??=new Je([],{}),n.segments.length===0&&n.hasChildren())return Dh(n,e,t);let i=R8(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Je(n.segments.slice(0,i.pathIndex),{});return o.children[xe]=new Je(n.segments.slice(i.pathIndex),n.children),Dh(o,0,r)}else return i.match&&r.length===0?new Je(n.segments,{}):i.match&&!n.hasChildren()?r1(n,e,t):i.match?Dh(n,0,r):r1(n,e,t)}function Dh(n,e,t){if(t.length===0)return new Je(n.segments,{});{let i=x8(t),r={};if(Object.keys(i).some(o=>o!==xe)&&n.children[xe]&&n.numberOfChildren===1&&n.children[xe].segments.length===0){let o=Dh(n.children[xe],e,t);return new Je(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=cP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Je(n.segments,r)}}function R8(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(Sh(a))break;let l=`${a}`,u=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!qO(l,u,s))return o;i+=2}else{if(!qO(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function r1(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Sh(o)){let l=O8(o.outlets);return new Je(i,l)}if(r===0&&h_(t[0])){let l=n.segments[e];i.push(new Ga(l.path,GO(t[0]))),r++;continue}let s=Sh(o)?o.outlets[xe]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&h_(a)?(i.push(new Ga(s,GO(a))),r+=2):(i.push(new Ga(s,{})),r++)}return new Je(i,{})}function O8(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=r1(new Je([],{}),0,i))}),e}function GO(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function qO(n,e,t){return n==t.path&&Yr(e,t.parameters)}var Ch="imperative",hn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(hn||{}),Wi=class{constructor(e,t){this.id=e,this.url=t}},jc=class extends Wi{constructor(e,t,i="imperative",r=null){super(e,t),this.type=hn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mi=class extends Wi{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=hn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ni=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ni||{}),p_=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(p_||{}),Ss=class extends Wi{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=hn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},As=class extends Wi{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=hn.NavigationSkipped}},Ah=class extends Wi{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=hn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},m_=class extends Wi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=hn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},o1=class extends Wi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=hn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},s1=class extends Wi{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=hn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},a1=class extends Wi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=hn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},l1=class extends Wi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=hn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},c1=class{constructor(e){this.route=e,this.type=hn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},u1=class{constructor(e){this.route=e,this.type=hn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},d1=class{constructor(e){this.snapshot=e,this.type=hn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},h1=class{constructor(e){this.snapshot=e,this.type=hn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},f1=class{constructor(e){this.snapshot=e,this.type=hn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},p1=class{constructor(e){this.snapshot=e,this.type=hn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},g_=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=hn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Nh=class{},Mh=class{constructor(e){this.url=e}};var m1=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fh,this.attachRef=null}},Fh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new m1,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),__=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=g1(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=g1(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=_1(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return _1(e,this._root).map(t=>t.value)}};function g1(n,e){if(n===e.value)return e;for(let t of e.children){let i=g1(n,t);if(i)return i}return null}function _1(n,e){if(n===e.value)return[e];for(let t of e.children){let i=_1(n,t);if(i.length)return i.unshift(e),i}return[]}var Ai=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function kc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var y_=class extends __{constructor(e,t){super(e),this.snapshot=t,S1(this,e)}toString(){return this.snapshot.toString()}};function uP(n){let e=P8(n),t=new un([new Ga("",{})]),i=new un({}),r=new un({}),o=new un({}),s=new un(""),a=new za(t,i,o,s,r,xe,n,e.root);return a.snapshot=e.root,new y_(new Ai(a,[]),e)}function P8(n){let e={},t={},i={},r="",o=new xh([],e,i,r,t,xe,n,null,{});return new v_("",new Ai(o,[]))}var za=class{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ce(u=>u[Ph]))??ue(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>Lc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>Lc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function T1(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:Y(Y({},e.params),n.params),data:Y(Y({},e.data),n.data),resolve:Y(Y(Y(Y({},n.data),e.data),r?.data),n._resolvedData)}:i={params:Y({},n.params),data:Y({},n.data),resolve:Y(Y({},n.data),n._resolvedData??{})},r&&hP(r)&&(i.resolve[Ph]=r.title),i}var xh=class{get title(){return this.data?.[Ph]}constructor(e,t,i,r,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Lc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Lc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},v_=class extends __{constructor(e,t){super(t),this.url=e,S1(this,t)}toString(){return dP(this._root)}};function S1(n,e){e.value._routerState=n,e.children.forEach(t=>S1(n,t))}function dP(n){let e=n.children.length>0?` { ${n.children.map(dP).join(", ")} } `:"";return`${n.value}${e}`}function Zb(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Yr(e.params,t.params)||n.paramsSubject.next(t.params),c8(e.url,t.url)||n.urlSubject.next(t.url),Yr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function y1(n,e){let t=Yr(n.params,e.params)&&f8(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||y1(n.parent,e.parent))}function hP(n){return typeof n.title=="string"||n.title===null}var A1=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=xe,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=R(Fh),this.location=R(hr),this.changeDetector=R(Qn),this.environmentInjector=R(wn),this.inputBinder=R(C_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new le(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new le(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new v1(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=qe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[In]})}}return n})(),v1=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===za?this.route:e===Fh?this.childContexts:this.parent.get(e,t)}},C_=new se(""),zO=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=uc([i.queryParams,i.params,i.data]).pipe(ft(([o,s,a],l)=>(a=Y(Y(Y({},o),s),a),l===0?ue(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=dO(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})();function k8(n,e,t){let i=Rh(n,e._root,t?t._root:void 0);return new y_(i,e)}function Rh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=F8(n,e,t);return new Ai(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Rh(n,a)),s}}let i=V8(e.value),r=e.children.map(o=>Rh(n,o));return new Ai(i,r)}}function F8(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Rh(n,i,r);return Rh(n,i)})}function V8(n){return new za(new un(n.url),new un(n.params),new un(n.queryParams),new un(n.fragment),new un(n.data),n.outlet,n.component,n)}var fP="ngNavigationCancelingError";function pP(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Bc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=mP(!1,Ni.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function mP(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[fP]=!0,t.cancellationCode=e,t}function L8(n){return gP(n)&&Bc(n.url)}function gP(n){return!!n&&n[fP]}var B8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ae({type:n,selectors:[["ng-component"]],standalone:!0,features:[fi],decls:1,vars:0,template:function(i,r){i&1&&ie(0,"router-outlet")},dependencies:[A1],encapsulation:2})}}return n})();function j8(n,e){return n.providers&&!n._injector&&(n._injector=Og(n.providers,e,`Route: ${n.path}`)),n._injector??e}function N1(n){let e=n.children&&n.children.map(N1),t=e?Me(Y({},n),{children:e}):Y({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==xe&&(t.component=B8),t}function Jr(n){return n.outlet||xe}function $8(n,e){let t=n.filter(i=>Jr(i)===e);return t.push(...n.filter(i=>Jr(i)!==e)),t}function Vh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var U8=(n,e,t,i)=>ce(r=>(new E1(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),E1=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Zb(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=kc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=kc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=kc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=kc(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new p1(o.value.snapshot))}),e.children.length&&this.forwardEvent(new h1(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(Zb(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Zb(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Vh(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},E_=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Vc=class{constructor(e,t){this.component=e,this.route=t}};function H8(n,e,t){let i=n._root,r=e?e._root:null;return wh(i,r,t,[i.value])}function G8(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Hc(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!MM(n)?n:e.get(n):i}function wh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=kc(e);return n.children.forEach(s=>{q8(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ih(a,t.getContext(s),r)),r}function q8(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=z8(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new E_(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?wh(n,e,a?a.children:null,i,r):wh(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Vc(a.outlet.component,s))}else s&&Ih(e,a,r),r.canActivateChecks.push(new E_(i)),o.component?wh(n,null,a?a.children:null,i,r):wh(n,null,t,i,r);return r}function z8(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!qa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qa(n.url,e.url)||!Yr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!y1(n,e)||!Yr(n.queryParams,e.queryParams);case"paramsChange":default:return!y1(n,e)}}function Ih(n,e,t){let i=kc(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Ih(s,e.children.getContext(o),t):Ih(s,null,t):Ih(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Vc(e.outlet.component,r)):t.canDeactivateChecks.push(new Vc(null,r)):t.canDeactivateChecks.push(new Vc(null,r))}function Lh(n){return typeof n=="function"}function W8(n){return typeof n=="boolean"}function K8(n){return n&&Lh(n.canLoad)}function Q8(n){return n&&Lh(n.canActivate)}function Y8(n){return n&&Lh(n.canActivateChild)}function J8(n){return n&&Lh(n.canDeactivate)}function Z8(n){return n&&Lh(n.canMatch)}function _P(n){return n instanceof Do||n?.name==="EmptyError"}var l_=Symbol("INITIAL_VALUE");function $c(){return ft(n=>uc(n.map(e=>e.pipe($t(1),Co(l_)))).pipe(ce(e=>{for(let t of e)if(t!==!0){if(t===l_)return l_;if(t===!1||t instanceof Ts)return t}return!0}),Xe(e=>e!==l_),$t(1)))}function X8(n,e){return lt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ue(Me(Y({},t),{guardsResult:!0})):eq(s,i,r,n).pipe(lt(a=>a&&W8(a)?tq(i,o,n,e):ue(a)),ce(a=>Me(Y({},t),{guardsResult:a})))})}function eq(n,e,t,i){return Se(n).pipe(lt(r=>sq(r.component,r.route,t,e,i)),Li(r=>r!==!0,!0))}function tq(n,e,t,i){return Se(e).pipe(wa(r=>Fr(iq(r.route.parent,i),nq(r.route,i),oq(n,r.path,t),rq(n,r.route,t))),Li(r=>r!==!0,!0))}function nq(n,e){return n!==null&&e&&e(new f1(n)),ue(!0)}function iq(n,e){return n!==null&&e&&e(new d1(n)),ue(!0)}function rq(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ue(!0);let r=i.map(o=>mm(()=>{let s=Vh(e)??t,a=Hc(o,s),l=Q8(a)?a.canActivate(e,n):Ur(s,()=>a(e,n));return Ns(l).pipe(Li())}));return ue(r).pipe($c())}function oq(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>G8(s)).filter(s=>s!==null).map(s=>mm(()=>{let a=s.guards.map(l=>{let u=Vh(s.node)??t,d=Hc(l,u),f=Y8(d)?d.canActivateChild(i,n):Ur(u,()=>d(i,n));return Ns(f).pipe(Li())});return ue(a).pipe($c())}));return ue(o).pipe($c())}function sq(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ue(!0);let s=o.map(a=>{let l=Vh(e)??r,u=Hc(a,l),d=J8(u)?u.canDeactivate(n,e,t,i):Ur(l,()=>u(n,e,t,i));return Ns(d).pipe(Li())});return ue(s).pipe($c())}function aq(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return ue(!0);let o=r.map(s=>{let a=Hc(s,n),l=K8(a)?a.canLoad(e,t):Ur(n,()=>a(e,t));return Ns(l)});return ue(o).pipe($c(),yP(i))}function yP(n){return Zp(bt(e=>{if(Bc(e))throw pP(n,e)}),ce(e=>e===!0))}function lq(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return ue(!0);let o=r.map(s=>{let a=Hc(s,n),l=Z8(a)?a.canMatch(e,t):Ur(n,()=>a(e,t));return Ns(l)});return ue(o).pipe($c(),yP(i))}var Oh=class{constructor(e){this.segmentGroup=e||null}},w_=class extends Error{constructor(e){super(),this.urlTree=e}};function Pc(n){return lc(new Oh(n))}function cq(n){return lc(new le(4e3,!1))}function uq(n){return lc(mP(!1,Ni.GuardRejected))}var w1=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ue(i);if(r.numberOfChildren>1||!r.children[xe])return cq(e.redirectTo);r=r.children[xe]}}applyRedirectCommands(e,t,i){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new w_(r);return r}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new Ts(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new Je(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new le(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},b1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dq(n,e,t,i,r){let o=M1(n,e,t);return o.matched?(i=j8(e,i),lq(i,e,t,r).pipe(ce(s=>s===!0?o:Y({},b1)))):ue(o)}function M1(n,e,t){if(e.path==="**")return hq(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Y({},b1):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||l8)(t,n,e);if(!r)return Y({},b1);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?Y(Y({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function hq(n){return{matched:!0,parameters:n.length>0?JO(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function WO(n,e,t,i){return t.length>0&&mq(n,t,i)?{segmentGroup:new Je(e,pq(i,new Je(t,n.children))),slicedSegments:[]}:t.length===0&&gq(n,t,i)?{segmentGroup:new Je(n.segments,fq(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Je(n.segments,n.children),slicedSegments:t}}function fq(n,e,t,i){let r={};for(let o of t)if(I_(n,e,o)&&!i[Jr(o)]){let s=new Je([],{});r[Jr(o)]=s}return Y(Y({},i),r)}function pq(n,e){let t={};t[xe]=e;for(let i of n)if(i.path===""&&Jr(i)!==xe){let r=new Je([],{});t[Jr(i)]=r}return t}function mq(n,e,t){return t.some(i=>I_(n,e,i)&&Jr(i)!==xe)}function gq(n,e,t){return t.some(i=>I_(n,e,i))}function I_(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function _q(n,e,t,i){return Jr(n)!==i&&(i===xe||!I_(e,t,n))?!1:M1(e,n,t).matched}function yq(n,e,t){return e.length===0&&!n.children[t]}var D1=class{};function vq(n,e,t,i,r,o,s="emptyOnly"){return new C1(n,e,t,i,r,s,o).recognize()}var Eq=31,C1=class{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new w1(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new le(4002,`'${e.segmentGroup}'`)}recognize(){let e=WO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(t=>{let i=new xh([],Object.freeze({}),Object.freeze(Y({},this.urlTree.queryParams)),this.urlTree.fragment,{},xe,this.rootComponentType,null,{}),r=new Ai(i,t),o=new v_("",r),s=S8(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,xe).pipe(ds(i=>{if(i instanceof w_)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Oh?this.noMatchError(i):i}))}inheritParamsAndData(e,t){let i=e.value,r=T1(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(ce(o=>o instanceof Ai?[o]:[]))}processChildren(e,t,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Se(r).pipe(wa(o=>{let s=i.children[o],a=$8(t,o);return this.processSegmentGroup(e,a,s,o)}),fs((o,s)=>(o.push(...s),o)),hs(null),sE(),lt(o=>{if(o===null)return Pc(i);let s=vP(o);return wq(s),ue(s)}))}processSegment(e,t,i,r,o,s){return Se(t).pipe(wa(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(ds(l=>{if(l instanceof Oh)return ue(null);throw l}))),Li(a=>!!a),ds(a=>{if(_P(a))return yq(i,r,o)?ue(new D1):Pc(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return _q(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Pc(r):Pc(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:d}=M1(t,r,o);if(!a)return Pc(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Eq&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,f).pipe(lt(m=>this.processSegment(e,i,t,m.concat(d),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){let s=dq(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),s.pipe(ft(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ft(({routes:l})=>{let u=i._loadedInjector??e,{consumedSegments:d,remainingSegments:f,parameters:m}=a,g=new xh(d,m,Object.freeze(Y({},this.urlTree.queryParams)),this.urlTree.fragment,Dq(i),Jr(i),i.component??i._loadedComponent??null,i,Cq(i)),{segmentGroup:D,slicedSegments:I}=WO(t,d,f,l);if(I.length===0&&D.hasChildren())return this.processChildren(u,l,D).pipe(ce(F=>F===null?null:new Ai(g,F)));if(l.length===0&&I.length===0)return ue(new Ai(g,[]));let T=Jr(i)===o;return this.processSegment(u,l,D,I,T?xe:o,!0).pipe(ce(F=>new Ai(g,F instanceof Ai?[F]:[])))}))):Pc(t)))}getChildConfig(e,t,i){return t.children?ue({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ue({routes:t._loadedRoutes,injector:t._loadedInjector}):aq(e,t,i,this.urlSerializer).pipe(lt(r=>r?this.configLoader.loadChildren(e,t).pipe(bt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):uq(t))):ue({routes:[],injector:e})}};function wq(n){n.sort((e,t)=>e.value.outlet===xe?-1:t.value.outlet===xe?1:e.value.outlet.localeCompare(t.value.outlet))}function bq(n){let e=n.value.routeConfig;return e&&e.path===""}function vP(n){let e=[],t=new Set;for(let i of n){if(!bq(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=vP(i.children);e.push(new Ai(i.value,r))}return e.filter(i=>!t.has(i))}function Dq(n){return n.data||{}}function Cq(n){return n.resolve||{}}function Iq(n,e,t,i,r,o){return lt(s=>vq(n,e,t,i,s.extractedUrl,r,o).pipe(ce(({state:a,tree:l})=>Me(Y({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Tq(n,e){return lt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ue(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of EP(l))s.add(u);let a=0;return Se(s).pipe(wa(l=>o.has(l)?Sq(l,i,n,e):(l.data=T1(l,l.parent,n).resolve,ue(void 0))),bt(()=>a++),hc(1),lt(l=>a===s.size?ue(t):Xt))})}function EP(n){let e=n.children.map(t=>EP(t)).flat();return[n,...e]}function Sq(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!hP(r)&&(o[Ph]=r.title),Aq(o,n,e,i).pipe(ce(s=>(n._resolvedData=s,n.data=T1(n,n.parent,t).resolve,null)))}function Aq(n,e,t,i){let r=t1(n);if(r.length===0)return ue({});let o={};return Se(r).pipe(lt(s=>Nq(n[s],e,t,i).pipe(Li(),bt(a=>{o[s]=a}))),hc(1),qd(o),ds(s=>_P(s)?Xt:lc(s)))}function Nq(n,e,t,i){let r=Vh(e)??i,o=Hc(n,r),s=o.resolve?o.resolve(e,t):Ur(r,()=>o(e,t));return Ns(s)}function Xb(n){return ft(e=>{let t=n(e);return t?Se(t).pipe(ce(()=>e)):ue(e)})}var wP=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===xe);return i}getResolvedTitleForRoute(t){return t.data[Ph]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:()=>R(Mq),providedIn:"root"})}}return n})(),Mq=(()=>{class n extends wP{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(te($O))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Bh=new se("",{providedIn:"root",factory:()=>({})}),b_=new se(""),x1=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(Gg)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ue(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Ns(t.loadComponent()).pipe(ce(bP),bt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),dc(()=>{this.componentLoaders.delete(t)})),r=new ic(i,()=>new Fe).pipe(nc());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ue({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=xq(i,this.compiler,t,this.onLoadEndListener).pipe(dc(()=>{this.childrenLoaders.delete(i)})),s=new ic(o,()=>new Fe).pipe(nc());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xq(n,e,t,i){return Ns(n.loadChildren()).pipe(ce(bP),lt(r=>r instanceof ah||Array.isArray(r)?ue(r):Se(e.compileModuleAsync(r))),ce(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(b_,[],{optional:!0,self:!0}).flat()),{routes:s.map(N1),injector:o}}))}function Rq(n){return n&&typeof n=="object"&&"default"in n}function bP(n){return Rq(n)?n.default:n}var R1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:()=>R(Oq),providedIn:"root"})}}return n})(),Oq=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),DP=new se(""),CP=new se("");function Pq(n,e,t){let i=n.get(CP),r=n.get(It);return n.get(ye).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=r.startViewTransition(()=>(o(),kq(n))),{onViewTransitionCreated:l}=i;return l&&Ur(n,()=>l({transition:a,from:e,to:t})),s})}function kq(n){return new Promise(e=>{Po(e,{injector:n})})}var O1=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe,this.transitionAbortSubject=new Fe,this.configLoader=R(x1),this.environmentInjector=R(wn),this.urlSerializer=R(kh),this.rootContexts=R(Fh),this.location=R(Rc),this.inputBindingEnabled=R(C_,{optional:!0})!==null,this.titleStrategy=R(wP),this.options=R(Bh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(R1),this.createViewTransition=R(DP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ue(void 0),this.rootComponentType=null;let t=r=>this.events.next(new c1(r)),i=r=>this.events.next(new u1(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(Me(Y(Y({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new un({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ch,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xe(o=>o.id!==0),ce(o=>Me(Y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ft(o=>{let s=!1,a=!1;return ue(o).pipe(ft(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ni.SupersededByNewNavigation),Xt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Me(Y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new As(l.id,this.urlSerializer.serialize(l.rawUrl),f,p_.IgnoredSameUrlNavigation)),l.resolve(null),Xt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ue(l).pipe(ft(f=>{let m=this.transitions?.getValue();return this.events.next(new jc(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?Xt:Promise.resolve(f)}),Iq(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),bt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Me(Y({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new m_(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:m,source:g,restoredState:D,extras:I}=l,T=new jc(f,this.urlSerializer.serialize(m),g,D);this.events.next(T);let F=uP(this.rootComponentType).snapshot;return this.currentTransition=o=Me(Y({},l),{targetSnapshot:F,urlAfterRedirects:m,extras:Me(Y({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ue(o)}else{let f="";return this.events.next(new As(l.id,this.urlSerializer.serialize(l.extractedUrl),f,p_.IgnoredByUrlHandlingStrategy)),l.resolve(null),Xt}}),bt(l=>{let u=new o1(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ce(l=>(this.currentTransition=o=Me(Y({},l),{guards:H8(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),X8(this.environmentInjector,l=>this.events.next(l)),bt(l=>{if(o.guardsResult=l.guardsResult,Bc(l.guardsResult))throw pP(this.urlSerializer,l.guardsResult);let u=new s1(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Xe(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ni.GuardRejected),!1)),Xb(l=>{if(l.guards.canActivateChecks.length)return ue(l).pipe(bt(u=>{let d=new a1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ft(u=>{let d=!1;return ue(u).pipe(Tq(this.paramsInheritanceStrategy,this.environmentInjector),bt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Ni.NoDataFromResolver)}}))}),bt(u=>{let d=new l1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Xb(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(bt(m=>{d.component=m}),ce(()=>{})));for(let m of d.children)f.push(...u(m));return f};return uc(u(l.targetSnapshot.root)).pipe(hs(null),$t(1))}),Xb(()=>this.afterPreactivation()),ft(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Se(d).pipe(ce(()=>o)):ue(o)}),ce(l=>{let u=k8(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Me(Y({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),bt(()=>{this.events.next(new Nh)}),U8(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),$t(1),bt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),xt(this.transitionAbortSubject.pipe(bt(l=>{throw l}))),dc(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Ni.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ds(l=>{if(a=!0,gP(l))this.events.next(new Ss(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),L8(l)?this.events.next(new Mh(l.url)):o.resolve(!1);else{this.events.next(new Ah(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Xt}))}))}cancelNavigationTransition(t,i,r){let o=new Ss(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Fq(n){return n!==Ch}var Vq=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:()=>R(Lq),providedIn:"root"})}}return n})(),I1=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Lq=(()=>{class n extends I1{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),IP=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:()=>R(Bq),providedIn:"root"})}}return n})(),Bq=(()=>{class n extends IP{constructor(){super(...arguments),this.location=R(Rc),this.urlSerializer=R(kh),this.options=R(Bh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(R1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ts,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=uP(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof jc)this.stateMemento=this.createStateMemento();else if(t instanceof As)this.rawUrlTree=i.initialUrl;else if(t instanceof m_){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof Nh?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Ss&&(t.code===Ni.GuardRejected||t.code===Ni.NoDataFromResolver)?this.restoreHistory(i):t instanceof Ah?this.restoreHistory(i,!0):t instanceof Mi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=Y(Y({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=Y(Y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(bh||{});function TP(n,e){n.events.pipe(Xe(t=>t instanceof Mi||t instanceof Ss||t instanceof Ah||t instanceof As),ce(t=>t instanceof Mi||t instanceof As?bh.COMPLETE:(t instanceof Ss?t.code===Ni.Redirect||t.code===Ni.SupersededByNewNavigation:!1)?bh.REDIRECTING:bh.FAILED),Xe(t=>t!==bh.REDIRECTING),$t(1)).subscribe(()=>{e()})}function jq(n){throw n}var $q={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Uq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=R(jg),this.stateManager=R(IP),this.options=R(Bh,{optional:!0})||{},this.pendingTasks=R(Pg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(O1),this.urlSerializer=R(kh),this.location=R(Rc),this.urlHandlingStrategy=R(R1),this._events=new Fe,this.errorHandler=this.options.errorHandler||jq,this.navigated=!1,this.routeReuseStrategy=R(Vq),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R(b_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(C_,{optional:!0}),this.eventsSubscription=new Mt,this.isNgZoneEnabled=R(ye)instanceof ye&&ye.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ss&&i.code!==Ni.Redirect&&i.code!==Ni.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Mi)this.navigated=!0;else if(i instanceof Mh){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Fq(r.source)};this.scheduleNavigation(s,Ch,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Gq(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ch,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=Y({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(N1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:s,d=null;switch(a){case"merge":d=Y(Y({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let m=r?r.snapshot:this.routerState.snapshot.root;f=sP(m)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),f=this.currentUrlTree.root}return aP(f,t,d,u??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Bc(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Ch,null,i)}navigate(t,i={skipLocationChange:!1}){return Hq(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=Y({},$q):i===!1?r=Y({},Uq):r=i,Bc(t))return UO(this.currentUrlTree,t,r);let o=this.parseUrl(t);return UO(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((f,m)=>{a=f,l=m});let d=this.pendingTasks.add();return TP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Hq(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new le(4008,!1)}function Gq(n){return!(n instanceof Nh)&&!(n instanceof Mh)}var Uc=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Mi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t!=null?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:Jx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(J(Gt),J(za),yg("tabindex"),J(qr),J(nt),J(pr))}}static{this.\u0275dir=qe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&j("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&zr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[pt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ua],skipLocationChange:[pt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ua],replaceUrl:[pt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ua],routerLink:"routerLink"},standalone:!0,features:[mb,In]})}}return n})(),T_=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Re,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Mi&&this.update()})}ngAfterContentInit(){ue(this.links.changes,ue(null)).pipe(kr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Se(t).pipe(kr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=qq(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(i){return new(i||n)(J(Gt),J(nt),J(qr),J(Qn),J(Uc,8))}}static{this.\u0275dir=qe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&Va(o,Uc,5),i&2){let s;ct(s=ut())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[In]})}}return n})();function qq(n){return!!n.paths}var D_=class{};var zq=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Xe(t=>t instanceof Mi),wa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Og(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Se(r).pipe(kr())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=ue(null);let o=r.pipe(lt(s=>s===null?ue(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Se([o,s]).pipe(kr())}else return o})}static{this.\u0275fac=function(i){return new(i||n)(te(Gt),te(Gg),te(wn),te(D_),te(x1))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),SP=new se(""),Wq=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=R(wn),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof As&&t.code===p_.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof g_&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>P(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),Po(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new g_(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){hR()}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})();function Kq(n){return n.routerState.root}function jh(n,e){return{\u0275kind:n,\u0275providers:e}}function Qq(){let n=R(Ye);return e=>{let t=n.get(Cs);if(e!==t.components[0])return;let i=n.get(Gt),r=n.get(AP);n.get(P1)===1&&i.initialNavigation(),n.get(NP,null,Pe.Optional)?.setUpPreloading(),n.get(SP,null,Pe.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var AP=new se("",{factory:()=>new Fe}),P1=new se("",{providedIn:"root",factory:()=>1});function Yq(){return jh(2,[{provide:P1,useValue:0},{provide:Hg,multi:!0,deps:[Ye],useFactory:e=>{let t=e.get(wO,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Gt),o=e.get(AP);TP(r,()=>{i(!0)}),e.get(O1).afterPreactivation=()=>(i(!0),o.closed?ue(void 0):o),r.initialNavigation()}))}}])}function Jq(){return jh(3,[{provide:Hg,multi:!0,useFactory:()=>{let e=R(Gt);return()=>{e.setUpLocationChangeListener()}}},{provide:P1,useValue:2}])}var NP=new se("");function Zq(n){return jh(0,[{provide:NP,useExisting:zq},{provide:D_,useExisting:n}])}function Xq(){return jh(8,[zO,{provide:C_,useExisting:zO}])}function e6(n){let e=[{provide:DP,useValue:Pq},{provide:CP,useValue:Y({skipNextTransition:!!n?.skipInitialTransition},n)}];return jh(9,e)}var KO=new se("ROUTER_FORROOT_GUARD"),t6=[Rc,{provide:kh,useClass:Th},Gt,Fh,{provide:za,useFactory:Kq,deps:[Gt]},x1,[]],k1=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[t6,[],{provide:b_,multi:!0,useValue:t},{provide:KO,useFactory:o6,deps:[[Gt,new dn,new Ow]]},{provide:Bh,useValue:i||{}},i?.useHash?i6():r6(),n6(),i?.preloadingStrategy?Zq(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?s6(i):[],i?.bindToComponentInputs?Xq().\u0275providers:[],i?.enableViewTransitions?e6().\u0275providers:[],a6()]}}static forChild(t){return{ngModule:n,providers:[{provide:b_,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(te(KO,8))}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();function n6(){return{provide:SP,useFactory:()=>{let n=R(xO),e=R(ye),t=R(Bh),i=R(O1),r=R(kh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Wq(r,i,n,e,t)}}}function i6(){return{provide:pr,useClass:r_}}function r6(){return{provide:pr,useClass:Fb}}function o6(n){return"guarded"}function s6(n){return[n.initialNavigation==="disabled"?Jq().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Yq().\u0275providers:[]]}var QO=new se("");function a6(){return[{provide:QO,useFactory:Qq},{provide:Eb,multi:!0,useExisting:QO}]}var LP=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(J(qr),J(nt))}}static{this.\u0275dir=qe({type:n})}}return n})(),BP=(()=>{class n extends LP{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275dir=qe({type:n,features:[$i]})}}return n})(),mr=new se("");var l6={provide:mr,useExisting:Cn(()=>qt),multi:!0};function c6(){let n=Wr()?Wr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var u6=new se(""),qt=(()=>{class n extends LP{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!c6())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(J(qr),J(nt),J(u6,8))}}static{this.\u0275dir=qe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&j("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[hi([l6]),$i]})}}return n})();function Ms(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function jP(n){return n!=null&&typeof n.length=="number"}var Gh=new se(""),$1=new se(""),d6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dt=class{static min(e){return h6(e)}static max(e){return f6(e)}static required(e){return p6(e)}static requiredTrue(e){return m6(e)}static email(e){return g6(e)}static minLength(e){return _6(e)}static maxLength(e){return y6(e)}static pattern(e){return v6(e)}static nullValidator(e){return $P(e)}static compose(e){return WP(e)}static composeAsync(e){return QP(e)}};function h6(n){return e=>{if(Ms(e.value)||Ms(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function f6(n){return e=>{if(Ms(e.value)||Ms(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function p6(n){return Ms(n.value)?{required:!0}:null}function m6(n){return n.value===!0?null:{required:!0}}function g6(n){return Ms(n.value)||d6.test(n.value)?null:{email:!0}}function _6(n){return e=>Ms(e.value)||!jP(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function y6(n){return e=>jP(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function v6(n){if(!n)return $P;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ms(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function $P(n){return null}function UP(n){return n!=null}function HP(n){return ja(n)?Se(n):n}function GP(n){let e={};return n.forEach(t=>{e=t!=null?Y(Y({},e),t):e}),Object.keys(e).length===0?null:e}function qP(n,e){return e.map(t=>t(n))}function E6(n){return!n.validate}function zP(n){return n.map(e=>E6(e)?e:t=>e.validate(t))}function WP(n){if(!n)return null;let e=n.filter(UP);return e.length==0?null:function(t){return GP(qP(t,e))}}function KP(n){return n!=null?WP(zP(n)):null}function QP(n){if(!n)return null;let e=n.filter(UP);return e.length==0?null:function(t){let i=qP(t,e).map(HP);return eE(i).pipe(ce(GP))}}function YP(n){return n!=null?QP(zP(n)):null}function MP(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function JP(n){return n._rawValidators}function ZP(n){return n._rawAsyncValidators}function V1(n){return n?Array.isArray(n)?n:[n]:[]}function A_(n,e){return Array.isArray(n)?n.includes(e):n===e}function xP(n,e){let t=V1(e);return V1(n).forEach(r=>{A_(t,r)||t.push(r)}),t}function RP(n,e){return V1(e).filter(t=>!A_(n,t))}var N_=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Wa=class extends N_{get formDirective(){return null}get path(){return null}},Zr=class extends N_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},M_=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},w6={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lfe=Me(Y({},w6),{"[class.ng-submitted]":"isSubmitted"}),fn=(()=>{class n extends M_{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(J(Zr,2))}}static{this.\u0275dir=qe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Vn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[$i]})}}return n})(),Xr=(()=>{class n extends M_{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(J(Wa,10))}}static{this.\u0275dir=qe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Vn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[$i]})}}return n})();var $h="VALID",S_="INVALID",Gc="PENDING",Uh="DISABLED";function U1(n){return(P_(n)?n.validators:n)||null}function b6(n){return Array.isArray(n)?KP(n):n||null}function H1(n,e){return(P_(e)?e.asyncValidators:n)||null}function D6(n){return Array.isArray(n)?YP(n):n||null}function P_(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function XP(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new le(1e3,"");if(!i[t])throw new le(1001,"")}function ek(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new le(1002,"")})}var qc=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$h}get invalid(){return this.status===S_}get pending(){return this.status==Gc}get disabled(){return this.status===Uh}get enabled(){return this.status!==Uh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RP(e,this._rawAsyncValidators))}hasValidator(e){return A_(this._rawValidators,e)}hasAsyncValidator(e){return A_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Gc,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Uh,this.errors=null,this._forEachChild(i=>{i.disable(Me(Y({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Me(Y({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=$h,this._forEachChild(i=>{i.enable(Me(Y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Me(Y({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$h||this.status===Gc)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uh:$h}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Gc,this._hasOwnPendingAsyncValidator=!0;let t=HP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?Uh:this.errors?S_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gc)?Gc:this._anyControlsHaveStatus(S_)?S_:$h}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){P_(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=b6(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=D6(this._rawAsyncValidators)}},x_=class extends qc{constructor(e,t,i){super(U1(t),H1(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ek(this,!0,e),Object.keys(e).forEach(i=>{XP(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var L1=class extends x_{};var qh=new se("CallSetDisabledState",{providedIn:"root",factory:()=>zh}),zh="always";function tk(n,e){return[...e.path,n]}function B1(n,e,t=zh){G1(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),I6(n,e),S6(n,e),T6(n,e),C6(n,e)}function OP(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),O_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function R_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function C6(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function G1(n,e){let t=JP(n);e.validator!==null?n.setValidators(MP(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=ZP(n);e.asyncValidator!==null?n.setAsyncValidators(MP(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();R_(e._rawValidators,r),R_(e._rawAsyncValidators,r)}function O_(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=JP(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=ZP(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return R_(e._rawValidators,i),R_(e._rawAsyncValidators,i),t}function I6(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&nk(n,e)})}function T6(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&nk(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function nk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function S6(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function A6(n,e){n==null,G1(n,e)}function N6(n,e){return O_(n,e)}function ik(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function M6(n){return Object.getPrototypeOf(n.constructor)===BP}function x6(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function rk(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===qt?t=o:M6(o)?i=o:r=o}),r||i||t||null}function R6(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function PP(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function kP(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Hh=class extends qc{constructor(e=null,t,i){super(U1(t),H1(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),P_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(kP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var O6=n=>n instanceof Hh;var P6={provide:Zr,useExisting:Cn(()=>xi)},FP=Promise.resolve(),xi=(()=>{class n extends Zr{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Hh,this._registered=!1,this.name="",this.update=new Re,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rk(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),ik(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){B1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){FP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Ua(i);FP.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?tk(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(J(Wa,9),J(Gh,10),J($1,10),J(mr,10),J(Qn,8),J(qh,8))}}static{this.\u0275dir=qe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[pt.None,"disabled","isDisabled"],model:[pt.None,"ngModel","model"],options:[pt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[hi([P6]),$i,In]})}}return n})(),eo=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=qe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var k6={provide:mr,useExisting:Cn(()=>q1),multi:!0};var F6=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),q1=(()=>{class n extends BP{constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=R(qh,{optional:!0})??zh}ngOnInit(){this._control=this._injector.get(Zr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||n)(J(qr),J(nt),J(F6),J(Ye))}}static{this.\u0275dir=qe({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&j("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[hi([k6]),$i]})}}return n})();var ok=new se("");var V6={provide:Wa,useExisting:Cn(()=>gr)},gr=(()=>{class n extends Wa{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Re,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(O_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return B1(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){OP(t.control||null,t,!1),R6(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,x6(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(OP(i||null,t),O6(r)&&(B1(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);A6(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&N6(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){G1(this.form,this),this._oldForm&&O_(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(J(Gh,10),J($1,10),J(qh,8))}}static{this.\u0275dir=qe({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&j("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[pt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hi([V6]),$i,In]})}}return n})();var L6={provide:Zr,useExisting:Cn(()=>_r)},_r=(()=>{class n extends Zr{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Re,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rk(this,o)}ngOnChanges(t){this._added||this._setUpControl(),ik(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return tk(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(J(Wa,13),J(Gh,10),J($1,10),J(mr,10),J(ok,8))}}static{this.\u0275dir=qe({type:n,selectors:[["","formControlName",""]],inputs:{name:[pt.None,"formControlName","name"],isDisabled:[pt.None,"disabled","isDisabled"],model:[pt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[hi([L6]),$i,In]})}}return n})();var sk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})(),j1=class extends qc{constructor(e,t,i){super(U1(t),H1(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ek(this,!1,e),e.forEach((i,r)=>{XP(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function VP(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var to=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return VP(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new x_(r,o)}record(t,i=null){let r=this._reduceControls(t);return new L1(r,i)}control(t,i,r){let o={};return this.useNonNullable?(VP(i)?o=i:(o.validators=i,o.asyncValidators=r),new Hh(t,Me(Y({},o),{nonNullable:!0}))):new Hh(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new j1(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Hh)return t;if(t instanceof qc)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var zc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:qh,useValue:t.callSetDisabledState??zh}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({imports:[sk]})}}return n})(),ak=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ok,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:qh,useValue:t.callSetDisabledState??zh}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({imports:[sk]})}}return n})();var B6="firebase",j6="10.14.1";Zt(B6,j6,"app");var pi=new No("ANGULARFIRE2_VERSION");function F_(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Wh=(n,e)=>{let t=e?[e]:jp(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},yr=class{constructor(){return Wh($6)}},$6="app-check";function Wc(){}var k_=class{zone;delegate;constructor(e,t=Jv){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},z1=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wc,{},Wc,Wc)),t.pipe(bt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},io=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new k_(Zone.current)),this.insideAngular=t.run(()=>new k_(Zone.current,Fi)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(te(ye))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function V_(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function U6(n){return V_().ngZone.runOutsideAngular(()=>n())}function Ka(n){return V_().ngZone.run(()=>n())}function Jn(n){return H6(V_())(n)}function H6(n){return function(t){return t=t.lift(new z1(n.ngZone)),t.pipe(Vi(n.outsideAngular),wi(n.insideAngular))}}var G6=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ka(()=>n.apply(void 0,i))},Bn=(n,e)=>function(){let t,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(t||=Ka(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wc,{},Wc,Wc))),i[o]=G6(i[o],t));let r=U6(()=>n.apply(this,i));if(!e)if(r instanceof pe){let o=V_();return r.pipe(Vi(o.outsideAngular),wi(o.insideAngular))}else return Ka(()=>r);return r instanceof pe?r.pipe(Jn):r instanceof Promise?Ka(()=>new Promise((o,s)=>r.then(a=>Ka(()=>o(a)),a=>Ka(()=>s(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Ka(()=>r)};var Bo=class{constructor(e){return e}},Qa=class{constructor(){return jp()}};function q6(n){return n&&n.length===1?n[0]:new Bo(ga())}var W1=new se("angularfire2._apps"),z6={provide:Bo,useFactory:q6,deps:[[new dn,W1]]},W6={provide:Qa,deps:[[new dn,W1]]};function K6(n){return(e,t)=>{let i=t.get(Tn);Zt("angularfire",pi.full,"core"),Zt("angularfire",pi.full,"app"),Zt("angular",Bg.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Bo(r)}}function ck(n,...e){return vs([z6,W6,{provide:W1,useFactory:K6(n),multi:!0,deps:[ye,Ye,io,...e]}])}var uk=Bn(iN,!0);function fk(n){return new pe(function(e){var t=Hp(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var pk="auth",Ya=class{constructor(e){return e}},Kh=class{constructor(){return Wh(pk)}};var K1=new se("angularfire2.auth-instances");function $z(n,e){let t=F_(pk,n,e);return t&&new Ya(t)}function Uz(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Ya(i)}}var Hz={provide:Kh,deps:[[new dn,K1]]},Gz={provide:Ya,useFactory:$z,deps:[[new dn,K1],Bo]};function mk(n,...e){return Zt("angularfire",pi.full,"auth"),vs([Gz,Hz,{provide:K1,useFactory:Uz(n),multi:!0,deps:[ye,Ye,io,Qa,[new dn,yr],...e]}])}var gk=Bn(fk,!0);var _k=Bn(Vv,!0);var yk=Bn(Lv,!0);var pn=(()=>{class n{constructor(){this.firebaseAuth=R(Ya),this.userSubject=new cs(1),this.user$=this.userSubject.asObservable(),gk(this.firebaseAuth).subscribe(t=>{t?this.userSubject.next({uid:t.uid,email:t.email,displayName:t.displayName??""}):this.userSubject.next(null)})}register(t,i,r){let o=_k(this.firebaseAuth,t,r).then(s=>{Up(s.user,{displayName:i})});return Se(o)}login(t,i){let r=$p(this.firebaseAuth,t,i).then(()=>{});return Se(r)}logout(){let t=Gp(this.firebaseAuth);return this.userSubject.next(null),Se(t)}currentUserSig(){let t=null;return this.user$.subscribe(i=>t=i).unsubscribe(),t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var L_=(()=>{class n{constructor(t){this.ngControl=t}onInputChange(t){let r=t.target.value.replace(/[\u0E00-\u0E7F]/g,"");this.ngControl.control?.setValue(r)}static{this.\u0275fac=function(i){return new(i||n)(J(Zr))}}static{this.\u0275dir=qe({type:n,selectors:[["","appNoThai",""]],hostBindings:function(i,r){i&1&&j("input",function(s){return r.onInputChange(s)})}})}}return n})();var wk=n=>({"is-invalid":n}),qz=()=>["/register"];function zz(n,e){if(n&1&&(y(0,"div"),A(1),v()),n&2){let t=z();O(),Be(t.errorMessage)}}function Wz(n,e){n&1&&(y(0,"div",13),A(1,"*\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 email"),v())}function Kz(n,e){n&1&&(y(0,"div",13),A(1,"*\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 password"),v())}function Qz(n,e){n&1&&(y(0,"div",13),A(1,"*\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22 6 \u0E15\u0E31\u0E27"),v())}var bk=(()=>{class n{constructor(t,i){this.authService=t,this.router=i,this.fb=R(to),this.form=this.fb.nonNullable.group({email:["",dt.required],password:["",[dt.required,dt.minLength(6)]]}),this.errorMessage=null}onSubmit(){if(this.form.valid){let t=this.form.getRawValue();this.authService.login(t.email,t.password).subscribe({next:()=>{this.router.navigateByUrl("/")},error:i=>{this.errorMessage=i.code}})}}get email(){return this.form.get("email")}get password(){return this.form.get("password")}static{this.\u0275fac=function(i){return new(i||n)(J(pn),J(Gt))}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-login"]],decls:21,vars:13,consts:[[1,"row","justify-content-center","align-items-center"],[1,"col-sm-6","col-lg-4"],[4,"ngIf"],[1,"needs-validation",3,"ngSubmit","formGroup"],[1,"mb-3"],["formControlName","email","placeholder","Email","appNoThai","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","password","placeholder","Password","type","password",1,"form-control",3,"ngClass"],[1,"btn-toolbar","text-center","well"],["type","submit",1,"btn","btn-outline-primary"],[1,"pt-3"],[1,"small"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"invalid-feedback"]],template:function(i,r){i&1&&(y(0,"div",0)(1,"div",1)(2,"h1"),A(3,"Login"),v(),he(4,zz,2,1,"div",2),y(5,"form",3),j("ngSubmit",function(){return r.onSubmit()}),y(6,"div",4),ie(7,"input",5),he(8,Wz,2,0,"div",6),v(),y(9,"div",4),ie(10,"input",7),he(11,Kz,2,0,"div",6)(12,Qz,2,0,"div",6),v(),y(13,"div",8)(14,"button",9),A(15,"Sign In"),v()()(),y(16,"div",10)(17,"div",11),A(18,"\u0E2B\u0E32\u0E01\u0E04\u0E38\u0E13\u0E22\u0E31\u0E07\u0E44\u0E21\u0E48\u0E21\u0E35\u0E1A\u0E31\u0E0D\u0E0A\u0E35? \u0E04\u0E25\u0E34\u0E01\u0E2A\u0E21\u0E31\u0E04\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),y(19,"a",12),A(20,"\u0E04\u0E25\u0E34\u0E01\u0E17\u0E35\u0E48\u0E19\u0E35\u0E48"),v()()()()()),i&2&&(O(4),K("ngIf",r.errorMessage),O(),K("formGroup",r.form),O(2),K("ngClass",rn(8,wk,(r.email==null?null:r.email.invalid)&&((r.email==null?null:r.email.dirty)||(r.email==null?null:r.email.touched)))),O(),K("ngIf",r.email==null||r.email.errors==null?null:r.email.errors.required),O(2),K("ngClass",rn(10,wk,(r.password==null?null:r.password.invalid)&&((r.password==null?null:r.password.dirty)||(r.password==null?null:r.password.touched)))),O(),K("ngIf",r.password==null||r.password.errors==null?null:r.password.errors.required),O(),K("ngIf",r.password==null||r.password.errors==null?null:r.password.errors.minlength),O(7),K("routerLink",Lg(12,qz)))},dependencies:[Uc,T_,eo,qt,fn,Xr,gr,_r,zi,Ln,L_]})}}return n})();var Q1=n=>({"is-invalid":n}),Yz=()=>["/login"];function Jz(n,e){if(n&1&&(y(0,"div"),A(1),v()),n&2){let t=z();O(),Be(t.errorMessage)}}function Zz(n,e){n&1&&(y(0,"div",14),A(1,"*\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 username"),v())}function Xz(n,e){n&1&&(y(0,"div",14),A(1,"*\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 email"),v())}function eW(n,e){n&1&&(y(0,"div",14),A(1,"*\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38\u0E2D\u0E35\u0E40\u0E21\u0E25\u0E17\u0E35\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"),v())}function tW(n,e){n&1&&(y(0,"div",14),A(1,"*\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 password"),v())}function nW(n,e){n&1&&(y(0,"div",14),A(1,"*\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22 6 \u0E15\u0E31\u0E27"),v())}var Dk=(()=>{class n{constructor(t,i){this.authService=t,this.router=i,this.fb=R(to),this.form=this.fb.nonNullable.group({username:["",dt.required],email:["",[dt.required,dt.email]],password:["",[dt.required,dt.minLength(6)]]}),this.errorMessage=null}onSubmit(){if(this.form.valid){let t=this.form.getRawValue();this.authService.register(t.email,t.username,t.password).subscribe({next:()=>{this.router.navigateByUrl("/")},error:i=>{this.errorMessage=i.code}})}else this.checkFormValidity()}checkFormValidity(){for(let t in this.form.controls)this.form.controls[t].invalid&&console.log(`${t} is invalid`,this.form.controls[t].errors)}get username(){return this.form.get("username")}get email(){return this.form.get("email")}get password(){return this.form.get("password")}static{this.\u0275fac=function(i){return new(i||n)(J(pn),J(Gt))}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-register"]],decls:26,vars:18,consts:[[1,"row","justify-content-center","align-items-center"],[1,"col-sm-6","col-lg-4"],[4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["formControlName","username","placeholder","Username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","email","placeholder","Email",1,"form-control",3,"ngClass"],["formControlName","password","placeholder","Password","type","password","appNoThai","",1,"form-control",3,"ngClass"],[1,"btn-toolbar","text-center","well"],["type","submit",1,"btn","btn-outline-primary"],[1,"pt-3"],[1,"small"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"invalid-feedback"]],template:function(i,r){i&1&&(y(0,"div",0)(1,"div",1)(2,"h1"),A(3,"Register"),v(),he(4,Jz,2,1,"div",2),y(5,"form",3),j("ngSubmit",function(){return r.onSubmit()}),y(6,"div",4),ie(7,"input",5),he(8,Zz,2,0,"div",6),v(),y(9,"div",4),ie(10,"input",7),he(11,Xz,2,0,"div",6)(12,eW,2,0,"div",6),v(),y(13,"div",4),ie(14,"input",8),he(15,tW,2,0,"div",6)(16,nW,2,0,"div",6),v(),ie(17,"div"),y(18,"div",9)(19,"button",10),A(20,"Sign Up"),v()()(),y(21,"div",11)(22,"div",12),A(23,"\u0E2B\u0E32\u0E01\u0E04\u0E38\u0E13\u0E21\u0E35\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E2D\u0E22\u0E39\u0E48\u0E41\u0E25\u0E49\u0E27? "),y(24,"a",13),A(25,"\u0E04\u0E25\u0E34\u0E01\u0E17\u0E35\u0E48\u0E19\u0E35\u0E48"),v()()()()()),i&2&&(O(4),K("ngIf",r.errorMessage),O(),K("formGroup",r.form),O(2),K("ngClass",rn(11,Q1,(r.username==null?null:r.username.invalid)&&((r.username==null?null:r.username.dirty)||(r.username==null?null:r.username.touched)))),O(),K("ngIf",r.username==null||r.username.errors==null?null:r.username.errors.required),O(2),K("ngClass",rn(13,Q1,(r.email==null?null:r.email.invalid)&&((r.email==null?null:r.email.dirty)||(r.email==null?null:r.email.touched)))),O(),K("ngIf",r.email==null||r.email.errors==null?null:r.email.errors.required),O(),K("ngIf",r.email==null||r.email.errors==null?null:r.email.errors.email),O(2),K("ngClass",rn(15,Q1,(r.password==null?null:r.password.invalid)&&((r.password==null?null:r.password.dirty)||(r.password==null?null:r.password.touched)))),O(),K("ngIf",r.password==null||r.password.errors==null?null:r.password.errors.required),O(),K("ngIf",r.password==null||r.password.errors==null?null:r.password.errors.minlength),O(8),K("routerLink",Lg(17,Yz)))},dependencies:[Uc,T_,eo,qt,fn,Xr,gr,_r,zi,Ln,L_]})}}return n})();var Ck=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-about"]],decls:26,vars:0,consts:[[1,"about-container"],["target","_blank","href","mailto:nattapongsripo@gmail.com"]],template:function(i,r){i&1&&(y(0,"div",0)(1,"h1"),A(2,"About Us"),v(),y(3,"p"),A(4," \u0E22\u0E34\u0E19\u0E14\u0E35\u0E15\u0E49\u0E2D\u0E19\u0E23\u0E31\u0E1A\u0E2A\u0E39\u0E48\u0E40\u0E27\u0E47\u0E1A\u0E44\u0E0B\u0E15\u0E4C\u0E02\u0E2D\u0E07\u0E40\u0E23\u0E32! \u0E40\u0E23\u0E32\u0E40\u0E1B\u0E47\u0E19\u0E17\u0E35\u0E21\u0E07\u0E32\u0E19\u0E17\u0E35\u0E48\u0E21\u0E38\u0E48\u0E07\u0E21\u0E31\u0E48\u0E19\u0E17\u0E38\u0E48\u0E21\u0E40\u0E17\u0E43\u0E19\u0E01\u0E32\u0E23\u0E43\u0E2B\u0E49\u0E1A\u0E23\u0E34\u0E01\u0E32\u0E23\u0E41\u0E25\u0E30\u0E42\u0E0B\u0E25\u0E39\u0E0A\u0E31\u0E48\u0E19\u0E17\u0E35\u0E48\u0E14\u0E35\u0E17\u0E35\u0E48\u0E2A\u0E38\u0E14\u0E41\u0E01\u0E48\u0E25\u0E39\u0E01\u0E04\u0E49\u0E32\u0E02\u0E2D\u0E07\u0E40\u0E23\u0E32 "),v(),y(5,"h2"),A(6,"Our Mission"),v(),y(7,"p"),A(8," \u0E20\u0E32\u0E23\u0E01\u0E34\u0E08\u0E02\u0E2D\u0E07\u0E40\u0E23\u0E32\u0E04\u0E37\u0E2D\u0E01\u0E32\u0E23\u0E04\u0E34\u0E14\u0E04\u0E49\u0E19\u0E41\u0E25\u0E30\u0E2A\u0E48\u0E07\u0E21\u0E2D\u0E1A\u0E1A\u0E23\u0E34\u0E01\u0E32\u0E23\u0E04\u0E38\u0E13\u0E20\u0E32\u0E1E\u0E2A\u0E39\u0E07\u0E2A\u0E38\u0E14\u0E17\u0E35\u0E48\u0E40\u0E01\u0E34\u0E19\u0E04\u0E27\u0E32\u0E21\u0E04\u0E32\u0E14\u0E2B\u0E27\u0E31\u0E07\u0E02\u0E2D\u0E07\u0E25\u0E39\u0E01\u0E04\u0E49\u0E32 \u0E40\u0E23\u0E32\u0E21\u0E38\u0E48\u0E07\u0E21\u0E31\u0E48\u0E19\u0E17\u0E35\u0E48\u0E08\u0E30\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E1C\u0E25\u0E01\u0E23\u0E30\u0E17\u0E1A\u0E40\u0E0A\u0E34\u0E07\u0E1A\u0E27\u0E01\u0E43\u0E19\u0E42\u0E25\u0E01\u0E42\u0E14\u0E22\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E1B\u0E31\u0E0D\u0E2B\u0E32\u0E04\u0E27\u0E32\u0E21\u0E17\u0E49\u0E32\u0E17\u0E32\u0E22\u0E43\u0E19\u0E42\u0E25\u0E01\u0E41\u0E2B\u0E48\u0E07\u0E04\u0E27\u0E32\u0E21\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E23\u0E34\u0E07\u0E1C\u0E48\u0E32\u0E19\u0E40\u0E17\u0E04\u0E42\u0E19\u0E42\u0E25\u0E22\u0E35\u0E41\u0E25\u0E30\u0E04\u0E27\u0E32\u0E21\u0E04\u0E34\u0E14\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E2A\u0E23\u0E23\u0E04\u0E4C "),v(),y(9,"h2"),A(10,"Our Values"),v(),y(11,"ul")(12,"li"),A(13,"\u0E04\u0E27\u0E32\u0E21\u0E0B\u0E37\u0E48\u0E2D\u0E2A\u0E31\u0E15\u0E22\u0E4C: \u0E40\u0E23\u0E32\u0E40\u0E0A\u0E37\u0E48\u0E2D\u0E43\u0E19\u0E04\u0E27\u0E32\u0E21\u0E42\u0E1B\u0E23\u0E48\u0E07\u0E43\u0E2A\u0E41\u0E25\u0E30\u0E04\u0E27\u0E32\u0E21\u0E0B\u0E37\u0E48\u0E2D\u0E2A\u0E31\u0E15\u0E22\u0E4C\u0E43\u0E19\u0E17\u0E38\u0E01\u0E2A\u0E34\u0E48\u0E07\u0E17\u0E35\u0E48\u0E40\u0E23\u0E32\u0E17\u0E33"),v(),y(14,"li"),A(15,"\u0E25\u0E39\u0E01\u0E04\u0E49\u0E32\u0E40\u0E1B\u0E47\u0E19\u0E28\u0E39\u0E19\u0E22\u0E4C\u0E01\u0E25\u0E32\u0E07: \u0E25\u0E39\u0E01\u0E04\u0E49\u0E32\u0E02\u0E2D\u0E07\u0E40\u0E23\u0E32\u0E04\u0E37\u0E2D\u0E2B\u0E31\u0E27\u0E43\u0E08\u0E2A\u0E33\u0E04\u0E31\u0E0D\u0E02\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E15\u0E31\u0E14\u0E2A\u0E34\u0E19\u0E43\u0E08\u0E02\u0E2D\u0E07\u0E40\u0E23\u0E32"),v(),y(16,"li"),A(17,"\u0E19\u0E27\u0E31\u0E15\u0E01\u0E23\u0E23\u0E21: \u0E40\u0E23\u0E32\u0E22\u0E2D\u0E21\u0E23\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E41\u0E1B\u0E25\u0E07\u0E41\u0E25\u0E30\u0E21\u0E38\u0E48\u0E07\u0E21\u0E31\u0E48\u0E19\u0E17\u0E35\u0E48\u0E08\u0E30\u0E1B\u0E23\u0E31\u0E1A\u0E1B\u0E23\u0E38\u0E07\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E15\u0E48\u0E2D\u0E40\u0E19\u0E37\u0E48\u0E2D\u0E07"),v(),y(18,"li"),A(19,"\u0E01\u0E32\u0E23\u0E17\u0E33\u0E07\u0E32\u0E19\u0E23\u0E48\u0E27\u0E21\u0E01\u0E31\u0E19: \u0E40\u0E23\u0E32\u0E17\u0E33\u0E07\u0E32\u0E19\u0E23\u0E48\u0E27\u0E21\u0E01\u0E31\u0E19\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E1A\u0E23\u0E23\u0E25\u0E38\u0E40\u0E1B\u0E49\u0E32\u0E2B\u0E21\u0E32\u0E22\u0E02\u0E2D\u0E07\u0E40\u0E23\u0E32"),v()(),y(20,"h2"),A(21,"Contact Us"),v(),y(22,"p"),A(23," \u0E2B\u0E32\u0E01\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E40\u0E23\u0E35\u0E22\u0E19\u0E23\u0E39\u0E49\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E15\u0E34\u0E21\u0E40\u0E01\u0E35\u0E48\u0E22\u0E27\u0E01\u0E31\u0E1A\u0E1A\u0E23\u0E34\u0E01\u0E32\u0E23\u0E02\u0E2D\u0E07\u0E40\u0E23\u0E32\u0E2B\u0E23\u0E37\u0E2D\u0E21\u0E35\u0E04\u0E33\u0E16\u0E32\u0E21\u0E43\u0E14 \u0E46 "),y(24,"a",1),A(25,"\u0E42\u0E1B\u0E23\u0E14\u0E15\u0E34\u0E14\u0E15\u0E48\u0E2D\u0E40\u0E23\u0E32"),v()()())},styles:[".about-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6;margin-bottom:20px}ul[_ngcontent-%COMP%]{list-style-type:disc;margin-left:20px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return n})();var Qh=(n,e)=>{let t=R(pn),i=R(Gt);return t.user$.pipe($t(1),ce(r=>r?!0:(i.navigate(["/login"]),!1)))},Y1=(n,e)=>{let t=R(pn),i=R(Gt);return t.user$.pipe($t(1),ce(r=>r?(i.navigate(["/home"]),!1):!0))};var iW=Math.pow(10,8)*24*60*60*1e3,Wpe=-iW;var rW=3600;var Ik=rW*24,Kpe=Ik*7,oW=Ik*365.2425,sW=oW/12,Qpe=sW*3,J1=Symbol.for("constructDateFrom");function Tk(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&J1 in n?n[J1](e):n instanceof Date?new n.constructor(e):new Date(e)}function B_(n,e){return Tk(e||n,n)}function Sk(n,e){let t=B_(n,e?.in);return t.setHours(0,0,0,0),t}function Ak(n,e){let t=B_(n,e?.in);return t.setHours(23,59,59,999),t}var j_=(()=>{class n{constructor(){this.theme=localStorage.getItem("theme")||"light",this.applyTheme(this.theme)}setTheme(t){this.theme=t,localStorage.setItem("theme",t),this.applyTheme(t)}getTheme(){return this.theme}applyTheme(t){document.body.className="",document.body.classList.add(`theme-${t}`),document.querySelectorAll("table").forEach(r=>{t==="dark"?r.classList.add("table-dark"):r.classList.remove("table-dark")})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Yh(n){n||(ug(Yh),n=R(Ro));let e=new pe(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(xt(e))}var W_={};hj(W_,{afterMain:()=>kk,afterRead:()=>Rk,afterWrite:()=>Lk,applyStyles:()=>Qc,arrow:()=>Jc,auto:()=>Jh,basePlacements:()=>jo,beforeMain:()=>Ok,beforeRead:()=>Mk,beforeWrite:()=>Fk,bottom:()=>zt,clippingParents:()=>Z1,computeStyles:()=>Zc,createPopper:()=>af,createPopperBase:()=>Wk,createPopperLite:()=>z_,detectOverflow:()=>Xn,end:()=>xs,eventListeners:()=>Xc,flip:()=>nu,hide:()=>q_,left:()=>Tt,main:()=>Pk,modifierPhases:()=>eD,offset:()=>iu,placements:()=>Xh,popper:()=>Ja,popperGenerator:()=>ol,popperOffsets:()=>ru,preventOverflow:()=>ou,read:()=>xk,reference:()=>X1,right:()=>kt,start:()=>ro,top:()=>yt,variationPlacements:()=>$_,viewport:()=>Zh,write:()=>Vk});var yt="top",zt="bottom",kt="right",Tt="left",Jh="auto",jo=[yt,zt,kt,Tt],ro="start",xs="end",Z1="clippingParents",Zh="viewport",Ja="popper",X1="reference",$_=jo.reduce(function(n,e){return n.concat([e+"-"+ro,e+"-"+xs])},[]),Xh=[].concat(jo,[Jh]).reduce(function(n,e){return n.concat([e,e+"-"+ro,e+"-"+xs])},[]),Mk="beforeRead",xk="read",Rk="afterRead",Ok="beforeMain",Pk="main",kk="afterMain",Fk="beforeWrite",Vk="write",Lk="afterWrite",eD=[Mk,xk,Rk,Ok,Pk,kk,Fk,Vk,Lk];function mn(n){return n?(n.nodeName||"").toLowerCase():null}function mt(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Ki(n){var e=mt(n).Element;return n instanceof e||n instanceof Element}function on(n){var e=mt(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Kc(n){if(typeof ShadowRoot>"u")return!1;var e=mt(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function aW(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];!on(o)||!mn(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function lW(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=s.reduce(function(l,u){return l[u]="",l},{});!on(r)||!mn(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var Qc={name:"applyStyles",enabled:!0,phase:"write",fn:aW,effect:lW,requires:["computeStyles"]};function gn(n){return n.split("-")[0]}var vr=Math.max,Za=Math.min,$o=Math.round;function Yc(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ef(){return!/^((?!chrome|android).)*safari/i.test(Yc())}function Qi(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,o=1;e&&on(n)&&(r=n.offsetWidth>0&&$o(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&$o(i.height)/n.offsetHeight||1);var s=Ki(n)?mt(n):window,a=s.visualViewport,l=!ef()&&t,u=(i.left+(l&&a?a.offsetLeft:0))/r,d=(i.top+(l&&a?a.offsetTop:0))/o,f=i.width/r,m=i.height/o;return{width:f,height:m,top:d,right:u+f,bottom:d+m,left:u,x:u,y:d}}function Xa(n){var e=Qi(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function tf(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Kc(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Zn(n){return mt(n).getComputedStyle(n)}function tD(n){return["table","td","th"].indexOf(mn(n))>=0}function An(n){return((Ki(n)?n.ownerDocument:n.document)||window.document).documentElement}function Uo(n){return mn(n)==="html"?n:n.assignedSlot||n.parentNode||(Kc(n)?n.host:null)||An(n)}function Bk(n){return!on(n)||Zn(n).position==="fixed"?null:n.offsetParent}function cW(n){var e=/firefox/i.test(Yc()),t=/Trident/i.test(Yc());if(t&&on(n)){var i=Zn(n);if(i.position==="fixed")return null}var r=Uo(n);for(Kc(r)&&(r=r.host);on(r)&&["html","body"].indexOf(mn(r))<0;){var o=Zn(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Er(n){for(var e=mt(n),t=Bk(n);t&&tD(t)&&Zn(t).position==="static";)t=Bk(t);return t&&(mn(t)==="html"||mn(t)==="body"&&Zn(t).position==="static")?e:t||cW(n)||e}function el(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function tl(n,e,t){return vr(n,Za(e,t))}function jk(n,e,t){var i=tl(n,e,t);return i>t?t:i}function nf(){return{top:0,right:0,bottom:0,left:0}}function rf(n){return Object.assign({},nf(),n)}function of(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var uW=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,rf(typeof e!="number"?e:of(e,jo))};function dW(n){var e,t=n.state,i=n.name,r=n.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=gn(t.placement),l=el(a),u=[Tt,kt].indexOf(a)>=0,d=u?"height":"width";if(!(!o||!s)){var f=uW(r.padding,t),m=Xa(o),g=l==="y"?yt:Tt,D=l==="y"?zt:kt,I=t.rects.reference[d]+t.rects.reference[l]-s[l]-t.rects.popper[d],T=s[l]-t.rects.reference[l],F=Er(o),H=F?l==="y"?F.clientHeight||0:F.clientWidth||0:0,B=I/2-T/2,G=f[g],Z=H-m[d]-f[D],X=H/2-m[d]/2+B,C=tl(G,X,Z),E=l;t.modifiersData[i]=(e={},e[E]=C,e.centerOffset=C-X,e)}}function hW(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||tf(e.elements.popper,r)&&(e.elements.arrow=r))}var Jc={name:"arrow",enabled:!0,phase:"main",fn:dW,effect:hW,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yi(n){return n.split("-")[1]}var fW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pW(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:$o(t*r)/r||0,y:$o(i*r)/r||0}}function $k(n){var e,t=n.popper,i=n.popperRect,r=n.placement,o=n.variation,s=n.offsets,a=n.position,l=n.gpuAcceleration,u=n.adaptive,d=n.roundOffsets,f=n.isFixed,m=s.x,g=m===void 0?0:m,D=s.y,I=D===void 0?0:D,T=typeof d=="function"?d({x:g,y:I}):{x:g,y:I};g=T.x,I=T.y;var F=s.hasOwnProperty("x"),H=s.hasOwnProperty("y"),B=Tt,G=yt,Z=window;if(u){var X=Er(t),C="clientHeight",E="clientWidth";if(X===mt(t)&&(X=An(t),Zn(X).position!=="static"&&a==="absolute"&&(C="scrollHeight",E="scrollWidth")),X=X,r===yt||(r===Tt||r===kt)&&o===xs){G=zt;var w=f&&X===Z&&Z.visualViewport?Z.visualViewport.height:X[C];I-=w-i.height,I*=l?1:-1}if(r===Tt||(r===yt||r===zt)&&o===xs){B=kt;var S=f&&X===Z&&Z.visualViewport?Z.visualViewport.width:X[E];g-=S-i.width,g*=l?1:-1}}var N=Object.assign({position:a},u&&fW),x=d===!0?pW({x:g,y:I},mt(t)):{x:g,y:I};if(g=x.x,I=x.y,l){var b;return Object.assign({},N,(b={},b[G]=H?"0":"",b[B]=F?"0":"",b.transform=(Z.devicePixelRatio||1)<=1?"translate("+g+"px, "+I+"px)":"translate3d("+g+"px, "+I+"px, 0)",b))}return Object.assign({},N,(e={},e[G]=H?I+"px":"",e[B]=F?g+"px":"",e.transform="",e))}function mW(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,o=t.adaptive,s=o===void 0?!0:o,a=t.roundOffsets,l=a===void 0?!0:a,u={placement:gn(e.placement),variation:Yi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,$k(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,$k(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Zc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mW,data:{}};var U_={passive:!0};function gW(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=mt(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(d){d.addEventListener("scroll",t.update,U_)}),a&&l.addEventListener("resize",t.update,U_),function(){o&&u.forEach(function(d){d.removeEventListener("scroll",t.update,U_)}),a&&l.removeEventListener("resize",t.update,U_)}}var Xc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:gW,data:{}};var _W={left:"right",right:"left",bottom:"top",top:"bottom"};function eu(n){return n.replace(/left|right|bottom|top/g,function(e){return _W[e]})}var yW={start:"end",end:"start"};function H_(n){return n.replace(/start|end/g,function(e){return yW[e]})}function nl(n){var e=mt(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function il(n){return Qi(An(n)).left+nl(n).scrollLeft}function nD(n,e){var t=mt(n),i=An(n),r=t.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var u=ef();(u||!u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+il(n),y:l}}function iD(n){var e,t=An(n),i=nl(n),r=(e=n.ownerDocument)==null?void 0:e.body,o=vr(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=vr(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+il(n),l=-i.scrollTop;return Zn(r||t).direction==="rtl"&&(a+=vr(t.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function rl(n){var e=Zn(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function G_(n){return["html","body","#document"].indexOf(mn(n))>=0?n.ownerDocument.body:on(n)&&rl(n)?n:G_(Uo(n))}function Rs(n,e){var t;e===void 0&&(e=[]);var i=G_(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),o=mt(i),s=r?[o].concat(o.visualViewport||[],rl(i)?i:[]):i,a=e.concat(s);return r?a:a.concat(Rs(Uo(s)))}function tu(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function vW(n,e){var t=Qi(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function Uk(n,e,t){return e===Zh?tu(nD(n,t)):Ki(e)?vW(e,t):tu(iD(An(n)))}function EW(n){var e=Rs(Uo(n)),t=["absolute","fixed"].indexOf(Zn(n).position)>=0,i=t&&on(n)?Er(n):n;return Ki(i)?e.filter(function(r){return Ki(r)&&tf(r,i)&&mn(r)!=="body"}):[]}function rD(n,e,t,i){var r=e==="clippingParents"?EW(n):[].concat(e),o=[].concat(r,[t]),s=o[0],a=o.reduce(function(l,u){var d=Uk(n,u,i);return l.top=vr(d.top,l.top),l.right=Za(d.right,l.right),l.bottom=Za(d.bottom,l.bottom),l.left=vr(d.left,l.left),l},Uk(n,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function sf(n){var e=n.reference,t=n.element,i=n.placement,r=i?gn(i):null,o=i?Yi(i):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(r){case yt:l={x:s,y:e.y-t.height};break;case zt:l={x:s,y:e.y+e.height};break;case kt:l={x:e.x+e.width,y:a};break;case Tt:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=r?el(r):null;if(u!=null){var d=u==="y"?"height":"width";switch(o){case ro:l[u]=l[u]-(e[d]/2-t[d]/2);break;case xs:l[u]=l[u]+(e[d]/2-t[d]/2);break;default:}}return l}function Xn(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,o=t.strategy,s=o===void 0?n.strategy:o,a=t.boundary,l=a===void 0?Z1:a,u=t.rootBoundary,d=u===void 0?Zh:u,f=t.elementContext,m=f===void 0?Ja:f,g=t.altBoundary,D=g===void 0?!1:g,I=t.padding,T=I===void 0?0:I,F=rf(typeof T!="number"?T:of(T,jo)),H=m===Ja?X1:Ja,B=n.rects.popper,G=n.elements[D?H:m],Z=rD(Ki(G)?G:G.contextElement||An(n.elements.popper),l,d,s),X=Qi(n.elements.reference),C=sf({reference:X,element:B,strategy:"absolute",placement:r}),E=tu(Object.assign({},B,C)),w=m===Ja?E:X,S={top:Z.top-w.top+F.top,bottom:w.bottom-Z.bottom+F.bottom,left:Z.left-w.left+F.left,right:w.right-Z.right+F.right},N=n.modifiersData.offset;if(m===Ja&&N){var x=N[r];Object.keys(S).forEach(function(b){var _n=[kt,zt].indexOf(b)>=0?1:-1,vi=[yt,zt].indexOf(b)>=0?"y":"x";S[b]+=x[vi]*_n})}return S}function oD(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?Xh:l,d=Yi(i),f=d?a?$_:$_.filter(function(D){return Yi(D)===d}):jo,m=f.filter(function(D){return u.indexOf(D)>=0});m.length===0&&(m=f);var g=m.reduce(function(D,I){return D[I]=Xn(n,{placement:I,boundary:r,rootBoundary:o,padding:s})[gn(I)],D},{});return Object.keys(g).sort(function(D,I){return g[D]-g[I]})}function wW(n){if(gn(n)===Jh)return[];var e=eu(n);return[H_(n),e,H_(e)]}function bW(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!0:s,l=t.fallbackPlacements,u=t.padding,d=t.boundary,f=t.rootBoundary,m=t.altBoundary,g=t.flipVariations,D=g===void 0?!0:g,I=t.allowedAutoPlacements,T=e.options.placement,F=gn(T),H=F===T,B=l||(H||!D?[eu(T)]:wW(T)),G=[T].concat(B).reduce(function(is,ri){return is.concat(gn(ri)===Jh?oD(e,{placement:ri,boundary:d,rootBoundary:f,padding:u,flipVariations:D,allowedAutoPlacements:I}):ri)},[]),Z=e.rects.reference,X=e.rects.popper,C=new Map,E=!0,w=G[0],S=0;S<G.length;S++){var N=G[S],x=gn(N),b=Yi(N)===ro,_n=[yt,zt].indexOf(x)>=0,vi=_n?"width":"height",Gn=Xn(e,{placement:N,boundary:d,rootBoundary:f,altBoundary:m,padding:u}),yn=_n?b?kt:Tt:b?zt:yt;Z[vi]>X[vi]&&(yn=eu(yn));var Mr=eu(yn),ir=[];if(o&&ir.push(Gn[x]<=0),a&&ir.push(Gn[yn]<=0,Gn[Mr]<=0),ir.every(function(is){return is})){w=N,E=!1;break}C.set(N,ir)}if(E)for(var la=D?3:1,gd=function(ri){var ca=G.find(function(xr){var _o=C.get(xr);if(_o)return _o.slice(0,ri).every(function(_d){return _d})});if(ca)return w=ca,"break"},ii=la;ii>0;ii--){var Nt=gd(ii);if(Nt==="break")break}e.placement!==w&&(e.modifiersData[i]._skip=!0,e.placement=w,e.reset=!0)}}var nu={name:"flip",enabled:!0,phase:"main",fn:bW,requiresIfExists:["offset"],data:{_skip:!1}};function Hk(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Gk(n){return[yt,kt,zt,Tt].some(function(e){return n[e]>=0})}function DW(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=Xn(e,{elementContext:"reference"}),a=Xn(e,{altBoundary:!0}),l=Hk(s,i),u=Hk(a,r,o),d=Gk(l),f=Gk(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}var q_={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:DW};function CW(n,e,t){var i=gn(n),r=[Tt,yt].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[Tt,kt].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function IW(n){var e=n.state,t=n.options,i=n.name,r=t.offset,o=r===void 0?[0,0]:r,s=Xh.reduce(function(d,f){return d[f]=CW(f,e.rects,o),d},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=s}var iu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:IW};function TW(n){var e=n.state,t=n.name;e.modifiersData[t]=sf({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var ru={name:"popperOffsets",enabled:!0,phase:"read",fn:TW,data:{}};function sD(n){return n==="x"?"y":"x"}function SW(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!1:s,l=t.boundary,u=t.rootBoundary,d=t.altBoundary,f=t.padding,m=t.tether,g=m===void 0?!0:m,D=t.tetherOffset,I=D===void 0?0:D,T=Xn(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),F=gn(e.placement),H=Yi(e.placement),B=!H,G=el(F),Z=sD(G),X=e.modifiersData.popperOffsets,C=e.rects.reference,E=e.rects.popper,w=typeof I=="function"?I(Object.assign({},e.rects,{placement:e.placement})):I,S=typeof w=="number"?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,x={x:0,y:0};if(X){if(o){var b,_n=G==="y"?yt:Tt,vi=G==="y"?zt:kt,Gn=G==="y"?"height":"width",yn=X[G],Mr=yn+T[_n],ir=yn-T[vi],la=g?-E[Gn]/2:0,gd=H===ro?C[Gn]:E[Gn],ii=H===ro?-E[Gn]:-C[Gn],Nt=e.elements.arrow,is=g&&Nt?Xa(Nt):{width:0,height:0},ri=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:nf(),ca=ri[_n],xr=ri[vi],_o=tl(0,C[Gn],is[Gn]),_d=B?C[Gn]/2-la-_o-ca-S.mainAxis:gd-_o-ca-S.mainAxis,Ul=B?-C[Gn]/2+la+_o+xr+S.mainAxis:ii+_o+xr+S.mainAxis,rs=e.elements.arrow&&Er(e.elements.arrow),yd=rs?G==="y"?rs.clientTop||0:rs.clientLeft||0:0,Hl=(b=N?.[G])!=null?b:0,vd=yn+_d-Hl-yd,Ed=yn+Ul-Hl,wd=tl(g?Za(Mr,vd):Mr,yn,g?vr(ir,Ed):ir);X[G]=wd,x[G]=wd-yn}if(a){var bd,gv=G==="x"?yt:Tt,gp=G==="x"?zt:kt,Rr=X[Z],os=Z==="y"?"height":"width",Dd=Rr+T[gv],_p=Rr-T[gp],ua=[yt,Tt].indexOf(F)!==-1,Gl=(bd=N?.[Z])!=null?bd:0,ql=ua?Dd:Rr-C[os]-E[os]-Gl+S.altAxis,Jt=ua?Rr+C[os]+E[os]-Gl-S.altAxis:_p,ln=g&&ua?jk(ql,Rr,Jt):tl(g?ql:Dd,Rr,g?Jt:_p);X[Z]=ln,x[Z]=ln-Rr}e.modifiersData[i]=x}}var ou={name:"preventOverflow",enabled:!0,phase:"main",fn:SW,requiresIfExists:["offset"]};function aD(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function lD(n){return n===mt(n)||!on(n)?nl(n):aD(n)}function AW(n){var e=n.getBoundingClientRect(),t=$o(e.width)/n.offsetWidth||1,i=$o(e.height)/n.offsetHeight||1;return t!==1||i!==1}function cD(n,e,t){t===void 0&&(t=!1);var i=on(e),r=on(e)&&AW(e),o=An(e),s=Qi(n,r,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((mn(e)!=="body"||rl(o))&&(a=lD(e)),on(e)?(l=Qi(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=il(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function NW(n){var e=new Map,t=new Set,i=[];n.forEach(function(o){e.set(o.name,o)});function r(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&r(l)}}),i.push(o)}return n.forEach(function(o){t.has(o.name)||r(o)}),i}function uD(n){var e=NW(n);return eD.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function dD(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function hD(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var qk={placement:"bottom",modifiers:[],strategy:"absolute"};function zk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function ol(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,o=r===void 0?qk:r;return function(a,l,u){u===void 0&&(u=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},qk,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],m=!1,g={state:d,setOptions:function(F){var H=typeof F=="function"?F(d.options):F;I(),d.options=Object.assign({},o,d.options,H),d.scrollParents={reference:Ki(a)?Rs(a):a.contextElement?Rs(a.contextElement):[],popper:Rs(l)};var B=uD(hD([].concat(i,d.options.modifiers)));return d.orderedModifiers=B.filter(function(G){return G.enabled}),D(),g.update()},forceUpdate:function(){if(!m){var F=d.elements,H=F.reference,B=F.popper;if(zk(H,B)){d.rects={reference:cD(H,Er(B),d.options.strategy==="fixed"),popper:Xa(B)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(S){return d.modifiersData[S.name]=Object.assign({},S.data)});for(var G=0;G<d.orderedModifiers.length;G++){if(d.reset===!0){d.reset=!1,G=-1;continue}var Z=d.orderedModifiers[G],X=Z.fn,C=Z.options,E=C===void 0?{}:C,w=Z.name;typeof X=="function"&&(d=X({state:d,options:E,name:w,instance:g})||d)}}}},update:dD(function(){return new Promise(function(T){g.forceUpdate(),T(d)})}),destroy:function(){I(),m=!0}};if(!zk(a,l))return g;g.setOptions(u).then(function(T){!m&&u.onFirstUpdate&&u.onFirstUpdate(T)});function D(){d.orderedModifiers.forEach(function(T){var F=T.name,H=T.options,B=H===void 0?{}:H,G=T.effect;if(typeof G=="function"){var Z=G({state:d,name:F,instance:g,options:B}),X=function(){};f.push(Z||X)}})}function I(){f.forEach(function(T){return T()}),f=[]}return g}}var Wk=ol();var MW=[Xc,ru,Zc,Qc],z_=ol({defaultModifiers:MW});var xW=[Xc,ru,Zc,Qc,iu,nu,ou,Jc,q_],af=ol({defaultModifiers:xW});var RW=["*"];var OW=["ngbDatepickerDayView",""],PW=["month"],kW=["year"];function FW(n,e){if(n&1&&(y(0,"option",3),A(1),v()),n&2){let t=e.$implicit,i=z();K("value",t),zr("aria-label",i.i18n.getMonthFullName(t,i.date.year)),O(),Be(i.i18n.getMonthShortName(t,i.date.year))}}function VW(n,e){if(n&1&&(y(0,"option",3),A(1),v()),n&2){let t=e.$implicit,i=z();K("value",t),O(),Be(i.i18n.getYearNumerals(t))}}function LW(n,e){if(n&1){let t=Ee();y(0,"ngb-datepicker-navigation-select",6),j("select",function(r){$(t);let o=z();return U(o.select.emit(r))}),v()}if(n&2){let t=z();K("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function BW(n,e){n&1&&ie(0,"div",7)}function jW(n,e){n&1&&ie(0,"div",7)}function $W(n,e){if(n&1&&(he(0,BW,1,0,"div",7),y(1,"div",8),A(2),v(),he(3,jW,1,0,"div",7)),n&2){let t=e.$implicit,i=e.$index,r=z(2);Ui(0,i>0?0:-1),O(2),ze(" ",r.i18n.getMonthLabel(t.firstDate)," "),O(),Ui(3,i!==r.months.length-1?3:-1)}}function UW(n,e){if(n&1&&ui(0,$W,4,3,null,null,Fa),n&2){let t=z();di(t.months)}}function HW(n,e){if(n&1&&(y(0,"div",1),A(1),v()),n&2){let t=z(2);O(),Be(t.i18n.getWeekLabel())}}function GW(n,e){if(n&1&&(y(0,"div",2),A(1),v()),n&2){let t=e.$implicit;O(),Be(t)}}function qW(n,e){if(n&1&&(y(0,"div",0),he(1,HW,2,1,"div",1),ui(2,GW,2,1,"div",2,Ds),v()),n&2){let t=z();O(),Ui(1,t.datepicker.showWeekNumbers?1:-1),O(),di(t.viewModel.weekdays)}}function zW(n,e){if(n&1&&(y(0,"div",4),A(1),v()),n&2){let t=z(2).$implicit,i=z();O(),Be(i.i18n.getWeekNumerals(t.number))}}function WW(n,e){}function KW(n,e){if(n&1&&he(0,WW,0,0,"ng-template",7),n&2){let t=z().$implicit,i=z(3);K("ngTemplateOutlet",i.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function QW(n,e){if(n&1){let t=Ee();y(0,"div",6),j("click",function(r){let o=$(t).$implicit;return z(3).doSelect(o),U(r.preventDefault())}),he(1,KW,1,2,null,7),v()}if(n&2){let t=e.$implicit;Vn("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),K("tabindex",t.tabindex),zr("aria-label",t.ariaLabel),O(),Ui(1,t.hidden?-1:1)}}function YW(n,e){if(n&1&&(y(0,"div",3),he(1,zW,2,1,"div",4),ui(2,QW,2,9,"div",5,Fa),v()),n&2){let t=z().$implicit,i=z();O(),Ui(1,i.datepicker.showWeekNumbers?1:-1),O(),di(t.days)}}function JW(n,e){if(n&1&&he(0,YW,4,1,"div",3),n&2){let t=e.$implicit;Ui(0,t.collapsed?-1:0)}}var ZW=["defaultDayTemplate"],XW=["content"],e7=n=>({$implicit:n});function t7(n,e){if(n&1&&ie(0,"div",8),n&2){let t=e.date,i=e.currentMonth,r=e.selected,o=e.disabled,s=e.focused;K("date",t)("currentMonth",i)("selected",r)("disabled",o)("focused",s)}}function n7(n,e){if(n&1&&(y(0,"div",10),A(1),v()),n&2){let t=z().$implicit,i=z(2);O(),ze(" ",i.i18n.getMonthLabel(t.firstDate)," ")}}function i7(n,e){if(n&1&&(y(0,"div",9),he(1,n7,2,1,"div",10),ie(2,"ngb-datepicker-month",11),v()),n&2){let t=e.$implicit,i=z(2);O(),Ui(1,i.navigation==="none"||i.displayMonths>1&&i.navigation==="select"?1:-1),O(),K("month",t.firstDate)}}function r7(n,e){if(n&1&&ui(0,i7,3,2,"div",9,Fa),n&2){let t=z();di(t.model.months)}}function o7(n,e){if(n&1){let t=Ee();y(0,"ngb-datepicker-navigation",12),j("navigate",function(r){$(t);let o=z();return U(o.onNavigateEvent(r))})("select",function(r){$(t);let o=z();return U(o.onNavigateDateSelect(r))}),v()}if(n&2){let t=z();K("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect",t.model.navigation==="select")("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function s7(n,e){}function a7(n,e){}var l7=["dialog"];var eF={animation:!0,transitionTimerDelayMs:5},c7=(()=>{class n{constructor(){this.animation=eF.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function u7(n){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n),i=parseFloat(e),r=parseFloat(t);return(i+r)*1e3}function wr(n){return parseInt(`${n}`,10)}function Z_(n){return typeof n=="string"}function Ho(n){return!isNaN(wr(n))}function mi(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function pD(n){return n!=null}function d7(n){return n&&n.then}function Kk(n){return Ho(n)?`0${n}`.slice(-2):""}function h7(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}function tF(n){return(n||document.body).getBoundingClientRect()}function f7(n){return e=>new pe(t=>{let i=s=>n.run(()=>t.next(s)),r=s=>n.run(()=>t.error(s)),o=()=>n.run(()=>t.complete());return e.subscribe({next:i,error:r,complete:o})})}function nF(n=document){let e=n?.activeElement;return e?e.shadowRoot?nF(e.shadowRoot):e:null}var p7=()=>{},{transitionTimerDelayMs:m7}=eF,K_=new Map,sl=(n,e,t,i)=>{let r=i.context||{},o=K_.get(e);if(o)switch(i.runningTransition){case"continue":return Xt;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),K_.delete(e)}let s=t(e,i.animation,r)||p7;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>s()),ue(void 0).pipe(f7(n));let a=new Fe,l=new Fe,u=a.pipe(oE(!0));K_.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let d=u7(e);return n.runOutsideAngular(()=>{let f=en(e,"transitionend").pipe(xt(u),Xe(({target:g})=>g===e)),m=Ea(d+m7).pipe(xt(u));_m(m,f,l).pipe(xt(u)).subscribe(()=>{K_.delete(e),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var iF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();var rF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();var oF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})(),sF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})(),gi=class n{static from(e){return e instanceof n?e:e?new n(e.year,e.month,e.day):null}constructor(e,t,i){this.year=mi(e)?e:null,this.month=mi(t)?t:null,this.day=mi(i)?i:null}equals(e){return e!=null&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return e?this.year===e.year?this.month===e.month?this.day===e.day?!1:this.day<e.day:this.month<e.month:this.year<e.year:!1}after(e){return e?this.year===e.year?this.month===e.month?this.day===e.day?!1:this.day>e.day:this.month>e.month:this.year>e.year:!1}};function Qk(n){return new gi(n.getFullYear(),n.getMonth()+1,n.getDate())}function Q_(n){let e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}function g7(){return new _7}var lu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:()=>g7(),providedIn:"root"})}}return n})(),_7=(()=>{class n extends lu{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,i="d",r=1){let o=Q_(t),s=!0,a=o.getMonth();switch(i){case"y":o.setFullYear(o.getFullYear()+r);break;case"m":a+=r,o.setMonth(a),a=a%12,a<0&&(a=a+12);break;case"d":o.setDate(o.getDate()+r),s=!1;break;default:return t}return s&&o.getMonth()!==a&&o.setDate(0),Qk(o)}getPrev(t,i="d",r=1){return this.getNext(t,i,-r)}getWeekday(t){let r=Q_(t).getDay();return r===0?7:r}getWeekNumber(t,i){i===7&&(i=0);let r=(11-i)%7,o=t[r],s=Q_(o);s.setDate(s.getDate()+4-(s.getDay()||7));let a=s.getTime();return s.setMonth(0),s.setDate(1),Math.floor(Math.round((a-s.getTime())/864e5)/7)+1}getToday(){return Qk(new Date)}isValid(t){if(!t||!mi(t.year)||!mi(t.month)||!mi(t.day)||t.year===0)return!1;let i=Q_(t);return!isNaN(i.getTime())&&i.getFullYear()===t.year&&i.getMonth()+1===t.month&&i.getDate()===t.day}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})();function su(n,e){return!y7(n,e)}function aF(n,e){return!n&&!e?!1:!n||!e?!0:n.year!==e.year||n.month!==e.month}function y7(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}function v7(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}function Y_(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function fD(n,e){let{minDate:t,maxDate:i,disabled:r,markDisabled:o}=e;return!(n==null||r||o&&o(n,{year:n.year,month:n.month})||t&&n.before(t)||i&&n.after(i))}function E7(n,e,t,i){if(!e)return[];let r=n.getMonths(e.year);if(t&&e.year===t.year){let o=r.findIndex(s=>s===t.month);r=r.slice(o)}if(i&&e.year===i.year){let o=r.findIndex(s=>s===i.month);r=r.slice(0,o+1)}return r}function w7(n,e,t){if(!n)return[];let i=e?Math.max(e.year,n.year-500):n.year-10,o=(t?Math.min(t.year,n.year+500):n.year+10)-i+1,s=Array(o);for(let a=0;a<o;a++)s[a]=i+a;return s}function b7(n,e,t){let i=Object.assign(n.getNext(e,"m"),{day:1});return t!=null&&i.after(t)}function D7(n,e,t){let i=Object.assign(n.getPrev(e,"m"),{day:1});return t!=null&&(i.year===t.year&&i.month<t.month||i.year<t.year&&t.month===1)}function C7(n,e,t,i,r){let{displayMonths:o,months:s}=t,a=s.splice(0,s.length);return Array.from({length:o},(u,d)=>{let f=Object.assign(n.getNext(e,"m",d),{day:1});if(s[d]=null,!r){let m=a.findIndex(g=>g.firstDate.equals(f));m!==-1&&(s[d]=a.splice(m,1)[0])}return f}).forEach((u,d)=>{s[d]===null&&(s[d]=I7(n,u,t,i,a.shift()||{}))}),s}function I7(n,e,t,i,r={}){let{dayTemplateData:o,minDate:s,maxDate:a,firstDayOfWeek:l,markDisabled:u,outsideDays:d,weekdayWidth:f,weekdaysVisible:m}=t,g=n.getToday();r.firstDate=null,r.lastDate=null,r.number=e.month,r.year=e.year,r.weeks=r.weeks||[],r.weekdays=r.weekdays||[],e=T7(n,e,l),m||(r.weekdays.length=0);for(let D=0;D<n.getWeeksPerMonth();D++){let I=r.weeks[D];I||(I=r.weeks[D]={number:0,days:[],collapsed:!0});let T=I.days;for(let F=0;F<n.getDaysPerWeek();F++){D===0&&m&&(r.weekdays[F]=i.getWeekdayLabel(n.getWeekday(e),f));let H=new gi(e.year,e.month,e.day),B=n.getNext(H),G=i.getDayAriaLabel(H),Z=!!(s&&H.before(s)||a&&H.after(a));!Z&&u&&(Z=u(H,{month:r.number,year:r.year}));let X=H.equals(g),C=o?o(H,{month:r.number,year:r.year}):void 0;r.firstDate===null&&H.month===r.number&&(r.firstDate=H),H.month===r.number&&B.month!==r.number&&(r.lastDate=H);let E=T[F];E||(E=T[F]={}),E.date=H,E.context=Object.assign(E.context||{},{$implicit:H,date:H,data:C,currentMonth:r.number,currentYear:r.year,disabled:Z,focused:!1,selected:!1,today:X}),E.tabindex=-1,E.ariaLabel=G,E.hidden=!1,e=B}I.number=n.getWeekNumber(T.map(F=>F.date),l),I.collapsed=d==="collapsed"&&T[0].date.month!==r.number&&T[T.length-1].date.month!==r.number}return r}function T7(n,e,t){let i=n.getDaysPerWeek(),r=new gi(e.year,e.month,1),o=n.getWeekday(r)%i;return n.getPrev(r,"d",(i+o-t)%i)}var Os=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:()=>new S7,providedIn:"root"})}}return n})(),S7=(()=>{class n extends Os{constructor(){super(...arguments),this._locale=R($a),this._monthsShort=[...Array(12).keys()].map(t=>Intl.DateTimeFormat(this._locale,{month:"short",timeZone:"UTC"}).format(Date.UTC(2e3,t))),this._monthsFull=[...Array(12).keys()].map(t=>Intl.DateTimeFormat(this._locale,{month:"long",timeZone:"UTC"}).format(Date.UTC(2e3,t)))}getWeekdayLabel(t,i="narrow"){return[1,2,3,4,5,6,7].map(o=>Intl.DateTimeFormat(this._locale,{weekday:i,timeZone:"UTC"}).format(Date.UTC(2e3,4,o)))[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){let i=new Date(t.year,t.month-1,t.day);return Vb(i,"fullDate",this._locale)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),mD=(()=>{class n{constructor(){this._VALIDATORS={dayTemplateData:t=>{if(this._state.dayTemplateData!==t)return{dayTemplateData:t}},displayMonths:t=>{if(t=wr(t),mi(t)&&t>0&&this._state.displayMonths!==t)return{displayMonths:t}},disabled:t=>{if(this._state.disabled!==t)return{disabled:t}},firstDayOfWeek:t=>{if(t=wr(t),mi(t)&&t>=0&&this._state.firstDayOfWeek!==t)return{firstDayOfWeek:t}},focusVisible:t=>{if(this._state.focusVisible!==t&&!this._state.disabled)return{focusVisible:t}},markDisabled:t=>{if(this._state.markDisabled!==t)return{markDisabled:t}},maxDate:t=>{let i=this.toValidDate(t,null);if(su(this._state.maxDate,i))return{maxDate:i}},minDate:t=>{let i=this.toValidDate(t,null);if(su(this._state.minDate,i))return{minDate:i}},navigation:t=>{if(this._state.navigation!==t)return{navigation:t}},outsideDays:t=>{if(this._state.outsideDays!==t)return{outsideDays:t}},weekdays:t=>{let i=t===!0||t===!1?"narrow":t,r=t===!0||t===!1?t:!0;if(this._state.weekdayWidth!==i||this._state.weekdaysVisible!==r)return{weekdayWidth:i,weekdaysVisible:r}}},this._calendar=R(lu),this._i18n=R(Os),this._model$=new Fe,this._dateSelect$=new Fe,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:"narrow",weekdaysVisible:!0}}get model$(){return this._model$.pipe(Xe(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Xe(t=>t!==null))}set(t){let i=Object.keys(t).map(r=>this._VALIDATORS[r](t[r])).reduce((r,o)=>Y(Y({},r),o),{});Object.keys(i).length>0&&this._nextState(i)}focus(t){let i=this.toValidDate(t,null);i!=null&&!this._state.disabled&&su(this._state.focusDate,i)&&this._nextState({focusDate:t})}focusSelect(){fD(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){let i=this.toValidDate(t,this._calendar.getToday());i!=null&&!this._state.disabled&&(!this._state.firstDate||aF(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(t,i={}){let r=this.toValidDate(t,null);r!=null&&!this._state.disabled&&(su(this._state.selectedDate,r)&&this._nextState({selectedDate:r}),i.emitEvent&&fD(r,this._state)&&this._dateSelect$.next(r))}toValidDate(t,i){let r=gi.from(t);return i===void 0&&(i=this._calendar.getToday()),this._calendar.isValid(r)?r:i}getMonth(t){for(let i of this._state.months)if(t.month===i.number&&t.year===i.year)return i;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){let i=this._updateState(t);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(t){let{months:i,displayMonths:r,selectedDate:o,focusDate:s,focusVisible:a,disabled:l,outsideDays:u}=t;t.months.forEach(d=>{d.weeks.forEach(f=>{f.days.forEach(m=>{s&&(m.context.focused=s.equals(m.date)&&a),m.tabindex=!l&&s&&m.date.equals(s)&&s.month===d.number?0:-1,l===!0&&(m.context.disabled=!0),o!==void 0&&(m.context.selected=o!==null&&o.equals(m.date)),d.number!==m.date.month&&(m.hidden=u==="hidden"||u==="collapsed"||r>1&&m.date.after(i[0].firstDate)&&m.date.before(i[r-1].lastDate))})})})}_updateState(t){let i=Object.assign({},this._state,t),r=i.firstDate;if(("minDate"in t||"maxDate"in t)&&(v7(i.minDate,i.maxDate),i.focusDate=Y_(i.focusDate,i.minDate,i.maxDate),i.firstDate=Y_(i.firstDate,i.minDate,i.maxDate),r=i.focusDate),"disabled"in t&&(i.focusVisible=!1),"selectedDate"in t&&this._state.months.length===0&&(r=i.selectedDate),"focusVisible"in t||"focusDate"in t&&(i.focusDate=Y_(i.focusDate,i.minDate,i.maxDate),r=i.focusDate,i.months.length!==0&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in t&&(i.firstDate=Y_(i.firstDate,i.minDate,i.maxDate),r=i.firstDate),r){let o="dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t,s=C7(this._calendar,r,i,this._i18n,o);i.months=s,i.firstDate=s[0].firstDate,i.lastDate=s[s.length-1].lastDate,"selectedDate"in t&&!fD(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in t&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=r);let a=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,l=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;i.navigation==="select"?(("minDate"in t||"maxDate"in t||i.selectBoxes.years.length===0||a)&&(i.selectBoxes.years=w7(i.firstDate,i.minDate,i.maxDate)),("minDate"in t||"maxDate"in t||i.selectBoxes.months.length===0||a)&&(i.selectBoxes.months=E7(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},(i.navigation==="arrows"||i.navigation==="select")&&(l||a||"minDate"in t||"maxDate"in t||"disabled"in t)&&(i.prevDisabled=i.disabled||D7(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||b7(this._calendar,i.lastDate,i.maxDate))}return i}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),X_=function(n){return n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT",n}(X_||{}),vD=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays="narrow"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function A7(){return new N7}var ED=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:()=>A7(),providedIn:"root"})}}return n})(),N7=(()=>{class n extends ED{fromModel(t){return t&&mi(t.year)&&mi(t.month)&&mi(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&mi(t.year)&&mi(t.month)&&mi(t.day)?{year:t.year,month:t.month,day:t.day}:null}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),M7=(()=>{class n{processKey(t,i){let{state:r,calendar:o}=i;switch(t.key){case"PageUp":i.focusDate(o.getPrev(r.focusedDate,t.shiftKey?"y":"m",1));break;case"PageDown":i.focusDate(o.getNext(r.focusedDate,t.shiftKey?"y":"m",1));break;case"End":i.focusDate(t.shiftKey?r.maxDate:r.lastDate);break;case"Home":i.focusDate(t.shiftKey?r.minDate:r.firstDate);break;case"ArrowLeft":i.focusDate(o.getPrev(r.focusedDate,"d",1));break;case"ArrowUp":i.focusDate(o.getPrev(r.focusedDate,"d",o.getDaysPerWeek()));break;case"ArrowRight":i.focusDate(o.getNext(r.focusedDate,"d",1));break;case"ArrowDown":i.focusDate(o.getNext(r.focusedDate,"d",o.getDaysPerWeek()));break;case"Enter":case" ":i.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),x7=(()=>{class n{constructor(){this.i18n=R(Os)}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ae({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(i,r){i&2&&Vn("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[fi],attrs:OW,decls:1,vars:1,template:function(i,r){i&1&&A(0),i&2&&Be(r.i18n.getDayNumerals(r.date))},styles:[`[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-tertiary-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}
`],encapsulation:2,changeDetection:0})}}return n})(),R7=(()=>{class n{constructor(){this._month=-1,this._year=-1,this.i18n=R(Os),this.select=new Re}changeMonth(t){this.select.emit(new gi(this.date.year,wr(t),1))}changeYear(t){this.select.emit(new gi(wr(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this.monthSelect.nativeElement.value=`${this._month}`),this.date.year!==this._year&&(this._year=this.date.year,this.yearSelect.nativeElement.value=`${this._year}`))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ae({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(i,r){if(i&1&&(tn(PW,7,nt),tn(kW,7,nt)),i&2){let o;ct(o=ut())&&(r.monthSelect=o.first),ct(o=ut())&&(r.yearSelect=o.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[fi],decls:8,vars:2,consts:()=>{let t;t=$localize`:@@ngb.datepicker.select-month:Select month`;let i;i=$localize`:@@ngb.datepicker.select-month:Select month`;let r;r=$localize`:@@ngb.datepicker.select-year:Select year`;let o;return o=$localize`:@@ngb.datepicker.select-year:Select year`,[["month",""],["year",""],["aria-label",t,"title",i,1,"form-select",3,"change","disabled"],[3,"value"],["aria-label",r,"title",o,1,"form-select",3,"change","disabled"]]},template:function(i,r){if(i&1){let o=Ee();y(0,"select",2,0),j("change",function(a){return $(o),U(r.changeMonth(a.target.value))}),ui(2,FW,2,3,"option",3,Fa),v(),y(4,"select",4,1),j("change",function(a){return $(o),U(r.changeYear(a.target.value))}),ui(6,VW,2,2,"option",3,Fa),v()}i&2&&(K("disabled",r.disabled),O(2),di(r.months),O(2),K("disabled",r.disabled),O(2),di(r.years))},styles:[`ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}
`],encapsulation:2,changeDetection:0})}}return n})(),O7=(()=>{class n{constructor(){this.navigation=X_,this.i18n=R(Os),this.months=[],this.navigate=new Re,this.select=new Re}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ae({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[fi],decls:8,vars:4,consts:()=>{let t;t=$localize`:@@ngb.datepicker.previous-month:Previous month`;let i;i=$localize`:@@ngb.datepicker.previous-month:Previous month`;let r;r=$localize`:@@ngb.datepicker.next-month:Next month`;let o;return o=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow","ngb-dp-arrow-prev"],["type","button","aria-label",t,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years"],[1,"ngb-dp-arrow","ngb-dp-arrow-next"],["type","button","aria-label",r,"title",o,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],[1,"ngb-dp-arrow"],[1,"ngb-dp-month-name"]]},template:function(i,r){i&1&&(y(0,"div",0)(1,"button",1),j("click",function(s){return r.onClickPrev(s)}),ie(2,"span",2),v()(),he(3,LW,1,4,"ngb-datepicker-navigation-select",3)(4,UW,2,0),y(5,"div",4)(6,"button",5),j("click",function(s){return r.onClickNext(s)}),ie(7,"span",2),v()()),i&2&&(O(),K("disabled",r.prevDisabled),O(2),Ui(3,r.showSelect?3:-1),O(),Ui(4,r.showSelect?-1:4),O(2),K("disabled",r.nextDisabled))},dependencies:[R7],styles:[`ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow-next{justify-content:flex-end}.ngb-dp-arrow-next .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}
`],encapsulation:2,changeDetection:0})}}return n})(),P7=(()=>{class n{constructor(){this.templateRef=R($r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=qe({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0})}}return n})(),k7=(()=>{class n{constructor(){this._keyboardService=R(M7),this._service=R(mD),this.i18n=R(Os),this.datepicker=R(lF)}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ae({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(i,r){i&1&&j("keydown",function(s){return r.onKeyDown(s)})},inputs:{month:"month"},standalone:!0,features:[fi],decls:3,vars:1,consts:[["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["role","row",1,"ngb-dp-week"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"disabled","tabindex","hidden","ngb-dp-today"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(he(0,qW,4,1,"div",0),ui(1,JW,1,1,null,null,Fa)),i&2&&(Ui(0,r.viewModel.weekdays.length>0?0:-1),O(),di(r.viewModel.weeks))},dependencies:[Lb],styles:[`ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-tertiary-bg)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}
`],encapsulation:2})}}return n})(),lF=(()=>{class n{constructor(){this.injector=R(Ye),this._service=R(mD),this._calendar=R(lu),this._i18n=R(Os),this._config=R(vD),this._nativeElement=R(nt).nativeElement,this._ngbDateAdapter=R(ED),this._ngZone=R(ye),this._destroyRef=R(Ro),this._injector=R(Ye),this._controlValue=null,this._publicState={},this._initialized=!1,this.dayTemplate=this._config.dayTemplate,this.dayTemplateData=this._config.dayTemplateData,this.displayMonths=this._config.displayMonths,this.firstDayOfWeek=this._config.firstDayOfWeek,this.footerTemplate=this._config.footerTemplate,this.markDisabled=this._config.markDisabled,this.maxDate=this._config.maxDate,this.minDate=this._config.minDate,this.navigation=this._config.navigation,this.outsideDays=this._config.outsideDays,this.showWeekNumbers=this._config.showWeekNumbers,this.startDate=this._config.startDate,this.weekdays=this._config.weekdays,this.navigate=new Re,this.dateSelect=new Re,this.onChange=i=>{},this.onTouched=()=>{};let t=R(Qn);this._service.dateSelect$.pipe(Yh()).subscribe(i=>{this.dateSelect.emit(i)}),this._service.model$.pipe(Yh()).subscribe(i=>{let r=i.firstDate,o=this.model?this.model.firstDate:null;this._publicState={maxDate:i.maxDate,minDate:i.minDate,firstDate:i.firstDate,lastDate:i.lastDate,focusedDate:i.focusDate,months:i.months.map(d=>d.firstDate)};let s=!1;if(!r.equals(o)&&(this.navigate.emit({current:o?{year:o.year,month:o.month}:null,next:{year:r.year,month:r.month},preventDefault:()=>s=!0}),s&&o!==null)){this._service.open(o);return}let a=i.selectedDate,l=i.focusDate,u=this.model?this.model.focusDate:null;this.model=i,su(a,this._controlValue)&&(this._controlValue=a,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(a))),su(l,u)&&u&&i.focusVisible&&this.focus(),t.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(t){this._service.focus(gi.from(t))}focusSelect(){this._service.focusSelect()}focus(){Po(()=>{this._nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]')?.focus()},{phase:li.Read,injector:this._injector})}navigateTo(t){this._service.open(gi.from(t?t.day?t:Me(Y({},t),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{let t=en(this._contentEl.nativeElement,"focusin"),i=en(this._contentEl.nativeElement,"focusout");Hd(t,i).pipe(Xe(r=>{let o=r.target,s=r.relatedTarget;return!(o?.classList.contains("ngb-dp-day")&&s?.classList.contains("ngb-dp-day")&&this._nativeElement.contains(o)&&this._nativeElement.contains(s))}),Yh(this._destroyRef)).subscribe(({type:r})=>this._ngZone.run(()=>this._service.set({focusVisible:r==="focusin"})))})}ngOnInit(){if(this.model===void 0){let t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(i=>t[i]=this[i]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate),this._initialized=!0}ngOnChanges(t){let i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(r=>r in t).forEach(r=>i[r]=this[r]),this._service.set(i),"startDate"in t&&this._initialized){let{currentValue:r,previousValue:o}=t.startDate;aF(o,r)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case X_.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case X_.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1));break}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=gi.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ae({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(i,r,o){if(i&1&&Va(o,P7,7),i&2){let s;ct(s=ut())&&(r.contentTemplateFromContent=s.first)}},viewQuery:function(i,r){if(i&1&&(tn(ZW,7),tn(XW,7)),i&2){let o;ct(o=ut())&&(r._defaultDayTemplate=o.first),ct(o=ut())&&(r._contentEl=o.first)}},hostVars:2,hostBindings:function(i,r){i&2&&Vn("disabled",r.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[hi([{provide:mr,useExisting:Cn(()=>n),multi:!0},mD]),In,fi],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],[1,"ngb-dp-month"],[1,"ngb-dp-month-name"],[3,"month"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(i,r){if(i&1&&(he(0,t7,1,5,"ng-template",null,0,Ba)(2,r7,2,0,"ng-template",null,1,Ba),y(4,"div",3),he(5,o7,1,7,"ngb-datepicker-navigation",4),v(),y(6,"div",5,2),he(8,s7,0,0,"ng-template",6),v(),he(9,a7,0,0,"ng-template",7)),i&2){let o=nn(3);O(5),Ui(5,r.navigation!=="none"?5:-1),O(),Vn("ngb-dp-months",!r.contentTemplate),O(2),K("ngTemplateOutlet",r.contentTemplate||(r.contentTemplateFromContent==null?null:r.contentTemplateFromContent.templateRef)||o)("ngTemplateOutletContext",rn(7,e7,r))("ngTemplateOutletInjector",r.injector),O(),K("ngTemplateOutlet",r.footerTemplate)}},dependencies:[Lb,x7,k7,O7],styles:[`ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-tertiary-bg)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-tertiary-bg)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}
`],encapsulation:2,changeDetection:0})}}return n})(),J_=(n,e)=>e?e.some(t=>t.contains(n)):!1,Yk=(n,e)=>!e||h7(n,e)!=null,F7=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})(),V7=n=>F7?()=>setTimeout(()=>n(),100):n;function cF(n,e,t,i,r,o,s,a){t&&n.runOutsideAngular(V7(()=>{let l=m=>{let g=m.target;return m.button===2||J_(g,s)?!1:t==="inside"?J_(g,o)&&Yk(g,a):t==="outside"?!J_(g,o):Yk(g,a)||!J_(g,o)},u=en(e,"keydown").pipe(xt(r),Xe(m=>m.key==="Escape"),bt(m=>m.preventDefault())),d=en(e,"mousedown").pipe(ce(l),xt(r)),f=en(e,"mouseup").pipe(Wd(d),Xe(([m,g])=>g),rE(0),xt(r));_m([u.pipe(ce(m=>0)),f.pipe(ce(m=>1))]).subscribe(m=>n.run(()=>i(m)))}))}var uF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function dF(n){let e=Array.from(n.querySelectorAll(uF)).filter(t=>t.tabIndex!==-1);return[e[0],e[e.length-1]]}var hF=(n,e,t,i=!1)=>{n.runOutsideAngular(()=>{let r=en(e,"focusin").pipe(xt(t),ce(o=>o.target));en(e,"keydown").pipe(xt(t),Xe(o=>o.key==="Tab"),Wd(r)).subscribe(([o,s])=>{let[a,l]=dF(e);(s===a||s===e)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&en(e,"click").pipe(xt(t),Wd(r),ce(o=>o[1])).subscribe(o=>o.focus())})},L7=(()=>{class n{constructor(){this._element=R(It).documentElement}isRTL(){return(this._element.getAttribute("dir")||"").toLowerCase()==="rtl"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),B7=/\s+/,j7=/  +/gi,$7={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]};function U7(n,e){let[t,i]=$7[n];return e&&i||t}var H7=/^left/,G7=/^right/,q7=/^start/,z7=/^end/;function W7(n,e){let[t,i]=e.split("-"),r=t.replace(H7,"start").replace(G7,"end"),o=[r];if(i){let s=i;(t==="left"||t==="right")&&(s=s.replace(q7,"top").replace(z7,"bottom")),o.push(`${r}-${s}`)}return n&&(o=o.map(s=>`${n}-${s}`)),o.join(" ")}function Jk({placement:n,baseClass:e},t){let i=Array.isArray(n)?n:n.split(B7),r=["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"],o=i.findIndex(u=>u==="auto");o>=0&&r.forEach(function(u){i.find(d=>d.search("^"+u)!==-1)==null&&i.splice(o++,1,u)});let s=i.map(u=>U7(u,t.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:u}){let d=new RegExp(e+"(-[a-z]+)*","gi"),f=u.elements.popper,m=u.placement,g=f.className;g=g.replace(d,""),g+=` ${W7(e,m)}`,g=g.trim().replace(j7," "),f.className=g}},nu,ou,Jc,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Zk(n){return n}function fF(){let n=R(L7),e=null;return{createPopper(t){if(!e){let r=(t.updatePopperOptions||Zk)(Jk(t,n));e=z_(t.hostElement,t.targetElement,r)}},update(){e&&e.update()},setOptions(t){if(e){let r=(t.updatePopperOptions||Zk)(Jk(t,n));e.setOptions(r)}},destroy(){e&&(e.destroy(),e=null)}}}function K7(){return new Q7}var lf=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:()=>K7(),providedIn:"root"})}}return n})(),Q7=(()=>{class n extends lf{parse(t){if(t!=null){let i=t.trim().split("-");if(i.length===1&&Ho(i[0]))return{year:wr(i[0]),month:null,day:null};if(i.length===2&&Ho(i[0])&&Ho(i[1]))return{year:wr(i[0]),month:wr(i[1]),day:null};if(i.length===3&&Ho(i[0])&&Ho(i[1])&&Ho(i[2]))return{year:wr(i[0]),month:wr(i[1]),day:wr(i[2])}}return null}format(t){return t?`${t.year}-${Ho(t.month)?Kk(t.month):""}-${Ho(t.day)?Kk(t.day):""}`:""}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),Xk=(()=>{class n extends vD{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t,this.restoreFocus=!0}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pF(n){return e=>(e.modifiers.push(iu,{name:"offset",options:{offset:()=>n}}),e)}var mF=(()=>{class n{constructor(){this._parserFormatter=R(lf),this._elRef=R(nt),this._vcRef=R(hr),this._ngZone=R(ye),this._calendar=R(lu),this._dateAdapter=R(ED),this._document=R(It),this._changeDetector=R(Qn),this._injector=R(Ye),this._config=R(Xk),this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=fF(),this._destroyCloseHandlers$=new Fe,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.positionTarget=this._config.positionTarget,this.dateSelect=new Re,this.navigate=new Re,this.closed=new Re,this._onChange=t=>{},this._onTouched=()=>{},this._validatorChange=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=t===""||t&&t!=="false",this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}registerOnValidatorChange(t){this._validatorChange=t}setDisabledState(t){this.disabled=t}validate(t){let{value:i}=t;if(i!=null){let r=this._fromDateStruct(this._dateAdapter.fromModel(i));if(!r)return{ngbDate:{invalid:i}};if(this.minDate&&r.before(gi.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:i}}};if(this.maxDate&&r.after(gi.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:i}}}}return null}writeValue(t){this._model=this._fromDateStruct(this._dateAdapter.fromModel(t)),this._writeModelValue(this._model)}manualDateChange(t,i=!1){let r=t!==this._inputValue;r&&(this._inputValue=t,this._model=this._fromDateStruct(this._parserFormatter.parse(t))),(r||!i)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):t===""?null:t),i&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){this._cRef=this._vcRef.createComponent(lF,{injector:this._injector}),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(i=>{this.writeValue(i),this._onChange(i),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),this.container==="body"&&this._document.querySelector(this.container)?.appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,hF(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus());let t;if(Z_(this.positionTarget)?t=this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?t=this.positionTarget:t=this._elRef.nativeElement,this.positionTarget&&!t)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._ngZone.runOutsideAngular(()=>{this._cRef&&t&&(this._positioning.createPopper({hostElement:t,targetElement:this._cRef.location.nativeElement,placement:this.placement,updatePopperOptions:i=>this.popperOptions(pF([0,2])(i))}),this._afterRenderRef=xg(()=>{this._positioning.update()},{phase:li.MixedReadWrite,injector:this._injector}))}),this._setCloseHandlers()}}close(){if(this.isOpen()){this._cRef?.destroy(),this._cRef=null,this._positioning.destroy(),this._afterRenderRef?.destroy(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let t=this._elWithFocus;Z_(this.restoreFocus)?t=this._document.querySelector(this.restoreFocus):this.restoreFocus!==void 0&&(t=this.restoreFocus),t&&t.focus?t.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(t){this.isOpen()&&this._cRef.instance.navigateTo(t)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(t){if((t.minDate||t.maxDate)&&(this._validatorChange(),this.isOpen()&&(t.minDate&&this._cRef.setInput("minDate",this.minDate),t.maxDate&&this._cRef.setInput("maxDate",this.maxDate))),t.datepickerClass){let{currentValue:i,previousValue:r}=t.datepickerClass;this._applyPopupClass(i,r)}t.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(t){["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(i=>{this[i]!==void 0&&t.setInput(i,this[i])}),t.setInput("startDate",this.startDate||this._model)}_applyPopupClass(t,i){let r=this._cRef?.location.nativeElement;r&&(t&&r.classList.add(t),i&&r.classList.remove(i))}_applyPopupStyling(t){t.classList.add("dropdown-menu","show"),this.container==="body"&&t.classList.add("ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(t){t.navigate.subscribe(i=>this.navigate.emit(i)),t.dateSelect.subscribe(i=>{this.dateSelect.emit(i),(this.autoClose===!0||this.autoClose==="inside")&&this.close()})}_writeModelValue(t){let i=this._parserFormatter.format(t);this._inputValue=i,this._elRef.nativeElement.value=i,this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(t)),this._onTouched())}_fromDateStruct(t){let i=t?new gi(t.year,t.month,t.day):null;return this._calendar.isValid(i)?i:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),cF(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=qe({type:n,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(i,r){i&1&&j("input",function(s){return r.manualDateChange(s.target.value)})("change",function(s){return r.manualDateChange(s.target.value,!0)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),i&2&&Vg("disabled",r.disabled)},inputs:{autoClose:"autoClose",contentTemplate:"contentTemplate",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],standalone:!0,features:[hi([{provide:mr,useExisting:Cn(()=>n),multi:!0},{provide:Gh,useExisting:Cn(()=>n),multi:!0},{provide:vD,useExisting:Xk}]),In]})}}return n})();var eve=new Date(1882,10,12),tve=new Date(2174,10,25);var nve=1e3*60*60*24;var wD=1080,Y7=24*wD,J7=12*wD+793,ive=29*Y7+J7,rve=11*wD+204;var gF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})(),Z7=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t,this.container=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),X7=(()=>{class n{constructor(){this._disabled=!1,this.nativeElement=R(nt).nativeElement,this.tabindex=0}set disabled(t){this._disabled=t===""||t===!0}get disabled(){return this._disabled}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=qe({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(i,r){i&2&&(Vg("tabIndex",r.disabled?-1:r.tabindex),Vn("disabled",r.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}}return n})();var bD=(()=>{class n{constructor(){this.dropdown=R(t0),this.nativeElement=R(nt).nativeElement}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=qe({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(i,r,o){if(i&1&&Va(o,X7,4),i&2){let s;ct(s=ut())&&(r.menuItems=s)}},hostAttrs:[1,"dropdown-menu"],hostVars:2,hostBindings:function(i,r){i&1&&j("keydown.ArrowUp",function(s){return r.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return r.dropdown.onKeyDown(s)})("keydown.Home",function(s){return r.dropdown.onKeyDown(s)})("keydown.End",function(s){return r.dropdown.onKeyDown(s)})("keydown.Enter",function(s){return r.dropdown.onKeyDown(s)})("keydown.Space",function(s){return r.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return r.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return r.dropdown.onKeyDown(s)}),i&2&&Vn("show",r.dropdown.isOpen())},standalone:!0})}}return n})(),gD=(()=>{class n{constructor(){this.dropdown=R(t0),this.nativeElement=R(nt).nativeElement}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=qe({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,r){i&2&&(zr("aria-expanded",r.dropdown.isOpen()),Vn("show",r.dropdown.isOpen()))},standalone:!0})}}return n})(),_F=(()=>{class n extends gD{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275dir=qe({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,r){i&1&&j("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(s){return r.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return r.dropdown.onKeyDown(s)})("keydown.Home",function(s){return r.dropdown.onKeyDown(s)})("keydown.End",function(s){return r.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return r.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return r.dropdown.onKeyDown(s)}),i&2&&(zr("aria-expanded",r.dropdown.isOpen()),Vn("show",r.dropdown.isOpen()))},standalone:!0,features:[hi([{provide:gD,useExisting:Cn(()=>n)}]),$i]})}}return n})(),t0=(()=>{class n{constructor(){this._changeDetector=R(Qn),this._config=R(Z7),this._document=R(It),this._injector=R(Ye),this._ngZone=R(ye),this._nativeElement=R(nt).nativeElement,this._destroyCloseHandlers$=new Fe,this._bodyContainer=null,this._positioning=fF(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new Re}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){Po(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()},{phase:li.Write,injector:this._injector})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement}),this._applyPlacementClasses()),t.dropdownClass){let{currentValue:i,previousValue:r}=t.dropdownClass;this._applyCustomDropdownClass(i,r)}t.autoClose&&this._open&&(this.autoClose=t.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),this.display==="dynamic"&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,updatePopperOptions:t=>this.popperOptions(pF([0,2])(t))}),this._applyPlacementClasses(),this._afterRenderRef=xg(()=>{this._positionMenu()},{phase:li.Write,injector:this._injector})})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),cF(this._ngZone,this._document,this.autoClose,t=>{this.close(),t===0&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._afterRenderRef?.destroy(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(t){let{key:i}=t,r=this._getMenuElements(),o=-1,s=null,a=this._isEventFromToggle(t);if(!a&&r.length&&r.forEach((l,u)=>{l.contains(t.target)&&(s=l),l===nF(this._document)&&(o=u)}),i===" "||i==="Enter"){s&&(this.autoClose===!0||this.autoClose==="inside")&&en(s,"click").pipe($t(1)).subscribe(()=>this.close());return}if(i==="Tab"){if(t.target&&this.isOpen()&&this.autoClose)if(this._anchor.nativeElement===t.target){this.container==="body"&&!t.shiftKey?(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")):t.shiftKey&&this.close();return}else if(this.container==="body"){let l=this._menu.nativeElement.querySelectorAll(uF);t.shiftKey&&t.target===l[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else en(t.target,"focusout").pipe($t(1)).subscribe(({relatedTarget:l})=>{this._nativeElement.contains(l)||this.close()});return}if(a||s){if(this.open(),r.length){switch(i){case"ArrowDown":o=Math.min(o+1,r.length-1);break;case"ArrowUp":if(this._isDropup()&&o===-1){o=r.length-1;break}o=Math.max(o-1,0);break;case"Home":o=0;break;case"End":o=r.length-1;break}r[o].focus()}t.preventDefault()}}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:t})=>!t).map(({nativeElement:t})=>t):[]}_positionMenu(){let t=this._menu;this.isOpen()&&t&&(this.display==="dynamic"?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),t==="body"){let i=this._menu.nativeElement,r=this._bodyContainer=this._bodyContainer||this._document.createElement("div");r.style.position="absolute",i.style.position="static",r.style.zIndex="1055",r.appendChild(i),this._document.body.appendChild(r)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,i){let r=this.container==="body"?this._bodyContainer:this._nativeElement;r&&(i&&r.classList.remove(i),t&&r.classList.add(t))}_applyPlacementClasses(t){if(this._menu){t||(t=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),this.display==="static"?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");let i=t.search("^top")!==-1?"dropup":"dropdown";this._nativeElement.classList.add(i),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(i))}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=qe({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(i,r,o){if(i&1&&(Va(o,bD,5),Va(o,gD,5)),i&2){let s;ct(s=ut())&&(r._menu=s.first),ct(s=ut())&&(r._anchor=s.first)}},hostVars:2,hostBindings:function(i,r){i&2&&Vn("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[pt.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[In]})}}return n})();var n0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})(),eK=(()=>{class n{constructor(){this._ngbConfig=R(c7),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),au=class{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}};var tK=(()=>{class n{constructor(){this._document=R(It)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(t>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nK=(()=>{class n{constructor(){this._nativeElement=R(nt).nativeElement,this._zone=R(ye),this._injector=R(Ye)}ngOnInit(){Po(()=>sl(this._zone,this._nativeElement,(t,i)=>{i&&tF(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:li.MixedReadWrite})}hide(){return sl(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ae({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(Fg("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Vn("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[fi],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})(),e0=class{update(e){}close(e){}dismiss(e){}},iK=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],rK=["animation","backdropClass"],_D=class{_applyWindowOptions(e,t){iK.forEach(i=>{pD(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){rK.forEach(i=>{pD(t[i])&&(e[i]=t[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(xt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(xt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Fe,this._dismissed=new Fe,this._hidden=new Fe,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let t=this._beforeDismiss();d7(t)?t.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):t!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ue(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Gd(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},yD=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(yD||{}),oK=(()=>{class n{constructor(){this._document=R(It),this._elRef=R(nt),this._zone=R(ye),this._injector=R(Ye),this._closed$=new Fe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Re,this.shown=new Fe,this.hidden=new Fe}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Z_(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,Po(()=>this._show(),{injector:this._injector,phase:li.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=sl(this._zone,t,()=>t.classList.remove("show"),i),o=sl(this._zone,this._dialogEl.nativeElement,()=>{},i),s=Gd(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let t={animation:this.animation,runningTransition:"continue"},i=sl(this._zone,this._elRef.nativeElement,(o,s)=>{s&&tF(o),o.classList.add("show")},t),r=sl(this._zone,this._dialogEl.nativeElement,()=>{},t);Gd(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{en(t,"keydown").pipe(xt(this._closed$),Xe(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(yD.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;en(this._dialogEl.nativeElement,"mousedown").pipe(xt(this._closed$),bt(()=>i=!1),ft(()=>en(t,"mouseup").pipe(xt(this._closed$),$t(1))),Xe(({target:r})=>t===r)).subscribe(()=>{i=!0}),en(t,"click").pipe(xt(this._closed$)).subscribe(({target:r})=>{t===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(yD.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),r=dF(t)[0];(i||r||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,r;i&&i.focus&&t.contains(i)?r=i:r=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&sl(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ae({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&tn(l7,7),i&2){let o;ct(o=ut())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(zr("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Fg("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Vn("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[fi],ngContentSelectors:RW,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(JR(),y(0,"div",1,0)(2,"div",2),ZR(3),v()()),i&2&&Fg("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return n})(),sK=(()=>{class n{constructor(){this._applicationRef=R(Cs),this._injector=R(Ye),this._environmentInjector=R(wn),this._document=R(It),this._scrollBar=R(tK),this._activeWindowCmptHasChanged=new Fe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Re;let t=R(ye);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];hF(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){let o=r.container instanceof HTMLElement?r.container:pD(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new e0;t=r.injector||t;let a=t.get(wn,null)||this._environmentInjector,l=this._getContentRef(t,a,i,s,r),u=r.backdrop!==!1?this._attachBackdrop(o):void 0,d=this._attachWindowComponent(o,l.nodes),f=new _D(d,l,u,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(d),f.hidden.pipe($t(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=m=>{f.close(m)},s.dismiss=m=>{f.dismiss(m)},s.update=m=>{f.update(m)},f.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=qg(nK,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=qg(oK,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,o,s){return r?r instanceof $r?this._createFromTemplateRef(r,o):Z_(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,s):new au([])}_createFromTemplateRef(t,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=t.createEmbeddedView(r);return this._applicationRef.attachView(o),new au([o.rootNodes],o)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new au([[i]])}_createFromComponent(t,i,r,o,s){let a=Ye.create({providers:[{provide:e0,useValue:o}],parent:t}),l=qg(r,{environmentInjector:i,elementInjector:a}),u=l.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new au([[u]],l.hostView,l)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aK=(()=>{class n{constructor(){this._injector=R(Ye),this._modalStack=R(sK),this._config=R(eK)}open(t,i={}){let r=Y(Me(Y({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),yF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({providers:[aK]})}}return n})();var vF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();var EF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();var wF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();var bF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();var DF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();var CF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();var IF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();var TF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();var SF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();var ove=new se("live announcer delay",{providedIn:"root",factory:()=>100});var AF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})();var NF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({})}}return n})(),lK=[iF,rF,oF,sF,gF,n0,yF,vF,NF,EF,wF,bF,DF,CF,IF,TF,SF,AF],i0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({imports:[lK,iF,rF,oF,sF,gF,n0,yF,vF,NF,EF,wF,bF,DF,CF,IF,TF,SF,AF]})}}return n})();var r0=(()=>{class n{constructor(){this.time=new Date}ngOnInit(){this.subscription=tE(1e3).subscribe(()=>{this.time=new Date})}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-clock"]],standalone:!0,features:[fi],decls:6,vars:8,consts:[[2,"color","#fff"],[2,"color","red"]],template:function(i,r){i&1&&(y(0,"div",0)(1,"strong",1),A(2),Sn(3,"date"),v(),A(4),Sn(5,"date"),v()),i&2&&(O(2),Be(Ii(3,2,r.time,"HH")),O(2),ze("",Ii(5,5,r.time,":mm:ss")," "))},dependencies:[Kr,Is],encapsulation:2})}}return n})();var uK=n=>({show:n});function dK(n,e){if(n&1){let t=Ee();Hi(0),y(1,"li",14)(2,"a",15),A(3,"Content Management"),v(),y(4,"ul",16)(5,"li")(6,"a",17),j("click",function(){$(t);let r=z();return U(r.isNavbarCollapsed=!0)}),A(7,"\u0E2D\u0E38\u0E1B\u0E01\u0E23\u0E13\u0E4C"),v()(),y(8,"li")(9,"a",18),j("click",function(){$(t);let r=z();return U(r.isNavbarCollapsed=!0)}),A(10,"\u0E04\u0E48\u0E32\u0E43\u0E0A\u0E49\u0E08\u0E48\u0E32\u0E22"),v()(),y(11,"li")(12,"a",19),j("click",function(){$(t);let r=z();return U(r.isNavbarCollapsed=!0)}),A(13,"\u0E04\u0E4D\u0E32\u0E23\u0E49\u0E2D\u0E07"),v()()()(),Gi()}}function hK(n,e){if(n&1){let t=Ee();y(0,"a",24),j("click",function(){$(t);let r=z(2);return U(r.changeTheme("light"))})("click",function(){$(t);let r=z(2);return U(r.isNavbarCollapsed=!0)}),A(1,"Light "),ie(2,"i",25),v()}}function fK(n,e){if(n&1){let t=Ee();y(0,"a",24),j("click",function(){$(t);let r=z(2);return U(r.changeTheme("dark"))})("click",function(){$(t);let r=z(2);return U(r.isNavbarCollapsed=!0)}),A(1,"Dark "),ie(2,"i",26),v()}}function pK(n,e){if(n&1){let t=Ee();Hi(0),y(1,"li",14)(2,"a",15),A(3),v(),y(4,"ul",20)(5,"li"),he(6,hK,3,0,"a",21)(7,fK,3,0,"a",21),v(),y(8,"li")(9,"a",22),j("click",function(){$(t);let r=z();return U(r.isNavbarCollapsed=!0)}),A(10,"Profile"),v()(),y(11,"li")(12,"a",23),j("click",function(){$(t);let r=z();return U(r.logout())})("click",function(){$(t);let r=z();return U(r.isNavbarCollapsed=!0)}),A(13,"Logout"),v()()()(),Gi()}if(n&2){let t,i=z();O(3),ze("Hello, ",(t=i.authService.currentUserSig())==null?null:t.displayName,""),O(3),K("ngIf",i.getTheme()!="light"),O(),K("ngIf",i.getTheme()!="dark")}}function mK(n,e){if(n&1){let t=Ee();y(0,"a",30),j("click",function(){$(t);let r=z(2);return U(r.changeTheme("light"))})("click",function(){$(t);let r=z(2);return U(r.isNavbarCollapsed=!0)}),ie(1,"i",25),v()}}function gK(n,e){if(n&1){let t=Ee();y(0,"a",30),j("click",function(){$(t);let r=z(2);return U(r.changeTheme("dark"))})("click",function(){$(t);let r=z(2);return U(r.isNavbarCollapsed=!0)}),ie(1,"i",26),v()}}function _K(n,e){if(n&1){let t=Ee();y(0,"li",8)(1,"a",27),j("click",function(){$(t);let r=z();return U(r.isNavbarCollapsed=!0)}),A(2,"Login"),v()(),y(3,"li",8)(4,"a",28),j("click",function(){$(t);let r=z();return U(r.isNavbarCollapsed=!0)}),A(5,"Register"),v()(),y(6,"li"),he(7,mK,2,0,"a",29)(8,gK,2,0,"a",29),v()}if(n&2){let t=z();O(7),K("ngIf",t.getTheme()!="light"),O(),K("ngIf",t.getTheme()!="dark")}}var xF=(()=>{class n{constructor(t){this.themeService=t,this.title=" Kill Dev",this.isNavbarCollapsed=!0,this.authService=R(pn),this.router=R(Gt)}logout(){Se(this.authService.logout()).subscribe({next:()=>{this.router.navigate(["/login"])},error:t=>{console.error("Logout failed",t)}})}changeTheme(t){this.themeService.setTheme(t)}getTheme(){return this.themeService.getTheme()}static{this.\u0275fac=function(i){return new(i||n)(J(j_))}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-navber"]],decls:22,vars:7,consts:[["guest",""],["data-bs-theme","dark",1,"navbar","navbar-expand-md","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand",2,"text-shadow","#ff0000 0 0 10px",3,"click"],["type","button","aria-controls","navbar","aria-expanded","!isNavbarCollapsed","aria-label","Toggle navigation",1,"navbar-toggler",2,"border","none",3,"click"],[1,"navbar-toggler-icon"],["id","navbar",1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","flex-grow-1"],[1,"nav-item"],["href","#",1,"nav-link",3,"click"],["href","#/about",1,"nav-link",3,"click"],[4,"ngIf"],[1,"navbar-nav","ms-auto"],[4,"ngIf","ngIfElse"],["ngbDropdown","",1,"nav-item","dropdown","dropdown-hover"],["ngbDropdownToggle","","href","javascript:void(0)",1,"nav-link","dropdown-toggle"],["ngbDropdownMenu","",1,"dropdown-menu"],["href","#/equipment",1,"dropdown-item",3,"click"],["href","#/expenses",1,"dropdown-item",3,"click"],["href","#/request",1,"dropdown-item",3,"click"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["a","","class","dropdown-item","style","cursor: pointer; color: #fff;",3,"click",4,"ngIf"],["href","#/profile",1,"dropdown-item",3,"click"],["href","javascript:void(0)",1,"dropdown-item",2,"color","#ff0000",3,"click"],["a","",1,"dropdown-item",2,"cursor","pointer","color","#fff",3,"click"],[1,"bi","bi-brightness-high"],[1,"bi","bi-moon-stars"],["href","#/login",1,"nav-link",3,"click"],["href","#/register",1,"nav-link",3,"click"],["a","","class","nav-link","href","#","style","cursor: pointer; color: #fff;",3,"click",4,"ngIf"],["a","","href","#",1,"nav-link",2,"cursor","pointer","color","#fff",3,"click"]],template:function(i,r){if(i&1){let o=Ee();y(0,"nav",1)(1,"div",2)(2,"a",3),j("click",function(){return $(o),U(r.isNavbarCollapsed=!0)}),y(3,"strong"),A(4,"Jack"),v(),A(5),v(),y(6,"button",4),j("click",function(){return $(o),U(r.isNavbarCollapsed=!r.isNavbarCollapsed)}),ie(7,"span",5),v(),y(8,"div",6)(9,"ul",7)(10,"li",8)(11,"a",9),j("click",function(){return $(o),U(r.isNavbarCollapsed=!0)}),A(12,"Home"),v()(),y(13,"li",8)(14,"a",10),j("click",function(){return $(o),U(r.isNavbarCollapsed=!0)}),A(15,"About"),v()(),he(16,dK,14,0,"ng-container",11),v(),ie(17,"app-clock"),y(18,"ul",12),he(19,pK,14,3,"ng-container",13)(20,_K,9,2,"ng-template",null,0,Ba),v()()()()}if(i&2){let o=nn(21);O(5),Be(r.title),O(3),K("ngClass",rn(5,uK,!r.isNavbarCollapsed)),O(8),K("ngIf",r.authService.currentUserSig()),O(3),K("ngIf",r.authService.currentUserSig())("ngIfElse",o)}},dependencies:[zi,Ln,t0,_F,bD,r0]})}}return n})();var RF=n=>({show:n}),vK=(n,e,t)=>({"bg-danger":n,"bg-warning":e,"bg-info":t});function EK(n,e){n&1&&(y(0,"div",5)(1,"div",6)(2,"div",7)(3,"span",8),A(4,"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E2D\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48..."),v()(),y(5,"div",9),A(6,"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E2D\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48..."),v()()())}function wK(n,e){if(n&1){let t=Ee();y(0,"div",10)(1,"div",11)(2,"div",12)(3,"strong",13),ie(4,"i",14),A(5," Jack Kill Dev"),v(),y(6,"button",15),j("click",function(){$(t);let r=z();return U(r.isToastVisible=!1)}),v()(),y(7,"div",16)(8,"label",17),A(9),v()()()()}if(n&2){let t=z();O(9),Be(t.toastMessage)}}function bK(n,e){if(n&1){let t=Ee();y(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"h5",22),A(5),v(),y(6,"button",23),j("click",function(){$(t);let r=z();return U(r.isDialogVisible=!1)}),v()(),y(7,"div",24)(8,"p"),A(9),v()(),y(10,"div",25)(11,"button",26),j("click",function(){$(t);let r=z();return U(r.isDialogVisible=!1)}),A(12,"Close"),v()()()()()}if(n&2){let t=z();K("ngClass",rn(4,RF,t.isDialogVisible)),O(3),K("ngClass",gb(6,vK,t.dialogType==="Error",t.dialogType==="Warning",t.dialogType==="Info")),O(2),ze("",t.dialogType," Dialog"),O(4),Be(t.dialogMessage)}}function DK(n,e){if(n&1){let t=Ee();y(0,"div",18)(1,"div",27)(2,"div",28)(3,"div",29)(4,"h5",22),A(5,"Confirm"),v(),y(6,"button",23),j("click",function(){$(t);let r=z();return U(r.confirmDialogResult(!1))}),v()(),y(7,"div",24)(8,"p"),A(9),v()(),y(10,"div",25)(11,"button",30),j("click",function(){$(t);let r=z();return U(r.confirmDialogResult(!0))}),A(12,"OK"),v(),y(13,"button",26),j("click",function(){$(t);let r=z();return U(r.confirmDialogResult(!1))}),A(14,"Cancel"),v()()()()()}if(n&2){let t=z();K("ngClass",rn(2,RF,t.isConfirmDialogVisible)),O(9),Be(t.confirmDialogMessage)}}var jn=(()=>{class n{constructor(t,i){this.themeService=t,this.router=i,this.isToastVisible=!1,this.toastMessage="",this.isDialogVisible=!1,this.dialogMessage="",this.dialogType="Info",this.isConfirmDialogVisible=!1,this.confirmDialogMessage="",this.isLoading=!1}ngOnInit(){this.themeService.setTheme(this.themeService.getTheme()),this.router.events.subscribe(t=>{t instanceof Mi&&this.themeService.setTheme(this.themeService.getTheme())})}showToast(t){this.toastMessage=t,this.isToastVisible=!0,setTimeout(()=>{this.isToastVisible=!1},3e3)}showDialog(t,i="Info"){this.dialogMessage=t,this.dialogType=i,this.isDialogVisible=!0}showConfirmDialog(t){return this.confirmDialogMessage=t,this.isConfirmDialogVisible=!0,new Promise(i=>{this.confirmDialogResolve=i})}confirmDialogResult(t){this.isConfirmDialogVisible=!1,this.confirmDialogResolve(t)}convertToFloat(t){let i=parseFloat(t);return isNaN(i)?0:i}endOfDay(t){return Ak(t)}startOfDay(t){return Sk(t)}static{this.\u0275fac=function(i){return new(i||n)(J(j_),J(Gt))}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-root"]],decls:18,vars:4,consts:[["tabindex","-1","class","loading-overlay",4,"ngIf"],[1,"layout-footer"],["href","#"],["class","toast-container",4,"ngIf"],["class","modal","tabindex","-1","style","display: block;",3,"ngClass",4,"ngIf"],["tabindex","-1",1,"loading-overlay"],[1,"loading-spinner"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"toast-container"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","show","bg-success"],[1,"toast-header"],[1,"me-auto"],[1,"bi","bi-bell-fill"],["type","button","aria-label","Close",1,"btn-close","ms-2","mb-1",3,"click"],[1,"toast-body"],[2,"color","#fff"],["tabindex","-1",1,"modal",2,"display","block",3,"ngClass"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",3,"ngClass"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"modal-dialog","modal-sm","modal-dialog-centered"],[1,"modal-content",2,"border","1px solid #f0a10d"],[1,"modal-header"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,r){i&1&&(he(0,EK,7,0,"div",0),y(1,"header"),ie(2,"app-navber"),v(),y(3,"main"),ie(4,"router-outlet"),v(),y(5,"footer",1)(6,"div")(7,"a"),A(8,"\xA9 2024 JackKillDev"),v(),A(9," \xB7 "),y(10,"a",2),A(11,"Privacy Policy"),v(),A(12," \xB7 "),y(13,"a",2),A(14,"Terms & Conditions"),v()()(),he(15,wK,10,1,"div",3)(16,bK,13,10,"div",4)(17,DK,15,4,"div",4)),i&2&&(K("ngIf",r.isLoading),O(15),K("ngIf",r.isToastVisible),O(),K("ngIf",r.isDialogVisible),O(),K("ngIf",r.isConfirmDialogVisible))},dependencies:[A1,zi,Ln,xF],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:0;right:0;padding:10px 24px;z-index:1050}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#ffffffb3;z-index:3000;display:flex;align-items:center;justify-content:center}.loading-spinner[_ngcontent-%COMP%]{text-align:center}"]})}}return n})();var o0=(()=>{class n{constructor(t){this.appCom=t,this.value="",this.keyStart='sql.AppendLine("',this.keyEnd='");'}ngOnInit(){}cut(){var t=this.value.split(`
`);this.value=t.map(i=>i.replace(this.keyStart,"").replace(this.keyEnd,"")).join(`
`)}set(){let t=this.value.split(`
`);this.value=t.map(i=>`${this.keyStart.trim()}${i}${this.keyEnd.trim()}`).join(`
`)}reset(){this.value="",this.keyStart='sql.AppendLine("',this.keyEnd='");'}copyMessage(t){t.select(),this.copyTextToClipboard(t.value)}copyTextToClipboard(t){navigator.clipboard?navigator.clipboard.writeText(t).then(()=>{this.appCom.showToast("Copied to clipboard")}).catch(i=>{this.appCom.showDialog("Failed to copy text to clipboard: "+i,"Error")}):console.log("Clipboard API not supported")}onPaste(t){let r=(t.clipboardData||window.Clipboard).getData("Text").trim();t.preventDefault(),this.value=r.split("	").join(`
`)}static{this.\u0275fac=function(i){return new(i||n)(J(jn))}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-substring"]],standalone:!0,features:[fi],decls:14,vars:3,consts:[["message",""],[1,"container","mt-3"],[1,"row","g-3","mb-3"],[1,"col-md-6"],["type","text","placeholder","Start",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","End",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","gap-3","mb-3"],["type","button","value","Set",1,"btn","btn-outline-success",3,"click"],["type","button","value","Cut",1,"btn","btn-outline-primary",3,"click"],["type","button","value","Reset",1,"btn","btn-outline-danger",3,"click"],["type","button","value","Copy me!",1,"btn","btn-outline-info",3,"click"],[1,"mb-3"],["wrap","off",1,"form-control",2,"height","200px",3,"paste","ngModelChange","ngModel"]],template:function(i,r){if(i&1){let o=Ee();y(0,"div",1)(1,"div",2)(2,"div",3)(3,"input",4),Pt("ngModelChange",function(a){return $(o),Ut(r.keyStart,a)||(r.keyStart=a),U(a)}),v()(),y(4,"div",3)(5,"input",5),Pt("ngModelChange",function(a){return $(o),Ut(r.keyEnd,a)||(r.keyEnd=a),U(a)}),v()()(),y(6,"div",6)(7,"input",7),j("click",function(){return $(o),U(r.set())}),v(),y(8,"input",8),j("click",function(){return $(o),U(r.cut())}),v(),y(9,"input",9),j("click",function(){return $(o),U(r.reset())}),v(),y(10,"input",10),j("click",function(){$(o);let a=nn(13);return U(r.copyMessage(a))}),v()(),y(11,"div",11)(12,"textarea",12,0),j("paste",function(a){return $(o),U(r.onPaste(a))}),Pt("ngModelChange",function(a){return $(o),Ut(r.value,a)||(r.value=a),U(a)}),v()()()}i&2&&(O(3),Ot("ngModel",r.keyStart),O(2),Ot("ngModel",r.keyEnd),O(7),Ot("ngModel",r.value))},dependencies:[zc,qt,fn,xi,Kr],encapsulation:2})}}return n})();var OF=(()=>{class n{constructor(t){this.appCom=t,this.messageInput="Hello DD"}ngOnInit(){}set(){this.valueOld=this.value;let t=this.value.split(`
`);this.value=t.filter(i=>i!="").map(i=>`${this.messageInput?.trim().replaceAll("DD",i)}`).join(`
`)}reset(){this.value=this.valueOld}copyMessage(t){t.select(),this.copyTextToClipboard(t.value)}copyTextToClipboard(t){navigator.clipboard?navigator.clipboard.writeText(t).then(()=>{this.appCom.showToast("Copied to clipboard")}).catch(i=>{this.appCom.showDialog("Failed to copy text to clipboard: "+i,"Error")}):console.log("Clipboard API not supported")}onPaste(t){let r=(t.clipboardData||window.Clipboard).getData("Text").trim();t.preventDefault(),this.value=r.split("	").join(`
`)}static{this.\u0275fac=function(i){return new(i||n)(J(jn))}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-myDD"]],decls:11,vars:2,consts:[["message",""],[1,"container","mt-3"],[1,"row","g-3","mb-3"],[1,"col-12"],["type","text","placeholder","message",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","gap-3","mb-3"],["type","button","value","Replace DD",1,"btn","btn-outline-success",3,"click"],["type","button","value","Reset",1,"btn","btn-outline-danger",3,"click"],["type","button","value","Copy me!",1,"btn","btn-outline-info",3,"click"],[1,"mb-3"],["wrap","off",1,"form-control",2,"height","200px",3,"ngModelChange","paste","ngModel"]],template:function(i,r){if(i&1){let o=Ee();y(0,"div",1)(1,"div",2)(2,"div",3)(3,"input",4),Pt("ngModelChange",function(a){return $(o),Ut(r.messageInput,a)||(r.messageInput=a),U(a)}),v()()(),y(4,"div",5)(5,"input",6),j("click",function(){return $(o),U(r.set())}),v(),y(6,"input",7),j("click",function(){return $(o),U(r.reset())}),v(),y(7,"input",8),j("click",function(){$(o);let a=nn(10);return U(r.copyMessage(a))}),v()(),y(8,"div",9)(9,"textarea",10,0),Pt("ngModelChange",function(a){return $(o),Ut(r.value,a)||(r.value=a),U(a)}),j("paste",function(a){return $(o),U(r.onPaste(a))}),v()()()}i&2&&(O(3),Ot("ngModel",r.messageInput),O(6),Ot("ngModel",r.value))},dependencies:[qt,fn,xi],encapsulation:2})}}return n})();var PF=(()=>{class n{constructor(t){this.appCom=t,this.schema="dbo",this.table="example",this.value=`code
name`}ngOnInit(){}insert(){this.value=`INSERT INTO [${this.schema}].[${this.table}]
(${this.value.trim().split(`
`).map(t=>` ${t}`).join(",")})
VALUES
(${this.value.trim().split(`
`).map(t=>` @${t}`).join(",")});`}update(){this.value=`UPDATE [${this.schema}].[${this.table}] SET
${this.value.trim().split(`
`).map(t=>` ${t} = @${t}`).join(",")}
WHERE
 1 = 1;`}create(){this.value=`CREATE TABLE [${this.schema}].[${this.table}]
(
${this.value.trim().split(`
`).map(t=>` [${t}] NVARCHAR(50)`).join(`,
`)}
);`}reset(){this.value=""}onPaste(t){let r=(t.clipboardData||window.Clipboard).getData("Text").trim();t.preventDefault(),this.value=r.split("	").join(`
`)}copyMessage(t){t.select(),this.copyTextToClipboard(t.value)}copyTextToClipboard(t){navigator.clipboard?navigator.clipboard.writeText(t).then(()=>{this.appCom.showToast("Copied to clipboard")}).catch(i=>{this.appCom.showDialog("Failed to copy text to clipboard: "+i,"Error")}):console.log("Clipboard API not supported")}static{this.\u0275fac=function(i){return new(i||n)(J(jn))}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-my-Tsql"]],decls:19,vars:3,consts:[["message",""],[1,"container","mt-3"],[1,"row","g-3","mb-3"],[1,"col-6"],["for","schema",1,"form-label"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["for","table",1,"form-label"],[1,"col-12","d-flex","flex-wrap","gap-3","mb-3"],["type","button","value","Insert",1,"btn","btn-outline-success",3,"click"],["type","button","value","Update",1,"btn","btn-outline-warning",3,"click"],["type","button","value","Create",1,"btn","btn-outline-primary",3,"click"],["type","button","value","Reset",1,"btn","btn-outline-danger",3,"click"],["type","button","value","Copy me!",1,"btn","btn-outline-info",3,"click"],[1,"mb-3"],["wrap","off",1,"form-control",2,"height","200px",3,"ngModelChange","paste","ngModel"]],template:function(i,r){if(i&1){let o=Ee();y(0,"div",1)(1,"div",2)(2,"div",3)(3,"label",4),A(4,"Schema"),v(),y(5,"input",5),Pt("ngModelChange",function(a){return $(o),Ut(r.schema,a)||(r.schema=a),U(a)}),v()(),y(6,"div",3)(7,"label",6),A(8,"TableName"),v(),y(9,"input",5),Pt("ngModelChange",function(a){return $(o),Ut(r.table,a)||(r.table=a),U(a)}),v()()(),y(10,"div",7)(11,"input",8),j("click",function(){return $(o),U(r.insert())}),v(),y(12,"input",9),j("click",function(){return $(o),U(r.update())}),v(),y(13,"input",10),j("click",function(){return $(o),U(r.create())}),v(),y(14,"input",11),j("click",function(){return $(o),U(r.reset())}),v(),y(15,"input",12),j("click",function(){$(o);let a=nn(18);return U(r.copyMessage(a))}),v()(),y(16,"div",13)(17,"textarea",14,0),Pt("ngModelChange",function(a){return $(o),Ut(r.value,a)||(r.value=a),U(a)}),j("paste",function(a){return $(o),U(r.onPaste(a))}),v()()()}i&2&&(O(5),Ot("ngModel",r.schema),O(4),Ot("ngModel",r.table),O(8),Ot("ngModel",r.value))},dependencies:[qt,fn,xi],encapsulation:2})}}return n})();var kF=(()=>{class n{constructor(){this.title=`Hello, ${this.checkTime()}`}ngOnInit(){}checkTime(){var t=new Date;return t.getHours()>=5&&t.getHours()<=11?"Good morning.":t.getHours()<=18?"Good afternoon.":"Good evening."}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-home"]],decls:20,vars:1,consts:[[1,"container"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["data-bs-toggle","tab","href","#joinstring","aria-selected","true","role","tab",1,"nav-link","active"],["data-bs-toggle","tab","href","#mydd","aria-selected","false","role","tab","tabindex","-1",1,"nav-link"],["data-bs-toggle","tab","href","#mytsql","aria-selected","false","role","tab","tabindex","-1",1,"nav-link"],["id","myTabContent",1,"tab-content"],["id","joinstring","role","tabpanel",1,"tab-pane","fade","active","show"],["id","mydd","role","tabpanel",1,"tab-pane","fade"],["id","mytsql","role","tabpanel",1,"tab-pane","fade"]],template:function(i,r){i&1&&(y(0,"div",0)(1,"h1"),A(2),v(),y(3,"ul",1)(4,"li",2)(5,"a",3),A(6,"Join String"),v()(),y(7,"li",2)(8,"a",4),A(9,"My DD"),v()(),y(10,"li",2)(11,"a",5),A(12,"My T-SQL"),v()()(),y(13,"div",6)(14,"div",7),ie(15,"app-substring"),v(),y(16,"div",8),ie(17,"app-myDD"),v(),y(18,"div",9),ie(19,"app-my-Tsql"),v()()()),i&2&&(O(2),Be(r.title))},dependencies:[o0,OF,PF]})}}return n})();var FF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},VF={};var Ps,DD;(function(){var n;function e(C,E){function w(){}w.prototype=E.prototype,C.D=E.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(S,N,x){for(var b=Array(arguments.length-2),_n=2;_n<arguments.length;_n++)b[_n-2]=arguments[_n];return E.prototype[N].apply(S,b)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,E,w){w||(w=0);var S=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)S[N]=E.charCodeAt(w++)|E.charCodeAt(w++)<<8|E.charCodeAt(w++)<<16|E.charCodeAt(w++)<<24;else for(N=0;16>N;++N)S[N]=E[w++]|E[w++]<<8|E[w++]<<16|E[w++]<<24;E=C.g[0],w=C.g[1],N=C.g[2];var x=C.g[3],b=E+(x^w&(N^x))+S[0]+3614090360&4294967295;E=w+(b<<7&4294967295|b>>>25),b=x+(N^E&(w^N))+S[1]+3905402710&4294967295,x=E+(b<<12&4294967295|b>>>20),b=N+(w^x&(E^w))+S[2]+606105819&4294967295,N=x+(b<<17&4294967295|b>>>15),b=w+(E^N&(x^E))+S[3]+3250441966&4294967295,w=N+(b<<22&4294967295|b>>>10),b=E+(x^w&(N^x))+S[4]+4118548399&4294967295,E=w+(b<<7&4294967295|b>>>25),b=x+(N^E&(w^N))+S[5]+1200080426&4294967295,x=E+(b<<12&4294967295|b>>>20),b=N+(w^x&(E^w))+S[6]+2821735955&4294967295,N=x+(b<<17&4294967295|b>>>15),b=w+(E^N&(x^E))+S[7]+4249261313&4294967295,w=N+(b<<22&4294967295|b>>>10),b=E+(x^w&(N^x))+S[8]+1770035416&4294967295,E=w+(b<<7&4294967295|b>>>25),b=x+(N^E&(w^N))+S[9]+2336552879&4294967295,x=E+(b<<12&4294967295|b>>>20),b=N+(w^x&(E^w))+S[10]+4294925233&4294967295,N=x+(b<<17&4294967295|b>>>15),b=w+(E^N&(x^E))+S[11]+2304563134&4294967295,w=N+(b<<22&4294967295|b>>>10),b=E+(x^w&(N^x))+S[12]+1804603682&4294967295,E=w+(b<<7&4294967295|b>>>25),b=x+(N^E&(w^N))+S[13]+4254626195&4294967295,x=E+(b<<12&4294967295|b>>>20),b=N+(w^x&(E^w))+S[14]+2792965006&4294967295,N=x+(b<<17&4294967295|b>>>15),b=w+(E^N&(x^E))+S[15]+1236535329&4294967295,w=N+(b<<22&4294967295|b>>>10),b=E+(N^x&(w^N))+S[1]+4129170786&4294967295,E=w+(b<<5&4294967295|b>>>27),b=x+(w^N&(E^w))+S[6]+3225465664&4294967295,x=E+(b<<9&4294967295|b>>>23),b=N+(E^w&(x^E))+S[11]+643717713&4294967295,N=x+(b<<14&4294967295|b>>>18),b=w+(x^E&(N^x))+S[0]+3921069994&4294967295,w=N+(b<<20&4294967295|b>>>12),b=E+(N^x&(w^N))+S[5]+3593408605&4294967295,E=w+(b<<5&4294967295|b>>>27),b=x+(w^N&(E^w))+S[10]+38016083&4294967295,x=E+(b<<9&4294967295|b>>>23),b=N+(E^w&(x^E))+S[15]+3634488961&4294967295,N=x+(b<<14&4294967295|b>>>18),b=w+(x^E&(N^x))+S[4]+3889429448&4294967295,w=N+(b<<20&4294967295|b>>>12),b=E+(N^x&(w^N))+S[9]+568446438&4294967295,E=w+(b<<5&4294967295|b>>>27),b=x+(w^N&(E^w))+S[14]+3275163606&4294967295,x=E+(b<<9&4294967295|b>>>23),b=N+(E^w&(x^E))+S[3]+4107603335&4294967295,N=x+(b<<14&4294967295|b>>>18),b=w+(x^E&(N^x))+S[8]+1163531501&4294967295,w=N+(b<<20&4294967295|b>>>12),b=E+(N^x&(w^N))+S[13]+2850285829&4294967295,E=w+(b<<5&4294967295|b>>>27),b=x+(w^N&(E^w))+S[2]+4243563512&4294967295,x=E+(b<<9&4294967295|b>>>23),b=N+(E^w&(x^E))+S[7]+1735328473&4294967295,N=x+(b<<14&4294967295|b>>>18),b=w+(x^E&(N^x))+S[12]+2368359562&4294967295,w=N+(b<<20&4294967295|b>>>12),b=E+(w^N^x)+S[5]+4294588738&4294967295,E=w+(b<<4&4294967295|b>>>28),b=x+(E^w^N)+S[8]+2272392833&4294967295,x=E+(b<<11&4294967295|b>>>21),b=N+(x^E^w)+S[11]+1839030562&4294967295,N=x+(b<<16&4294967295|b>>>16),b=w+(N^x^E)+S[14]+4259657740&4294967295,w=N+(b<<23&4294967295|b>>>9),b=E+(w^N^x)+S[1]+2763975236&4294967295,E=w+(b<<4&4294967295|b>>>28),b=x+(E^w^N)+S[4]+1272893353&4294967295,x=E+(b<<11&4294967295|b>>>21),b=N+(x^E^w)+S[7]+4139469664&4294967295,N=x+(b<<16&4294967295|b>>>16),b=w+(N^x^E)+S[10]+3200236656&4294967295,w=N+(b<<23&4294967295|b>>>9),b=E+(w^N^x)+S[13]+681279174&4294967295,E=w+(b<<4&4294967295|b>>>28),b=x+(E^w^N)+S[0]+3936430074&4294967295,x=E+(b<<11&4294967295|b>>>21),b=N+(x^E^w)+S[3]+3572445317&4294967295,N=x+(b<<16&4294967295|b>>>16),b=w+(N^x^E)+S[6]+76029189&4294967295,w=N+(b<<23&4294967295|b>>>9),b=E+(w^N^x)+S[9]+3654602809&4294967295,E=w+(b<<4&4294967295|b>>>28),b=x+(E^w^N)+S[12]+3873151461&4294967295,x=E+(b<<11&4294967295|b>>>21),b=N+(x^E^w)+S[15]+530742520&4294967295,N=x+(b<<16&4294967295|b>>>16),b=w+(N^x^E)+S[2]+3299628645&4294967295,w=N+(b<<23&4294967295|b>>>9),b=E+(N^(w|~x))+S[0]+4096336452&4294967295,E=w+(b<<6&4294967295|b>>>26),b=x+(w^(E|~N))+S[7]+1126891415&4294967295,x=E+(b<<10&4294967295|b>>>22),b=N+(E^(x|~w))+S[14]+2878612391&4294967295,N=x+(b<<15&4294967295|b>>>17),b=w+(x^(N|~E))+S[5]+4237533241&4294967295,w=N+(b<<21&4294967295|b>>>11),b=E+(N^(w|~x))+S[12]+1700485571&4294967295,E=w+(b<<6&4294967295|b>>>26),b=x+(w^(E|~N))+S[3]+2399980690&4294967295,x=E+(b<<10&4294967295|b>>>22),b=N+(E^(x|~w))+S[10]+4293915773&4294967295,N=x+(b<<15&4294967295|b>>>17),b=w+(x^(N|~E))+S[1]+2240044497&4294967295,w=N+(b<<21&4294967295|b>>>11),b=E+(N^(w|~x))+S[8]+1873313359&4294967295,E=w+(b<<6&4294967295|b>>>26),b=x+(w^(E|~N))+S[15]+4264355552&4294967295,x=E+(b<<10&4294967295|b>>>22),b=N+(E^(x|~w))+S[6]+2734768916&4294967295,N=x+(b<<15&4294967295|b>>>17),b=w+(x^(N|~E))+S[13]+1309151649&4294967295,w=N+(b<<21&4294967295|b>>>11),b=E+(N^(w|~x))+S[4]+4149444226&4294967295,E=w+(b<<6&4294967295|b>>>26),b=x+(w^(E|~N))+S[11]+3174756917&4294967295,x=E+(b<<10&4294967295|b>>>22),b=N+(E^(x|~w))+S[2]+718787259&4294967295,N=x+(b<<15&4294967295|b>>>17),b=w+(x^(N|~E))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+x&4294967295}i.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var w=E-this.blockSize,S=this.B,N=this.h,x=0;x<E;){if(N==0)for(;x<=w;)r(this,C,x),x+=this.blockSize;if(typeof C=="string"){for(;x<E;)if(S[N++]=C.charCodeAt(x++),N==this.blockSize){r(this,S),N=0;break}}else for(;x<E;)if(S[N++]=C[x++],N==this.blockSize){r(this,S),N=0;break}}this.h=N,this.o+=E},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var w=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=w&255,w/=256;for(this.u(C),C=Array(16),E=w=0;4>E;++E)for(var S=0;32>S;S+=8)C[w++]=this.g[E]>>>S&255;return C};function o(C,E){var w=a;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=E(C)}function s(C,E){this.h=E;for(var w=[],S=!0,N=C.length-1;0<=N;N--){var x=C[N]|0;S&&x==E||(w[N]=x,S=!1)}this.g=w}var a={};function l(C){return-128<=C&&128>C?o(C,function(E){return new s([E|0],0>E?-1:0)}):new s([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return T(u(-C));for(var E=[],w=1,S=0;C>=w;S++)E[S]=C/w|0,w*=4294967296;return new s(E,0)}function d(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return T(d(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(E,8)),S=f,N=0;N<C.length;N+=8){var x=Math.min(8,C.length-N),b=parseInt(C.substring(N,N+x),E);8>x?(x=u(Math.pow(E,x)),S=S.j(x).add(u(b))):(S=S.j(w),S=S.add(u(b)))}return S}var f=l(0),m=l(1),g=l(16777216);n=s.prototype,n.m=function(){if(I(this))return-T(this).m();for(var C=0,E=1,w=0;w<this.g.length;w++){var S=this.i(w);C+=(0<=S?S:4294967296+S)*E,E*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(I(this))return"-"+T(this).toString(C);for(var E=u(Math.pow(C,6)),w=this,S="";;){var N=G(w,E).g;w=F(w,N.j(E));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=N,D(w))return x+S;for(;6>x.length;)x="0"+x;S=x+S}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function I(C){return C.h==-1}n.l=function(C){return C=F(this,C),I(C)?-1:D(C)?0:1};function T(C){for(var E=C.g.length,w=[],S=0;S<E;S++)w[S]=~C.g[S];return new s(w,~C.h).add(m)}n.abs=function(){return I(this)?T(this):this},n.add=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],S=0,N=0;N<=E;N++){var x=S+(this.i(N)&65535)+(C.i(N)&65535),b=(x>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);S=b>>>16,x&=65535,b&=65535,w[N]=b<<16|x}return new s(w,w[w.length-1]&-2147483648?-1:0)};function F(C,E){return C.add(T(E))}n.j=function(C){if(D(this)||D(C))return f;if(I(this))return I(C)?T(this).j(T(C)):T(T(this).j(C));if(I(C))return T(this.j(T(C)));if(0>this.l(g)&&0>C.l(g))return u(this.m()*C.m());for(var E=this.g.length+C.g.length,w=[],S=0;S<2*E;S++)w[S]=0;for(S=0;S<this.g.length;S++)for(var N=0;N<C.g.length;N++){var x=this.i(S)>>>16,b=this.i(S)&65535,_n=C.i(N)>>>16,vi=C.i(N)&65535;w[2*S+2*N]+=b*vi,H(w,2*S+2*N),w[2*S+2*N+1]+=x*vi,H(w,2*S+2*N+1),w[2*S+2*N+1]+=b*_n,H(w,2*S+2*N+1),w[2*S+2*N+2]+=x*_n,H(w,2*S+2*N+2)}for(S=0;S<E;S++)w[S]=w[2*S+1]<<16|w[2*S];for(S=E;S<2*E;S++)w[S]=0;return new s(w,0)};function H(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function B(C,E){this.g=C,this.h=E}function G(C,E){if(D(E))throw Error("division by zero");if(D(C))return new B(f,f);if(I(C))return E=G(T(C),E),new B(T(E.g),T(E.h));if(I(E))return E=G(C,T(E)),new B(T(E.g),E.h);if(30<C.g.length){if(I(C)||I(E))throw Error("slowDivide_ only works with positive integers.");for(var w=m,S=E;0>=S.l(C);)w=Z(w),S=Z(S);var N=X(w,1),x=X(S,1);for(S=X(S,2),w=X(w,2);!D(S);){var b=x.add(S);0>=b.l(C)&&(N=N.add(w),x=b),S=X(S,1),w=X(w,1)}return E=F(C,N.j(E)),new B(N,E)}for(N=f;0<=C.l(E);){for(w=Math.max(1,Math.floor(C.m()/E.m())),S=Math.ceil(Math.log(w)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),x=u(w),b=x.j(E);I(b)||0<b.l(C);)w-=S,x=u(w),b=x.j(E);D(x)&&(x=m),N=N.add(x),C=F(C,b)}return new B(N,C)}n.A=function(C){return G(this,C).h},n.and=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],S=0;S<E;S++)w[S]=this.i(S)&C.i(S);return new s(w,this.h&C.h)},n.or=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],S=0;S<E;S++)w[S]=this.i(S)|C.i(S);return new s(w,this.h|C.h)},n.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],S=0;S<E;S++)w[S]=this.i(S)^C.i(S);return new s(w,this.h^C.h)};function Z(C){for(var E=C.g.length+1,w=[],S=0;S<E;S++)w[S]=C.i(S)<<1|C.i(S-1)>>>31;return new s(w,C.h)}function X(C,E){var w=E>>5;E%=32;for(var S=C.g.length-w,N=[],x=0;x<S;x++)N[x]=0<E?C.i(x+w)>>>E|C.i(x+w+1)<<32-E:C.i(x+w);return new s(N,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,DD=VF.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Ps=VF.Integer=s}).apply(typeof FF<"u"?FF:typeof self<"u"?self:typeof window<"u"?window:{});var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Go={};var CD,SK,cu,ID,cf,a0,TD,SD,AD;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,p){return c==Array.prototype||c==Object.prototype||(c[h]=p.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof s0=="object"&&s0];for(var h=0;h<c.length;++h){var p=c[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=t(this);function r(c,h){if(h)e:{var p=i;c=c.split(".");for(var _=0;_<c.length-1;_++){var M=c[_];if(!(M in p))break e;p=p[M]}c=c[c.length-1],_=p[c],h=h(_),h!=_&&h!=null&&e(p,c,{configurable:!0,writable:!0,value:h})}}function o(c,h){c instanceof String&&(c+="");var p=0,_=!1,M={next:function(){if(!_&&p<c.length){var V=p++;return{value:h(V,c[V]),done:!1}}return _=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}r("Array.prototype.values",function(c){return c||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function l(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function u(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,p){return c.call.apply(c.bind,arguments)}function f(c,h,p){if(!c)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,_),c.apply(h,M)}}return function(){return c.apply(h,arguments)}}function m(c,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(c,h){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),c.apply(this,_)}}function D(c,h){function p(){}p.prototype=h.prototype,c.aa=h.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(_,M,V){for(var ne=Array(arguments.length-2),et=2;et<arguments.length;et++)ne[et-2]=arguments[et];return h.prototype[M].apply(_,ne)}}function I(c){let h=c.length;if(0<h){let p=Array(h);for(let _=0;_<h;_++)p[_]=c[_];return p}return[]}function T(c,h){for(let p=1;p<arguments.length;p++){let _=arguments[p];if(l(_)){let M=c.length||0,V=_.length||0;c.length=M+V;for(let ne=0;ne<V;ne++)c[M+ne]=_[ne]}else c.push(_)}}class F{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function H(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function G(c){return G[" "](c),c}G[" "]=function(){};var Z=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function X(c,h,p){for(let _ in c)h.call(p,c[_],_,c)}function C(c,h){for(let p in c)h.call(void 0,c[p],p,c)}function E(c){let h={};for(let p in c)h[p]=c[p];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,h){let p,_;for(let M=1;M<arguments.length;M++){_=arguments[M];for(p in _)c[p]=_[p];for(let V=0;V<w.length;V++)p=w[V],Object.prototype.hasOwnProperty.call(_,p)&&(c[p]=_[p])}}function N(c){var h=1;c=c.split(":");let p=[];for(;0<h&&c.length;)p.push(c.shift()),h--;return c.length&&p.push(c.join(":")),p}function x(c){a.setTimeout(()=>{throw c},0)}function b(){var c=ir;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class _n{constructor(){this.h=this.g=null}add(h,p){let _=vi.get();_.set(h,p),this.h?this.h.next=_:this.g=_,this.h=_}}var vi=new F(()=>new Gn,c=>c.reset());class Gn{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let yn,Mr=!1,ir=new _n,la=()=>{let c=a.Promise.resolve(void 0);yn=()=>{c.then(gd)}};var gd=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(p){x(p)}var h=vi;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}Mr=!1};function ii(){this.s=this.s,this.C=this.C}ii.prototype.s=!1,ii.prototype.ma=function(){this.s||(this.s=!0,this.N())},ii.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Nt(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var is=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return c}();function ri(c,h){if(Nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,_=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(Z){e:{try{G(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else p=="mouseover"?h=c.fromElement:p=="mouseout"&&(h=c.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ca[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ri.aa.h.call(this)}}D(ri,Nt);var ca={2:"touch",3:"pen",4:"mouse"};ri.prototype.h=function(){ri.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xr="closure_listenable_"+(1e6*Math.random()|0),_o=0;function _d(c,h,p,_,M){this.listener=c,this.proxy=null,this.src=h,this.type=p,this.capture=!!_,this.ha=M,this.key=++_o,this.da=this.fa=!1}function Ul(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function rs(c){this.src=c,this.g={},this.h=0}rs.prototype.add=function(c,h,p,_,M){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var ne=Hl(c,h,_,M);return-1<ne?(h=c[ne],p||(h.fa=!1)):(h=new _d(h,this.src,V,!!_,M),h.fa=p,c.push(h)),h};function yd(c,h){var p=h.type;if(p in c.g){var _=c.g[p],M=Array.prototype.indexOf.call(_,h,void 0),V;(V=0<=M)&&Array.prototype.splice.call(_,M,1),V&&(Ul(h),c.g[p].length==0&&(delete c.g[p],c.h--))}}function Hl(c,h,p,_){for(var M=0;M<c.length;++M){var V=c[M];if(!V.da&&V.listener==h&&V.capture==!!p&&V.ha==_)return M}return-1}var vd="closure_lm_"+(1e6*Math.random()|0),Ed={};function wd(c,h,p,_,M){if(_&&_.once)return gp(c,h,p,_,M);if(Array.isArray(h)){for(var V=0;V<h.length;V++)wd(c,h[V],p,_,M);return null}return p=ql(p),c&&c[xr]?c.K(h,p,u(_)?!!_.capture:!!_,M):bd(c,h,p,!1,_,M)}function bd(c,h,p,_,M,V){if(!h)throw Error("Invalid event type");var ne=u(M)?!!M.capture:!!M,et=ua(c);if(et||(c[vd]=et=new rs(c)),p=et.add(h,p,_,ne,V),p.proxy)return p;if(_=gv(),p.proxy=_,_.src=c,_.listener=p,c.addEventListener)is||(M=ne),M===void 0&&(M=!1),c.addEventListener(h.toString(),_,M);else if(c.attachEvent)c.attachEvent(Dd(h.toString()),_);else if(c.addListener&&c.removeListener)c.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function gv(){function c(p){return h.call(c.src,c.listener,p)}let h=_p;return c}function gp(c,h,p,_,M){if(Array.isArray(h)){for(var V=0;V<h.length;V++)gp(c,h[V],p,_,M);return null}return p=ql(p),c&&c[xr]?c.L(h,p,u(_)?!!_.capture:!!_,M):bd(c,h,p,!0,_,M)}function Rr(c,h,p,_,M){if(Array.isArray(h))for(var V=0;V<h.length;V++)Rr(c,h[V],p,_,M);else _=u(_)?!!_.capture:!!_,p=ql(p),c&&c[xr]?(c=c.i,h=String(h).toString(),h in c.g&&(V=c.g[h],p=Hl(V,p,_,M),-1<p&&(Ul(V[p]),Array.prototype.splice.call(V,p,1),V.length==0&&(delete c.g[h],c.h--)))):c&&(c=ua(c))&&(h=c.g[h.toString()],c=-1,h&&(c=Hl(h,p,_,M)),(p=-1<c?h[c]:null)&&os(p))}function os(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[xr])yd(h.i,c);else{var p=c.type,_=c.proxy;h.removeEventListener?h.removeEventListener(p,_,c.capture):h.detachEvent?h.detachEvent(Dd(p),_):h.addListener&&h.removeListener&&h.removeListener(_),(p=ua(h))?(yd(p,c),p.h==0&&(p.src=null,h[vd]=null)):Ul(c)}}}function Dd(c){return c in Ed?Ed[c]:Ed[c]="on"+c}function _p(c,h){if(c.da)c=!0;else{h=new ri(h,this);var p=c.listener,_=c.ha||c.src;c.fa&&os(c),c=p.call(_,h)}return c}function ua(c){return c=c[vd],c instanceof rs?c:null}var Gl="__closure_events_fn_"+(1e9*Math.random()>>>0);function ql(c){return typeof c=="function"?c:(c[Gl]||(c[Gl]=function(h){return c.handleEvent(h)}),c[Gl])}function Jt(){ii.call(this),this.i=new rs(this),this.M=this,this.F=null}D(Jt,ii),Jt.prototype[xr]=!0,Jt.prototype.removeEventListener=function(c,h,p,_){Rr(this,c,h,p,_)};function ln(c,h){var p,_=c.F;if(_)for(p=[];_;_=_.F)p.push(_);if(c=c.M,_=h.type||h,typeof h=="string")h=new Nt(h,c);else if(h instanceof Nt)h.target=h.target||c;else{var M=h;h=new Nt(_,c),S(h,M)}if(M=!0,p)for(var V=p.length-1;0<=V;V--){var ne=h.g=p[V];M=yp(ne,_,!0,h)&&M}if(ne=h.g=c,M=yp(ne,_,!0,h)&&M,M=yp(ne,_,!1,h)&&M,p)for(V=0;V<p.length;V++)ne=h.g=p[V],M=yp(ne,_,!1,h)&&M}Jt.prototype.N=function(){if(Jt.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var p=c.g[h],_=0;_<p.length;_++)Ul(p[_]);delete c.g[h],c.h--}}this.F=null},Jt.prototype.K=function(c,h,p,_){return this.i.add(String(c),h,!1,p,_)},Jt.prototype.L=function(c,h,p,_){return this.i.add(String(c),h,!0,p,_)};function yp(c,h,p,_){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,V=0;V<h.length;++V){var ne=h[V];if(ne&&!ne.da&&ne.capture==p){var et=ne.listener,vn=ne.ha||ne.src;ne.fa&&yd(c.i,ne),M=et.call(vn,_)!==!1&&M}}return M&&!_.defaultPrevented}function iA(c,h,p){if(typeof c=="function")p&&(c=m(c,p));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function rA(c){c.g=iA(()=>{c.g=null,c.i&&(c.i=!1,rA(c))},c.l);let h=c.h;c.h=null,c.m.apply(null,h)}class jB extends ii{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:rA(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cd(c){ii.call(this),this.h=c,this.g={}}D(Cd,ii);var oA=[];function sA(c){X(c.g,function(h,p){this.g.hasOwnProperty(p)&&os(h)},c),c.g={}}Cd.prototype.N=function(){Cd.aa.N.call(this),sA(this)},Cd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _v=a.JSON.stringify,$B=a.JSON.parse,UB=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function yv(){}yv.prototype.h=null;function aA(c){return c.h||(c.h=c.i())}function lA(){}var Id={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vv(){Nt.call(this,"d")}D(vv,Nt);function Ev(){Nt.call(this,"c")}D(Ev,Nt);var da={},cA=null;function vp(){return cA=cA||new Jt}da.La="serverreachability";function uA(c){Nt.call(this,da.La,c)}D(uA,Nt);function Td(c){let h=vp();ln(h,new uA(h))}da.STAT_EVENT="statevent";function dA(c,h){Nt.call(this,da.STAT_EVENT,c),this.stat=h}D(dA,Nt);function qn(c){let h=vp();ln(h,new dA(h,c))}da.Ma="timingevent";function hA(c,h){Nt.call(this,da.Ma,c),this.size=h}D(hA,Nt);function Sd(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function Ad(){this.g=!0}Ad.prototype.xa=function(){this.g=!1};function HB(c,h,p,_,M,V){c.info(function(){if(c.g)if(V)for(var ne="",et=V.split("&"),vn=0;vn<et.length;vn++){var Ge=et[vn].split("=");if(1<Ge.length){var Rn=Ge[0];Ge=Ge[1];var On=Rn.split("_");ne=2<=On.length&&On[1]=="type"?ne+(Rn+"="+Ge+"&"):ne+(Rn+"=redacted&")}}else ne=null;else ne=V;return"XMLHTTP REQ ("+_+") [attempt "+M+"]: "+h+`
`+p+`
`+ne})}function GB(c,h,p,_,M,V,ne){c.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+M+"]: "+h+`
`+p+`
`+V+" "+ne})}function zl(c,h,p,_){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+zB(c,p)+(_?" "+_:"")})}function qB(c,h){c.info(function(){return"TIMEOUT: "+h})}Ad.prototype.info=function(){};function zB(c,h){if(!c.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var _=p[c];if(!(2>_.length)){var M=_[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var ne=1;ne<M.length;ne++)M[ne]=""}}}}return _v(p)}catch{return h}}var Ep={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fA={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wv;function wp(){}D(wp,yv),wp.prototype.g=function(){return new XMLHttpRequest},wp.prototype.i=function(){return{}},wv=new wp;function ss(c,h,p,_){this.j=c,this.i=h,this.l=p,this.R=_||1,this.U=new Cd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pA}function pA(){this.i=null,this.g="",this.h=!1}var mA={},bv={};function Dv(c,h,p){c.L=1,c.v=Ip(yo(h)),c.m=p,c.P=!0,gA(c,null)}function gA(c,h){c.F=Date.now(),bp(c),c.A=yo(c.v);var p=c.A,_=c.R;Array.isArray(_)||(_=[String(_)]),MA(p.i,"t",_),c.C=0,p=c.j.J,c.h=new pA,c.g=KA(c.j,p?h:null,!c.m),0<c.O&&(c.M=new jB(m(c.Y,c,c.g),c.O)),h=c.U,p=c.g,_=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(oA[0]=M.toString()),M=oA);for(var V=0;V<M.length;V++){var ne=wd(p,M[V],_||h.handleEvent,!1,h.h||h);if(!ne)break;h.g[ne.key]=ne}h=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),Td(),HB(c.i,c.u,c.A,c.l,c.R,c.m)}ss.prototype.ca=function(c){c=c.target;let h=this.M;h&&vo(c)==3?h.j():this.Y(c)},ss.prototype.Y=function(c){try{if(c==this.g)e:{let On=vo(this.g);var h=this.g.Ba();let Ql=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||VA(this.g)))){this.J||On!=4||h==7||(h==8||0>=Ql?Td(3):Td(2)),Cv(this);var p=this.g.Z();this.X=p;t:if(_A(this)){var _=VA(this.g);c="";var M=_.length,V=vo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ha(this),Nd(this);var ne="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,c+=this.h.i.decode(_[h],{stream:!(V&&h==M-1)});_.length=0,this.h.g+=c,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=p==200,GB(this.i,this.u,this.A,this.l,this.R,On,p),this.o){if(this.T&&!this.K){t:{if(this.g){var et,vn=this.g;if((et=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(et)){var Ge=et;break t}}Ge=null}if(p=Ge)zl(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Iv(this,p);else{this.o=!1,this.s=3,qn(12),ha(this),Nd(this);break e}}if(this.P){p=!0;let rr;for(;!this.J&&this.C<ne.length;)if(rr=WB(this,ne),rr==bv){On==4&&(this.s=4,qn(14),p=!1),zl(this.i,this.l,null,"[Incomplete Response]");break}else if(rr==mA){this.s=4,qn(15),zl(this.i,this.l,ne,"[Invalid Chunk]"),p=!1;break}else zl(this.i,this.l,rr,null),Iv(this,rr);if(_A(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||ne.length!=0||this.h.h||(this.s=1,qn(16),p=!1),this.o=this.o&&p,!p)zl(this.i,this.l,ne,"[Invalid Chunked Response]"),ha(this),Nd(this);else if(0<ne.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),xv(Rn),Rn.M=!0,qn(11))}}else zl(this.i,this.l,ne,null),Iv(this,ne);On==4&&ha(this),this.o&&!this.J&&(On==4?GA(this.j,this):(this.o=!1,bp(this)))}else uj(this.g),p==400&&0<ne.indexOf("Unknown SID")?(this.s=3,qn(12)):(this.s=0,qn(13)),ha(this),Nd(this)}}}catch{}finally{}};function _A(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function WB(c,h){var p=c.C,_=h.indexOf(`
`,p);return _==-1?bv:(p=Number(h.substring(p,_)),isNaN(p)?mA:(_+=1,_+p>h.length?bv:(h=h.slice(_,_+p),c.C=_+p,h)))}ss.prototype.cancel=function(){this.J=!0,ha(this)};function bp(c){c.S=Date.now()+c.I,yA(c,c.I)}function yA(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Sd(m(c.ba,c),h)}function Cv(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ss.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(qB(this.i,this.A),this.L!=2&&(Td(),qn(17)),ha(this),this.s=2,Nd(this)):yA(this,this.S-c)};function Nd(c){c.j.G==0||c.J||GA(c.j,c)}function ha(c){Cv(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,sA(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function Iv(c,h){try{var p=c.j;if(p.G!=0&&(p.g==c||Tv(p.h,c))){if(!c.K&&Tv(p.h,c)&&p.G==3){try{var _=p.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var M=_;if(M[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)Mp(p),Ap(p);else break e;Mv(p),qn(18)}}else p.za=M[1],0<p.za-p.T&&37500>M[2]&&p.F&&p.v==0&&!p.C&&(p.C=Sd(m(p.Za,p),6e3));if(1>=wA(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else pa(p,11)}else if((c.K||p.g==c)&&Mp(p),!H(h))for(M=p.Da.g.parse(h),h=0;h<M.length;h++){let Ge=M[h];if(p.T=Ge[0],Ge=Ge[1],p.G==2)if(Ge[0]=="c"){p.K=Ge[1],p.ia=Ge[2];let Rn=Ge[3];Rn!=null&&(p.la=Rn,p.j.info("VER="+p.la));let On=Ge[4];On!=null&&(p.Aa=On,p.j.info("SVER="+p.Aa));let Ql=Ge[5];Ql!=null&&typeof Ql=="number"&&0<Ql&&(_=1.5*Ql,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;let rr=c.g;if(rr){let Rp=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rp){var V=_.h;V.g||Rp.indexOf("spdy")==-1&&Rp.indexOf("quic")==-1&&Rp.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Sv(V,V.h),V.h=null))}if(_.D){let Rv=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Rv&&(_.ya=Rv,at(_.I,_.D,Rv))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var ne=c;if(_.qa=WA(_,_.J?_.ia:null,_.W),ne.K){bA(_.h,ne);var et=ne,vn=_.L;vn&&(et.I=vn),et.B&&(Cv(et),bp(et)),_.g=ne}else UA(_);0<p.i.length&&Np(p)}else Ge[0]!="stop"&&Ge[0]!="close"||pa(p,7);else p.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?pa(p,7):Nv(p):Ge[0]!="noop"&&p.l&&p.l.ta(Ge),p.v=0)}}Td(4)}catch{}}var KB=class{constructor(c,h){this.g=c,this.map=h}};function vA(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function EA(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wA(c){return c.h?1:c.g?c.g.size:0}function Tv(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function Sv(c,h){c.g?c.g.add(h):c.h=h}function bA(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}vA.prototype.cancel=function(){if(this.i=DA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function DA(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(let p of c.g.values())h=h.concat(p.D);return h}return I(c.i)}function QB(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var h=[],p=c.length,_=0;_<p;_++)h.push(c[_]);return h}h=[],p=0;for(_ in c)h[p++]=c[_];return h}function YB(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var h=[];c=c.length;for(var p=0;p<c;p++)h.push(p);return h}h=[],p=0;for(let _ in c)h[p++]=_;return h}}}function CA(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var p=YB(c),_=QB(c),M=_.length,V=0;V<M;V++)h.call(void 0,_[V],p&&p[V],c)}var IA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JB(c,h){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var _=c[p].indexOf("="),M=null;if(0<=_){var V=c[p].substring(0,_);M=c[p].substring(_+1)}else V=c[p];h(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function fa(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof fa){this.h=c.h,Dp(this,c.j),this.o=c.o,this.g=c.g,Cp(this,c.s),this.l=c.l;var h=c.i,p=new Rd;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),TA(this,p),this.m=c.m}else c&&(h=String(c).match(IA))?(this.h=!1,Dp(this,h[1]||"",!0),this.o=Md(h[2]||""),this.g=Md(h[3]||"",!0),Cp(this,h[4]),this.l=Md(h[5]||"",!0),TA(this,h[6]||"",!0),this.m=Md(h[7]||"")):(this.h=!1,this.i=new Rd(null,this.h))}fa.prototype.toString=function(){var c=[],h=this.j;h&&c.push(xd(h,SA,!0),":");var p=this.g;return(p||h=="file")&&(c.push("//"),(h=this.o)&&c.push(xd(h,SA,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(xd(p,p.charAt(0)=="/"?ej:XB,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",xd(p,nj)),c.join("")};function yo(c){return new fa(c)}function Dp(c,h,p){c.j=p?Md(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function Cp(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function TA(c,h,p){h instanceof Rd?(c.i=h,ij(c.i,c.h)):(p||(h=xd(h,tj)),c.i=new Rd(h,c.h))}function at(c,h,p){c.i.set(h,p)}function Ip(c){return at(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Md(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xd(c,h,p){return typeof c=="string"?(c=encodeURI(c).replace(h,ZB),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ZB(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var SA=/[#\/\?@]/g,XB=/[#\?:]/g,ej=/[#\?]/g,tj=/[#\?@]/g,nj=/#/g;function Rd(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function as(c){c.g||(c.g=new Map,c.h=0,c.i&&JB(c.i,function(h,p){c.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=Rd.prototype,n.add=function(c,h){as(this),this.i=null,c=Wl(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(h),this.h+=1,this};function AA(c,h){as(c),h=Wl(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function NA(c,h){return as(c),h=Wl(c,h),c.g.has(h)}n.forEach=function(c,h){as(this),this.g.forEach(function(p,_){p.forEach(function(M){c.call(h,M,_,this)},this)},this)},n.na=function(){as(this);let c=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let _=0;_<h.length;_++){let M=c[_];for(let V=0;V<M.length;V++)p.push(h[_])}return p},n.V=function(c){as(this);let h=[];if(typeof c=="string")NA(this,c)&&(h=h.concat(this.g.get(Wl(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)h=h.concat(c[p])}return h},n.set=function(c,h){return as(this),this.i=null,c=Wl(this,c),NA(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},n.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function MA(c,h,p){AA(c,h),0<p.length&&(c.i=null,c.g.set(Wl(c,h),I(p)),c.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var _=h[p];let V=encodeURIComponent(String(_)),ne=this.V(_);for(_=0;_<ne.length;_++){var M=V;ne[_]!==""&&(M+="="+encodeURIComponent(String(ne[_]))),c.push(M)}}return this.i=c.join("&")};function Wl(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function ij(c,h){h&&!c.j&&(as(c),c.i=null,c.g.forEach(function(p,_){var M=_.toLowerCase();_!=M&&(AA(this,_),MA(this,M,p))},c)),c.j=h}function rj(c,h){let p=new Ad;if(a.Image){let _=new Image;_.onload=g(ls,p,"TestLoadImage: loaded",!0,h,_),_.onerror=g(ls,p,"TestLoadImage: error",!1,h,_),_.onabort=g(ls,p,"TestLoadImage: abort",!1,h,_),_.ontimeout=g(ls,p,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=c}else h(!1)}function oj(c,h){let p=new Ad,_=new AbortController,M=setTimeout(()=>{_.abort(),ls(p,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:_.signal}).then(V=>{clearTimeout(M),V.ok?ls(p,"TestPingServer: ok",!0,h):ls(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),ls(p,"TestPingServer: error",!1,h)})}function ls(c,h,p,_,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),_(p)}catch{}}function sj(){this.g=new UB}function aj(c,h,p){let _=p||"";try{CA(c,function(M,V){let ne=M;u(M)&&(ne=_v(M)),h.push(_+V+"="+encodeURIComponent(ne))})}catch(M){throw h.push(_+"type="+encodeURIComponent("_badmap")),M}}function Od(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Od,yv),Od.prototype.g=function(){return new Tp(this.l,this.j)},Od.prototype.i=function(c){return function(){return c}}({});function Tp(c,h){Jt.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Tp,Jt),n=Tp.prototype,n.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,kd(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pd(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,kd(this)),this.g&&(this.readyState=3,kd(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xA(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xA(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?Pd(this):kd(this),this.readyState==3&&xA(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Pd(this))},n.Qa=function(c){this.g&&(this.response=c,Pd(this))},n.ga=function(){this.g&&Pd(this)};function Pd(c){c.readyState=4,c.l=null,c.j=null,c.v=null,kd(c)}n.setRequestHeader=function(c,h){this.u.append(c,h)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=h.next();return c.join(`\r
`)};function kd(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function RA(c){let h="";return X(c,function(p,_){h+=_,h+=":",h+=p,h+=`\r
`}),h}function Av(c,h,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=RA(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):at(c,h,p))}function wt(c){Jt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(wt,Jt);var lj=/^https?$/i,cj=["POST","PUT"];n=wt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,h,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wv.g(),this.v=this.o?aA(this.o):aA(wv),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(V){OA(this,V);return}if(c=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var M in _)p.set(M,_[M]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let V of _.keys())p.set(V,_.get(V));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(cj,h,void 0))||_||M||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[V,ne]of p)this.g.setRequestHeader(V,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FA(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){OA(this,V)}};function OA(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,PA(c),Sp(c)}function PA(c){c.A||(c.A=!0,ln(c,"complete"),ln(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ln(this,"complete"),ln(this,"abort"),Sp(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sp(this,!0)),wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?kA(this):this.bb())},n.bb=function(){kA(this)};function kA(c){if(c.h&&typeof s<"u"&&(!c.v[1]||vo(c)!=4||c.Z()!=2)){if(c.u&&vo(c)==4)iA(c.Ea,0,c);else if(ln(c,"readystatechange"),vo(c)==4){c.h=!1;try{let ne=c.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var _;if(_=ne===0){var M=String(c.D).match(IA)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),_=!lj.test(M?M.toLowerCase():"")}p=_}if(p)ln(c,"complete"),ln(c,"success");else{c.m=6;try{var V=2<vo(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",PA(c)}}finally{Sp(c)}}}}function Sp(c,h){if(c.g){FA(c);let p=c.g,_=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||ln(c,"ready");try{p.onreadystatechange=_}catch{}}}function FA(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function vo(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<vo(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),$B(h)}};function VA(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uj(c){let h={};c=(c.g&&2<=vo(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<c.length;_++){if(H(c[_]))continue;var p=N(c[_]);let M=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let V=h[M]||[];h[M]=V,V.push(p)}C(h,function(_){return _.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fd(c,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||h}function LA(c){this.Aa=0,this.i=[],this.j=new Ad,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fd("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fd("baseRetryDelayMs",5e3,c),this.cb=Fd("retryDelaySeedMs",1e4,c),this.Wa=Fd("forwardChannelMaxRetries",2,c),this.wa=Fd("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vA(c&&c.concurrentRequestLimit),this.Da=new sj,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=LA.prototype,n.la=8,n.G=1,n.connect=function(c,h,p,_){qn(0),this.W=c,this.H=h||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=WA(this,null,this.W),Np(this)};function Nv(c){if(BA(c),c.G==3){var h=c.U++,p=yo(c.I);if(at(p,"SID",c.K),at(p,"RID",h),at(p,"TYPE","terminate"),Vd(c,p),h=new ss(c,c.j,h),h.L=2,h.v=Ip(yo(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=KA(h.j,null),h.g.ea(h.v)),h.F=Date.now(),bp(h)}zA(c)}function Ap(c){c.g&&(xv(c),c.g.cancel(),c.g=null)}function BA(c){Ap(c),c.u&&(a.clearTimeout(c.u),c.u=null),Mp(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Np(c){if(!EA(c.h)&&!c.s){c.s=!0;var h=c.Ga;yn||la(),Mr||(yn(),Mr=!0),ir.add(h,c),c.B=0}}function dj(c,h){return wA(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Sd(m(c.Ga,c,h),qA(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let M=new ss(this,this.j,c),V=this.o;if(this.S&&(V?(V=E(V),S(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=$A(this,M,h),p=yo(this.I),at(p,"RID",c),at(p,"CVER",22),this.D&&at(p,"X-HTTP-Session-Id",this.D),Vd(this,p),V&&(this.O?h="headers="+encodeURIComponent(String(RA(V)))+"&"+h:this.m&&Av(p,this.m,V)),Sv(this.h,M),this.Ua&&at(p,"TYPE","init"),this.P?(at(p,"$req",h),at(p,"SID","null"),M.T=!0,Dv(M,p,null)):Dv(M,p,h),this.G=2}}else this.G==3&&(c?jA(this,c):this.i.length==0||EA(this.h)||jA(this))};function jA(c,h){var p;h?p=h.l:p=c.U++;let _=yo(c.I);at(_,"SID",c.K),at(_,"RID",p),at(_,"AID",c.T),Vd(c,_),c.m&&c.o&&Av(_,c.m,c.o),p=new ss(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),h&&(c.i=h.D.concat(c.i)),h=$A(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sv(c.h,p),Dv(p,_,h)}function Vd(c,h){c.H&&X(c.H,function(p,_){at(h,_,p)}),c.l&&CA({},function(p,_){at(h,_,p)})}function $A(c,h,p){p=Math.min(c.i.length,p);var _=c.l?m(c.l.Na,c.l,c):null;e:{var M=c.i;let V=-1;for(;;){let ne=["count="+p];V==-1?0<p?(V=M[0].g,ne.push("ofs="+V)):V=0:ne.push("ofs="+V);let et=!0;for(let vn=0;vn<p;vn++){let Ge=M[vn].g,Rn=M[vn].map;if(Ge-=V,0>Ge)V=Math.max(0,M[vn].g-100),et=!1;else try{aj(Rn,ne,"req"+Ge+"_")}catch{_&&_(Rn)}}if(et){_=ne.join("&");break e}}}return c=c.i.splice(0,p),h.D=c,_}function UA(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;yn||la(),Mr||(yn(),Mr=!0),ir.add(h,c),c.v=0}}function Mv(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Sd(m(c.Fa,c),qA(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,HA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Sd(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qn(10),Ap(this),HA(this))};function xv(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function HA(c){c.g=new ss(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=yo(c.qa);at(h,"RID","rpc"),at(h,"SID",c.K),at(h,"AID",c.T),at(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&at(h,"TO",c.ja),at(h,"TYPE","xmlhttp"),Vd(c,h),c.m&&c.o&&Av(h,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=Ip(yo(h)),p.m=null,p.P=!0,gA(p,c)}n.Za=function(){this.C!=null&&(this.C=null,Ap(this),Mv(this),qn(19))};function Mp(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function GA(c,h){var p=null;if(c.g==h){Mp(c),xv(c),c.g=null;var _=2}else if(Tv(c.h,h))p=h.D,bA(c.h,h),_=1;else return;if(c.G!=0){if(h.o)if(_==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var M=c.B;_=vp(),ln(_,new hA(_,p)),Np(c)}else UA(c);else if(M=h.s,M==3||M==0&&0<h.X||!(_==1&&dj(c,h)||_==2&&Mv(c)))switch(p&&0<p.length&&(h=c.h,h.i=h.i.concat(p)),M){case 1:pa(c,5);break;case 4:pa(c,10);break;case 3:pa(c,6);break;default:pa(c,2)}}}function qA(c,h){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*h}function pa(c,h){if(c.j.info("Error code "+h),h==2){var p=m(c.fb,c),_=c.Xa;let M=!_;_=new fa(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Dp(_,"https"),Ip(_),M?rj(_.toString(),p):oj(_.toString(),p)}else qn(2);c.G=0,c.l&&c.l.sa(h),zA(c),BA(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),qn(2)):(this.j.info("Failed to ping google.com"),qn(1))};function zA(c){if(c.G=0,c.ka=[],c.l){let h=DA(c.h);(h.length!=0||c.i.length!=0)&&(T(c.ka,h),T(c.ka,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.ra()}}function WA(c,h,p){var _=p instanceof fa?yo(p):new fa(p);if(_.g!="")h&&(_.g=h+"."+_.g),Cp(_,_.s);else{var M=a.location;_=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var V=new fa(null);_&&Dp(V,_),h&&(V.g=h),M&&Cp(V,M),p&&(V.l=p),_=V}return p=c.D,h=c.ya,p&&h&&at(_,p,h),at(_,"VER",c.la),Vd(c,_),_}function KA(c,h,p){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new wt(new Od({eb:p})):new wt(c.pa),h.Ha(c.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function QA(){}n=QA.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xp(){}xp.prototype.g=function(c,h){return new Ei(c,h)};function Ei(c,h){Jt.call(this),this.g=new LA(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!H(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!H(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new Kl(this)}D(Ei,Jt),Ei.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ei.prototype.close=function(){Nv(this.g)},Ei.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=_v(c),c=p);h.i.push(new KB(h.Ya++,c)),h.G==3&&Np(h)},Ei.prototype.N=function(){this.g.l=null,delete this.j,Nv(this.g),delete this.g,Ei.aa.N.call(this)};function YA(c){vv.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(let p in h){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}D(YA,vv);function JA(){Ev.call(this),this.status=1}D(JA,Ev);function Kl(c){this.g=c}D(Kl,QA),Kl.prototype.ua=function(){ln(this.g,"a")},Kl.prototype.ta=function(c){ln(this.g,new YA(c))},Kl.prototype.sa=function(c){ln(this.g,new JA)},Kl.prototype.ra=function(){ln(this.g,"b")},xp.prototype.createWebChannel=xp.prototype.g,Ei.prototype.send=Ei.prototype.o,Ei.prototype.open=Ei.prototype.m,Ei.prototype.close=Ei.prototype.close,AD=Go.createWebChannelTransport=function(){return new xp},SD=Go.getStatEventTarget=function(){return vp()},TD=Go.Event=da,a0=Go.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ep.NO_ERROR=0,Ep.TIMEOUT=8,Ep.HTTP_ERROR=6,cf=Go.ErrorCode=Ep,fA.COMPLETE="complete",ID=Go.EventType=fA,lA.EventType=Id,Id.OPEN="a",Id.CLOSE="b",Id.ERROR="c",Id.MESSAGE="d",Jt.prototype.listen=Jt.prototype.K,cu=Go.WebChannel=lA,SK=Go.FetchXmlHttpFactory=Od,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,CD=Go.XhrIo=wt}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var LF="@firebase/firestore";var Qt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");var ju="10.14.0";var $s=new Lp("@firebase/firestore");function pu(){return $s.logLevel}function OI(n){$s.setLogLevel(n)}function W(n,...e){if($s.logLevel<=Or.DEBUG){let t=e.map(PI);$s.debug(`Firestore (${ju}): ${n}`,...t)}}function Ft(n,...e){if($s.logLevel<=Or.ERROR){let t=e.map(PI);$s.error(`Firestore (${ju}): ${n}`,...t)}}function br(n,...e){if($s.logLevel<=Or.WARN){let t=e.map(PI);$s.warn(`Firestore (${ju}): ${n}`,...t)}}function PI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ae(n="Unexpected state"){let e=`FIRESTORE (${ju}) INTERNAL ASSERTION FAILED: `+n;throw Ft(e),new Error(e)}function de(n,e){n||ae()}function $2(n,e){n||ae()}function re(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends Vp{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var sn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var _0=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},PD=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qt.UNAUTHENTICATED))}shutdown(){}},kD=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},FD=class{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){de(this.o===void 0);let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),o=new sn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new sn,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>P(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new sn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(de(typeof i.accessToken=="string"),new _0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new Qt(e)}},VD=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},LD=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new VD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},BD=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jD=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){de(this.o===void 0);let i=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(de(typeof t.token=="string"),this.R=t.token,new BD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function AK(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var y0=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=AK(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}};function De(n,e){return n<e?-1:n>e?1:0}function Du(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function U2(n){return n+"\0"}var vt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new vt(0,0))}static max(){return new n(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var v0=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ae(),i===void 0?i=e.length-t:i>e.length-t&&ae(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},$e=class n extends v0{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new q(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},NK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vt=class n extends v0{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return NK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new q(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new q(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new q(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var oe=class n{constructor(e){this.path=e}static fromPath(e){return new n($e.fromString(e))}static fromName(e){return new n($e.fromString(e).popFirst(5))}static empty(){return new n($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new $e(e.slice()))}};var Cu=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};function $D(n){return n.fields.find(e=>e.kind===2)}function cl(n){return n.fields.filter(e=>e.kind!==2)}Cu.UNKNOWN_ID=-1;var Eu=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var wf=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,Zi.min())}};function H2(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=fe.fromTimestamp(i===1e9?new vt(t+1,0):new vt(t,i));return new Zi(r,oe.empty(),e)}function G2(n){return new Zi(n.readTime,n.key,-1)}var Zi=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(fe.min(),oe.empty(),-1)}static max(){return new n(fe.max(),oe.empty(),-1)}};function kI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=oe.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}var q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",E0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Js(n){return P(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==q2)throw n;W("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(d=>{s[u]=d,++a,a===o&&i(s)},d=>r(d))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};var w0=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new sn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ml(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=FI(i.target.error);this.V.reject(new ml(e,r))}}static open(e,t,i,r){try{return new n(t,e.transaction(r,i))}catch(o){throw new ml(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(W("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new HD(t)}},Us=class n{constructor(e,t,i){this.name=e,this.version=t,this.p=i,n.S(Ld())===12.2&&Ft("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return W("SimpleDb","Removing database:",e),ul(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Fp())return!1;if(n.v())return!0;let e=Ld(),t=n.S(e),i=0<t&&t<10,r=z2(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){return P(this,null,function*(){return this.db||(W("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;t(s)},r.onblocked=()=>{i(new ml(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?i(new q(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?i(new q(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new ml(e,s))},r.onupgradeneeded=o=>{W("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,r.transaction,o.oldVersion,this.version).next(()=>{W("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){return P(this,null,function*(){let o=t==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=w0.open(this.db,e,o?"readonly":"readwrite",i),l=r(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),k.reject(u))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,u=l.name!=="FirebaseError"&&s<3;if(W("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function z2(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var UD=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ul(this.B.delete())}},ml=class extends q{constructor(e,t){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function Zs(n){return n.name==="IndexedDbTransactionError"}var HD=class{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(W("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ul(i)}add(e){return W("SimpleDb","ADD",this.store.name,e,e),ul(this.store.add(e))}get(e){return ul(this.store.get(e)).next(t=>(t===void 0&&(t=null),W("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return W("SimpleDb","DELETE",this.store.name,e),ul(this.store.delete(e))}count(){return W("SimpleDb","COUNT",this.store.name),ul(this.store.count())}U(e,t){let i=this.options(e,t),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new k((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{let o=this.cursor(i),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,t){let i=this.store.getAll(e,t===null?void 0:t);return new k((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}j(e,t){W("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,t);i.H=!1;let r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}J(e,t){let i;t?i=e:(i={},t=e);let r=this.cursor(i);return this.W(r,t)}Y(e){let t=this.cursor({});return new k((i,r)=>{t.onerror=o=>{let s=FI(o.target.error);r(s)},t.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(e,t){let i=[];return new k((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let l=new UD(a),u=t(a.primaryKey,a.value,l);if(u instanceof k){let d=u.catch(f=>(l.done(),k.reject(f)));i.push(d)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>k.waitFor(i))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function ul(n){return new k((e,t)=>{n.onsuccess=i=>{let r=i.target.result;e(r)},n.onerror=i=>{let r=FI(i.target.error);t(r)}})}var BF=!1;function FI(n){let e=Us.S(Ld());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let i=new q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return BF||(BF=!0,setTimeout(()=>{throw i},0)),i}}return n}var GD=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){W("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>P(this,null,function*(){this.task=null;try{W("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){Zs(t)?W("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield Js(t)}yield this.X(6e4)}))}},qD=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return P(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let i=new Set,r=t,o=!0;return k.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!i.has(s))return W("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(r,o)).next(a=>(W("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}re(e,t){let i=e;return t.changes.forEach((r,o)=>{let s=G2(o);kI(s,i)>0&&(i=s)}),new Zi(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}};var Ri=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Uf(n){return n==null}function bf(n){return n===0&&1/n==-1/0}function W2(n){return typeof n=="number"&&Number.isInteger(n)&&!bf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ei(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jF(e)),e=MK(n.get(t),e);return jF(e)}function MK(n,e){let t=e,i=n.length;for(let r=0;r<i;r++){let o=n.charAt(r);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function jF(n){return n+""}function oo(n){let e=n.length;if(de(e>=2),e===2)return de(n.charAt(0)===""&&n.charAt(1)===""),$e.emptyPath();let t=e-2,i=[],r="";for(let o=0;o<e;){let s=n.indexOf("",o);switch((s<0||s>t)&&ae(),n.charAt(s+1)){case"":let a=n.substring(o,s),l;r.length===0?l=a:(r+=a,l=r,r=""),i.push(l);break;case"":r+=n.substring(o,s),r+="\0";break;case"":r+=n.substring(o,s+1);break;default:ae()}o=s+2}return new $e(i)}var $F=["userId","batchId"];function h0(n,e){return[n,ei(e)]}function K2(n,e,t){return[n,ei(e),t]}var xK={},RK=["prefixPath","collectionGroup","readTime","documentId"],OK=["prefixPath","collectionGroup","documentId"],PK=["collectionGroup","readTime","prefixPath","documentId"],kK=["canonicalId","targetId"],FK=["targetId","path"],VK=["path","targetId"],LK=["collectionId","parent"],BK=["indexId","uid"],jK=["uid","sequenceNumber"],$K=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],UK=["indexId","uid","orderedDocumentKey"],HK=["userId","collectionPath","documentId"],GK=["userId","collectionPath","largestBatchId"],qK=["userId","collectionGroup","largestBatchId"],Q2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zK=[...Q2,"documentOverlays"],Y2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],J2=Y2,VI=[...J2,"indexConfiguration","indexState","indexEntries"],WK=VI,KK=[...VI,"globals"];var Df=class extends E0{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function an(n,e){let t=re(n);return Us.F(t._e,e)}function UF(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sl(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Z2(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ht=class n{constructor(e,t){this.comparator=e,this.root=t||ao.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ao.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ao.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vu(this.root,e,this.comparator,!1)}getReverseIterator(){return new vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vu(this.root,e,this.comparator,!0)}},vu=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ao=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();let e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};ao.EMPTY=null,ao.RED=!0,ao.BLACK=!1;ao.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,t,i,r,o){return this}insert(e,t,i){return new ao(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rt=class n{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new b0(this.data.getIterator())}getIteratorFrom(e){return new b0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},b0=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function uu(n){return n.hasNext()?n.getNext():void 0}var Oi=class n{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new n([])}unionWith(e){let t=new rt(Vt.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Du(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var D0=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function X2(){return typeof atob<"u"}var Bt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new D0("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Bt.EMPTY_BYTE_STRING=new Bt("");var QK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wo(n){if(de(!!n),typeof n=="string"){let e=0,t=QK.exec(n);if(de(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hs(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}function py(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function LI(n){let e=n.mapValue.fields.__previous_value__;return py(e)?LI(e):e}function Cf(n){let e=Wo(n.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}var zD=class{constructor(e,t,i,r,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},Gs=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Bs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},f0={nullValue:"NULL_VALUE"};function gl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?py(n)?4:eV(n)?9007199254740991:my(n)?10:11:ae()}function uo(n,e){if(n===e)return!0;let t=gl(n);if(t!==gl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cf(n).isEqual(Cf(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Wo(r.timestampValue),a=Wo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Hs(r.bytesValue).isEqual(Hs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return gt(r.geoPointValue.latitude)===gt(o.geoPointValue.latitude)&&gt(r.geoPointValue.longitude)===gt(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return gt(r.integerValue)===gt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=gt(r.doubleValue),a=gt(o.doubleValue);return s===a?bf(s)===bf(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Du(n.arrayValue.values||[],e.arrayValue.values||[],uo);case 10:case 11:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(UF(s)!==UF(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!uo(s[l],a[l])))return!1;return!0}(n,e);default:return ae()}}function If(n,e){return(n.values||[]).find(t=>uo(t,e))!==void 0}function qs(n,e){if(n===e)return 0;let t=gl(n),i=gl(e);if(t!==i)return De(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=gt(o.integerValue||o.doubleValue),l=gt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return HF(n.timestampValue,e.timestampValue);case 4:return HF(Cf(n),Cf(e));case 5:return De(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Hs(o),l=Hs(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let d=De(a[u],l[u]);if(d!==0)return d}return De(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=De(gt(o.latitude),gt(s.latitude));return a!==0?a:De(gt(o.longitude),gt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return GF(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,d;let f=o.fields||{},m=s.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,D=(l=m.value)===null||l===void 0?void 0:l.arrayValue,I=De(((u=g?.values)===null||u===void 0?void 0:u.length)||0,((d=D?.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:GF(g,D)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Bs.mapValue&&s===Bs.mapValue)return 0;if(o===Bs.mapValue)return 1;if(s===Bs.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){let m=De(l[f],d[f]);if(m!==0)return m;let g=qs(a[l[f]],u[d[f]]);if(g!==0)return g}return De(l.length,d.length)}(n.mapValue,e.mapValue);default:throw ae()}}function HF(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);let t=Wo(n),i=Wo(e),r=De(t.seconds,i.seconds);return r!==0?r:De(t.nanos,i.nanos)}function GF(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let o=qs(t[r],i[r]);if(o)return o}return De(t.length,i.length)}function Iu(n){return WD(n)}function WD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Wo(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Hs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return oe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=WD(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${WD(t.fields[s])}`;return r+"}"}(n.mapValue):ae()}function _l(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function KD(n){return!!n&&"integerValue"in n}function Tf(n){return!!n&&"arrayValue"in n}function qF(n){return!!n&&"nullValue"in n}function zF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function p0(n){return!!n&&"mapValue"in n}function my(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function gf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Sl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=gf(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var tV={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function YK(n){return"nullValue"in n?f0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?_l(Gs.empty(),oe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?my(n)?tV:{mapValue:{}}:ae()}function JK(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?_l(Gs.empty(),oe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?tV:"mapValue"in n?my(n)?{mapValue:{}}:Bs:ae()}function WF(n,e){let t=qs(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function KF(n,e){let t=qs(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var Un=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!p0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gf(t)}setAll(e){let t=Vt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=gf(s):r.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());p0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return uo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];p0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Sl(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(gf(this.value))}};function nV(n){let e=[];return Sl(n.fields,(t,i)=>{let r=new Vt([t]);if(p0(i)){let o=nV(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new Oi(e)}var Yt=class n{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,fe.min(),fe.min(),fe.min(),Un.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,fe.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,fe.min(),fe.min(),Un.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,fe.min(),fe.min(),Un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ho=class{constructor(e,t){this.position=e,this.inclusive=t}};function QF(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=oe.comparator(oe.fromName(s.referenceValue),t.key):i=qs(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function YF(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!uo(n.position[t],e.position[t]))return!1;return!0}var yl=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function ZK(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var C0=class{},Le=class n extends C0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new JD(e,t,i):t==="array-contains"?new eC(e,i):t==="in"?new I0(e,i):t==="not-in"?new tC(e,i):t==="array-contains-any"?new nC(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ZD(e,i):new XD(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(qs(t,this.value)):t!==null&&gl(this.value)===gl(t)&&this.matchesComparison(qs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ze=class n extends C0{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Tu(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Tu(n){return n.op==="and"}function QD(n){return n.op==="or"}function BI(n){return iV(n)&&Tu(n)}function iV(n){for(let e of n.filters)if(e instanceof Ze)return!1;return!0}function YD(n){if(n instanceof Le)return n.field.canonicalString()+n.op.toString()+Iu(n.value);if(BI(n))return n.filters.map(e=>YD(e)).join(",");{let e=n.filters.map(t=>YD(t)).join(",");return`${n.op}(${e})`}}function rV(n,e){return n instanceof Le?function(i,r){return r instanceof Le&&i.op===r.op&&i.field.isEqual(r.field)&&uo(i.value,r.value)}(n,e):n instanceof Ze?function(i,r){return r instanceof Ze&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&rV(s,r.filters[a]),!0):!1}(n,e):void ae()}function oV(n,e){let t=n.filters.concat(e);return Ze.create(t,n.op)}function sV(n){return n instanceof Le?function(t){return`${t.field.canonicalString()} ${t.op} ${Iu(t.value)}`}(n):n instanceof Ze?function(t){return t.op.toString()+" {"+t.getFilters().map(sV).join(" ,")+"}"}(n):"Filter"}var JD=class extends Le{constructor(e,t,i){super(e,t,i),this.key=oe.fromName(i.referenceValue)}matches(e){let t=oe.comparator(e.key,this.key);return this.matchesComparison(t)}},ZD=class extends Le{constructor(e,t){super(e,"in",t),this.keys=aV("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},XD=class extends Le{constructor(e,t){super(e,"not-in",t),this.keys=aV("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function aV(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>oe.fromName(i.referenceValue))}var eC=class extends Le{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Tf(t)&&If(t.arrayValue,this.value)}},I0=class extends Le{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&If(this.value.arrayValue,t)}},tC=class extends Le{constructor(e,t){super(e,"not-in",t)}matches(e){if(If(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!If(this.value.arrayValue,t)}},nC=class extends Le{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Tf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>If(this.value.arrayValue,i))}};var iC=class{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function rC(n,e=null,t=[],i=[],r=null,o=null,s=null){return new iC(n,e,t,i,r,o,s)}function vl(n){let e=re(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>YD(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Uf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Iu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Iu(i)).join(",")),e.ue=t}return e.ue}function Hf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ZK(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YF(n.startAt,e.startAt)&&YF(n.endAt,e.endAt)}function T0(n){return oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function S0(n,e){return n.filters.filter(t=>t instanceof Le&&t.field.isEqual(e))}function JF(n,e,t){let i=f0,r=!0;for(let o of S0(n,e)){let s=f0,a=!0;switch(o.op){case"<":case"<=":s=YK(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=f0}WF({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];WF({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}}return{value:i,inclusive:r}}function ZF(n,e,t){let i=Bs,r=!0;for(let o of S0(n,e)){let s=Bs,a=!0;switch(o.op){case">=":case">":s=JK(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Bs}KF({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];KF({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}}return{value:i,inclusive:r}}var Dr=class{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function lV(n,e,t,i,r,o,s,a){return new Dr(n,e,t,i,r,o,s,a)}function $u(n){return new Dr(n)}function XF(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jI(n){return n.collectionGroup!==null}function wu(n){let e=re(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new rt(Vt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new yl(o,i))}),t.has(Vt.keyField().canonicalString())||e.ce.push(new yl(Vt.keyField(),i))}return e.ce}function ti(n){let e=re(n);return e.le||(e.le=XK(e,wu(n))),e.le}function XK(n,e){if(n.limitType==="F")return rC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new yl(r.field,o)});let t=n.endAt?new ho(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ho(n.startAt.position,n.startAt.inclusive):null;return rC(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function oC(n,e){let t=n.filters.concat([e]);return new Dr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function A0(n,e,t){return new Dr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gf(n,e){return Hf(ti(n),ti(e))&&n.limitType===e.limitType}function cV(n){return`${vl(ti(n))}|lt:${n.limitType}`}function mu(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>sV(r)).join(", ")}]`),Uf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Iu(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Iu(r)).join(",")),`Target(${i})`}(ti(n))}; limitType=${n.limitType})`}function qf(n,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):oe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(let o of wu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,a,l){let u=QF(s,a,l);return s.inclusive?u<=0:u<0}(i.startAt,wu(i),r)||i.endAt&&!function(s,a,l){let u=QF(s,a,l);return s.inclusive?u>=0:u>0}(i.endAt,wu(i),r))}(n,e)}function uV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dV(n){return(e,t)=>{let i=!1;for(let r of wu(n)){let o=eQ(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function eQ(n,e,t){let i=n.field.isKeyField()?oe.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?qs(l,u):ae()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ae()}}var fo=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Sl(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return Z2(this.inner)}size(){return this.innerSize}};var tQ=new ht(oe.comparator);function _i(){return tQ}var hV=new ht(oe.comparator);function pf(...n){let e=hV;for(let t of n)e=e.insert(t.key,t);return e}function fV(n){let e=hV;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function so(){return _f()}function pV(){return _f()}function _f(){return new fo(n=>n.toString(),(n,e)=>n.isEqual(e))}var nQ=new ht(oe.comparator),iQ=new rt(oe.comparator);function Ne(...n){let e=iQ;for(let t of n)e=e.add(t);return e}var rQ=new rt(De);function $I(){return rQ}function UI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(e)?"-0":e}}function mV(n){return{integerValue:""+n}}function gV(n,e){return W2(e)?mV(e):UI(n,e)}var Su=class{constructor(){this._=void 0}};function oQ(n,e,t){return n instanceof zs?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&py(o)&&(o=LI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Ko?yV(n,e):n instanceof Qo?vV(n,e):function(r,o){let s=_V(r,o),a=e2(s)+e2(r.Pe);return KD(s)&&KD(r.Pe)?mV(a):UI(r.serializer,a)}(n,e)}function sQ(n,e,t){return n instanceof Ko?yV(n,e):n instanceof Qo?vV(n,e):t}function _V(n,e){return n instanceof Ws?function(i){return KD(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var zs=class extends Su{},Ko=class extends Su{constructor(e){super(),this.elements=e}};function yV(n,e){let t=EV(e);for(let i of n.elements)t.some(r=>uo(r,i))||t.push(i);return{arrayValue:{values:t}}}var Qo=class extends Su{constructor(e){super(),this.elements=e}};function vV(n,e){let t=EV(e);for(let i of n.elements)t=t.filter(r=>!uo(r,i));return{arrayValue:{values:t}}}var Ws=class extends Su{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function e2(n){return gt(n.integerValue||n.doubleValue)}function EV(n){return Tf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var El=class{constructor(e,t){this.field=e,this.transform=t}};function aQ(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Ko&&r instanceof Ko||i instanceof Qo&&r instanceof Qo?Du(i.elements,r.elements,uo):i instanceof Ws&&r instanceof Ws?uo(i.Pe,r.Pe):i instanceof zs&&r instanceof zs}(n.transform,e.transform)}var sC=class{constructor(e,t){this.version=e,this.transformResults=t}},St=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function m0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Au=class{};function wV(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qs(n.key,St.none()):new Ks(n.key,n.data,St.none());{let t=n.data,i=Un.empty(),r=new rt(Vt.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Cr(n.key,i,new Oi(r.toArray()),St.none())}}function lQ(n,e,t){n instanceof Ks?function(r,o,s){let a=r.value.clone(),l=n2(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Cr?function(r,o,s){if(!m0(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=n2(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(bV(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function yf(n,e,t,i){return n instanceof Ks?function(o,s,a,l){if(!m0(o.precondition,s))return a;let u=o.value.clone(),d=i2(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof Cr?function(o,s,a,l){if(!m0(o.precondition,s))return a;let u=i2(o.fieldTransforms,l,s),d=s.data;return d.setAll(bV(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,i):function(o,s,a){return m0(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function cQ(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=_V(i.transform,r||null);o!=null&&(t===null&&(t=Un.empty()),t.set(i.field,o))}return t||null}function t2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Du(i,r,(o,s)=>aQ(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ks=class extends Au{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Cr=class extends Au{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function bV(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function n2(n,e,t){let i=new Map;de(n.length===t.length);for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,sQ(s,a,t[r]))}return i}function i2(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,oQ(o,s,e))}return i}var Qs=class extends Au{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Sf=class extends Au{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Af=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&lQ(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=yf(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=yf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=pV();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;let l=wV(s,a);l!==null&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(fe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Du(this.mutations,e.mutations,(t,i)=>t2(t,i))&&Du(this.baseMutations,e.baseMutations,(t,i)=>t2(t,i))}},aC=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){de(e.mutations.length===i.length);let r=function(){return nQ}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var Nf=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var lC=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Wt,je;function DV(n){switch(n){default:return ae();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function CV(n){if(n===void 0)return Ft("GRPC error has no .code"),L.UNKNOWN;switch(n){case Wt.OK:return L.OK;case Wt.CANCELLED:return L.CANCELLED;case Wt.UNKNOWN:return L.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return L.INTERNAL;case Wt.UNAVAILABLE:return L.UNAVAILABLE;case Wt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Wt.NOT_FOUND:return L.NOT_FOUND;case Wt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Wt.ABORTED:return L.ABORTED;case Wt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Wt.DATA_LOSS:return L.DATA_LOSS;default:return ae()}}(je=Wt||(Wt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";var r2=null;function IV(){return new TextEncoder}var uQ=new Ps([4294967295,4294967295],0);function o2(n){let e=IV().encode(n),t=new DD;return t.update(e),new Uint8Array(t.digest())}function s2(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ps([t,i],0),new Ps([r,o],0)]}var cC=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new pl(`Invalid padding: ${t}`);if(i<0)throw new pl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new pl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ps.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Ps.fromNumber(i)));return r.compare(uQ)===1&&(r=new Ps([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=o2(e),[i,r]=s2(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=o2(e),[i,r]=s2(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},pl=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Mf=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,xf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(fe.min(),r,new ht(De),_i(),Ne())}},xf=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Ne(),Ne(),Ne())}};var bu=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},N0=class{constructor(e,t){this.targetId=e,this.me=t}},M0=class{constructor(e,t,i=Bt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},x0=class{constructor(){this.fe=0,this.ge=l2(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),t=Ne(),i=Ne();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ae()}}),new xf(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=l2()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,de(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},uC=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=_i(),this.qe=a2(),this.Qe=new ht(De)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let o=r.target;if(T0(o))if(i===0){let s=new oe(o.path);this.Ue(t,s,Yt.newNoDocument(s,fe.min()))}else de(i===1);else{let s=this.Ye(t);if(s!==i){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}r2?.et(function(d,f,m,g,D){var I,T,F,H,B,G;let Z={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},X=f.unchangedNames;return X&&(Z.bloomFilter={applied:D===0,hashCount:(I=X?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(H=(F=(T=X?.bits)===null||T===void 0?void 0:T.bitmap)===null||F===void 0?void 0:F.length)!==null&&H!==void 0?H:0,padding:(G=(B=X?.bits)===null||B===void 0?void 0:B.padding)!==null&&G!==void 0?G:0,mightContain:C=>{var E;return(E=g?.mightContain(C))!==null&&E!==void 0&&E}}),Z}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,a;try{s=Hs(i).toUint8Array()}catch(l){if(l instanceof D0)return br("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new cC(s,r,o)}catch(l){return br(l instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&T0(a.target)){let l=new oe(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Yt.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let i=Ne();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new Mf(e,t,this.Qe,this.ke,i);return this.ke=_i(),this.qe=a2(),this.Qe=new ht(De),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new x0,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new rt(De),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new x0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function a2(){return new ht(oe.comparator)}function l2(){return new ht(oe.comparator)}var dQ={asc:"ASCENDING",desc:"DESCENDING"},hQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fQ={and:"AND",or:"OR"},dC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function hC(n,e){return n.useProto3Json||Uf(e)?e:{value:e}}function Nu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pQ(n,e){return Nu(n,e.toTimestamp())}function Lt(n){return de(!!n),fe.fromTimestamp(function(t){let i=Wo(t);return new vt(i.seconds,i.nanos)}(n))}function HI(n,e){return fC(n,e).canonicalString()}function fC(n,e){let t=function(r){return new $e(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function SV(n){let e=$e.fromString(n);return de(VV(e)),e}function Rf(n,e){return HI(n.databaseId,e.path)}function lo(n,e){let t=SV(e);if(t.get(1)!==n.databaseId.projectId)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new oe(MV(t))}function AV(n,e){return HI(n.databaseId,e)}function NV(n){let e=SV(n);return e.length===4?$e.emptyPath():MV(e)}function pC(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MV(n){return de(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function c2(n,e,t){return{name:Rf(n,e),fields:t.value.mapValue.fields}}function xV(n,e,t){let i=lo(n,e.name),r=Lt(e.updateTime),o=e.createTime?Lt(e.createTime):fe.min(),s=new Un({mapValue:{fields:e.fields}}),a=Yt.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function mQ(n,e){return"found"in e?function(i,r){de(!!r.found),r.found.name,r.found.updateTime;let o=lo(i,r.found.name),s=Lt(r.found.updateTime),a=r.found.createTime?Lt(r.found.createTime):fe.min(),l=new Un({mapValue:{fields:r.found.fields}});return Yt.newFoundDocument(o,s,a,l)}(n,e):"missing"in e?function(i,r){de(!!r.missing),de(!!r.readTime);let o=lo(i,r.missing),s=Lt(r.readTime);return Yt.newNoDocument(o,s)}(n,e):ae()}function gQ(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(de(d===void 0||typeof d=="string"),Bt.fromBase64String(d||"")):(de(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Bt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?L.UNKNOWN:CV(u.code);return new q(d,u.message||"")}(s);t=new M0(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=lo(n,i.document.name),o=Lt(i.document.updateTime),s=i.document.createTime?Lt(i.document.createTime):fe.min(),a=new Un({mapValue:{fields:i.document.fields}}),l=Yt.newFoundDocument(r,o,s,a),u=i.targetIds||[],d=i.removedTargetIds||[];t=new bu(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=lo(n,i.document),o=i.readTime?Lt(i.readTime):fe.min(),s=Yt.newNoDocument(r,o),a=i.removedTargetIds||[];t=new bu([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=lo(n,i.document),o=i.removedTargetIds||[];t=new bu([],o,r,null)}else{if(!("filter"in e))return ae();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new lC(r,o),a=i.targetId;t=new N0(a,s)}}return t}function Of(n,e){let t;if(e instanceof Ks)t={update:c2(n,e.key,e.value)};else if(e instanceof Qs)t={delete:Rf(n,e.key)};else if(e instanceof Cr)t={update:c2(n,e.key,e.data),updateMask:bQ(e.fieldMask)};else{if(!(e instanceof Sf))return ae();t={verify:Rf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof zs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ko)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ws)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ae()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:pQ(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ae()}(n,e.precondition)),t}function mC(n,e){let t=e.currentDocument?function(o){return o.updateTime!==void 0?St.updateTime(Lt(o.updateTime)):o.exists!==void 0?St.exists(o.exists):St.none()}(e.currentDocument):St.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let l=null;if("setToServerValue"in a)de(a.setToServerValue==="REQUEST_TIME"),l=new zs;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];l=new Ko(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];l=new Qo(d)}else"increment"in a?l=new Ws(s,a.increment):ae();let u=Vt.fromServerFormat(a.fieldPath);return new El(u,l)}(n,r)):[];if(e.update){e.update.name;let r=lo(n,e.update.name),o=new Un({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(l){let u=l.fieldPaths||[];return new Oi(u.map(d=>Vt.fromServerFormat(d)))}(e.updateMask);return new Cr(r,o,s,t,i)}return new Ks(r,o,t,i)}if(e.delete){let r=lo(n,e.delete);return new Qs(r,t)}if(e.verify){let r=lo(n,e.verify);return new Sf(r,t)}return ae()}function _Q(n,e){return n&&n.length>0?(de(e!==void 0),n.map(t=>function(r,o){let s=r.updateTime?Lt(r.updateTime):Lt(o);return s.isEqual(fe.min())&&(s=Lt(o)),new sC(s,r.transformResults||[])}(t,e))):[]}function RV(n,e){return{documents:[AV(n,e.path)]}}function OV(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=AV(n,r);let o=function(u){if(u.length!==0)return FV(Ze.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:gu(m.field),direction:vQ(m.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=hC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:r}}function PV(n){let e=NV(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){de(i===1);let d=t.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let m=kV(f);return m instanceof Ze&&BI(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(m=>function(D){return new yl(_u(D.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Uf(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(f){let m=!!f.before,g=f.values||[];return new ho(g,m)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let m=!f.before,g=f.values||[];return new ho(g,m)}(t.endAt)),lV(e,r,s,o,a,"F",l,u)}function yQ(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kV(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=_u(t.unaryFilter.field);return Le.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=_u(t.unaryFilter.field);return Le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=_u(t.unaryFilter.field);return Le.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=_u(t.unaryFilter.field);return Le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(n):n.fieldFilter!==void 0?function(t){return Le.create(_u(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ze.create(t.compositeFilter.filters.map(i=>kV(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ae()}}(t.compositeFilter.op))}(n):ae()}function vQ(n){return dQ[n]}function EQ(n){return hQ[n]}function wQ(n){return fQ[n]}function gu(n){return{fieldPath:n.canonicalString()}}function _u(n){return Vt.fromServerFormat(n.fieldPath)}function FV(n){return n instanceof Le?function(t){if(t.op==="=="){if(zF(t.value))return{unaryFilter:{field:gu(t.field),op:"IS_NAN"}};if(qF(t.value))return{unaryFilter:{field:gu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zF(t.value))return{unaryFilter:{field:gu(t.field),op:"IS_NOT_NAN"}};if(qF(t.value))return{unaryFilter:{field:gu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(t.field),op:EQ(t.op),value:t.value}}}(n):n instanceof Ze?function(t){let i=t.getFilters().map(r=>FV(r));return i.length===1?i[0]:{compositeFilter:{op:wQ(t.op),filters:i}}}(n):ae()}function bQ(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VV(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Mu=class n{constructor(e,t,i,r,o=fe.min(),s=fe.min(),a=Bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var R0=class{constructor(e){this.ct=e}};function DQ(n,e){let t;if(e.document)t=xV(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=oe.fromSegments(e.noDocument.path),r=bl(e.noDocument.readTime);t=Yt.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ae();{let i=oe.fromSegments(e.unknownDocument.path),r=bl(e.unknownDocument.version);t=Yt.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){let o=new vt(r[0],r[1]);return fe.fromTimestamp(o)}(e.readTime)),t}function u2(n,e){let t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:O0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(o,s){return{name:Rf(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Nu(o,s.version.toTimestamp()),createTime:Nu(o,s.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:wl(e.version)};else{if(!e.isUnknownDocument())return ae();i.unknownDocument={path:t.path.toArray(),version:wl(e.version)}}return i}function O0(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function wl(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bl(n){let e=new vt(n.seconds,n.nanoseconds);return fe.fromTimestamp(e)}function dl(n,e){let t=(e.baseMutations||[]).map(o=>mC(n.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let i=e.mutations.map(o=>mC(n.ct,o)),r=vt.fromMillis(e.localWriteTimeMs);return new Af(e.batchId,r,t,i)}function mf(n){let e=bl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?bl(n.lastLimboFreeSnapshotVersion):fe.min(),i;return i=function(o){return o.documents!==void 0}(n.query)?function(o){return de(o.documents.length===1),ti($u(NV(o.documents[0])))}(n.query):function(o){return ti(PV(o))}(n.query),new Mu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Bt.fromBase64String(n.resumeToken))}function LV(n,e){let t=wl(e.snapshotVersion),i=wl(e.lastLimboFreeSnapshotVersion),r;r=T0(e.target)?RV(n.ct,e.target):OV(n.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function GI(n){let e=PV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?A0(e,e.limit,"L"):e}function ND(n,e){return new Nf(e.largestBatchId,mC(n.ct,e.overlayMutation))}function d2(n,e){let t=e.path.lastSegment();return[n,ei(e.path.popLast()),t]}function h2(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:wl(i.readTime),documentKey:ei(i.documentKey.path),largestBatchId:i.largestBatchId}}var gC=class{getBundleMetadata(e,t){return f2(e).get(t).next(i=>{if(i)return function(o){return{id:o.bundleId,createTime:bl(o.createTime),version:o.version}}(i)})}saveBundleMetadata(e,t){return f2(e).put(function(r){return{bundleId:r.id,createTime:wl(Lt(r.createTime)),version:r.version}}(t))}getNamedQuery(e,t){return p2(e).get(t).next(i=>{if(i)return function(o){return{name:o.name,query:GI(o.bundledQuery),readTime:bl(o.readTime)}}(i)})}saveNamedQuery(e,t){return p2(e).put(function(r){return{name:r.name,readTime:wl(Lt(r.readTime)),bundledQuery:r.bundledQuery}}(t))}};function f2(n){return an(n,"bundles")}function p2(n){return an(n,"namedQueries")}var P0=class n{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let i=t.uid||"";return new n(e,i)}getOverlay(e,t){return uf(e).get(d2(this.userId,t)).next(i=>i?ND(this.serializer,i):null)}getOverlays(e,t){let i=so();return k.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){let r=[];return i.forEach((o,s)=>{let a=new Nf(t,s);r.push(this.ht(e,a))}),k.waitFor(r)}removeOverlaysForBatchId(e,t,i){let r=new Set;t.forEach(s=>r.add(ei(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(uf(e).j("collectionPathOverlayIndex",a))}),k.waitFor(o)}getOverlaysForCollection(e,t,i){let r=so(),o=ei(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return uf(e).U("collectionPathOverlayIndex",s).next(a=>{for(let l of a){let u=ND(this.serializer,l);r.set(u.getKey(),u)}return r})}getOverlaysForCollectionGroup(e,t,i,r){let o=so(),s,a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return uf(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,d)=>{let f=ND(this.serializer,u);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):d.done()}).next(()=>o)}ht(e,t){return uf(e).put(function(r,o,s){let[a,l,u]=d2(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Of(r.ct,s.mutation)}}(this.serializer,this.userId,t))}};function uf(n){return an(n,"documentOverlays")}var _C=class{Pt(e){return an(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{let i=t?.value;return i?Bt.fromUint8Array(i):Bt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var qo=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(gt(e.integerValue));else if("doubleValue"in e){let i=gt(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),bf(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=Wo(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Hs(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?eV(e)?this.dt(t,Number.MAX_SAFE_INTEGER):my(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ae()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let o=e.fields||{};this.dt(t,53);let s="value",a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(gt(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),oe.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};qo.vt=new qo;function CQ(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function m2(n){let e=64-function(i){let r=0;for(let o=0;o<8;++o){let s=CQ(255&i[o]);if(r+=s,s!==8)break}return r}(n);return Math.ceil(e/8)}var yC=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.Ot(i.value),i=t.next();this.Nt()}Lt(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{let r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{let r=t.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(e){let t=this.qt(e),i=m2(t);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Kt(e){let t=this.qt(e),i=m2(t);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let t=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=(128&t[0])!=0;t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ft(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){let t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},vC=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},EC=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},hl=class{constructor(){this.jt=new yC,this.Ht=new vC(this.jt),this.Jt=new EC(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var fl=class n{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Zt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new n(this.indexId,this.documentKey,this.arrayValue,i)}};function ks(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=g2(n.arrayValue,e.arrayValue),t!==0?t:(t=g2(n.directionalValue,e.directionalValue),t!==0?t:oe.comparator(n.documentKey,e.documentKey)))}function g2(n,e){for(let t=0;t<n.length&&t<e.length;++t){let i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}var k0=class{constructor(e){this.Xt=new rt((t,i)=>Vt.comparator(t.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let t of e.filters){let i=t;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(e){if(de(e.collectionGroup===this.collectionId),this.nn)return!1;let t=$D(e);if(t!==void 0&&!this.sn(t))return!1;let i=cl(e),r=new Set,o=0,s=0;for(;o<i.length&&this.sn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let l=i[o];if(!this.on(a,l)||!this._n(this.en[s++],l))return!1}++o}for(;o<i.length;++o){let a=i[o];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let e=new rt(Vt.comparator),t=[];for(let i of this.tn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new Eu(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Eu(i.field,0))}for(let i of this.en)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Eu(i.field,i.dir==="asc"?0:1)));return new Cu(Cu.UNKNOWN_ID,this.collectionId,t,wf.empty())}sn(e){for(let t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function BV(n){var e,t;if(de(n instanceof Le||n instanceof Ze),n instanceof Le){if(n instanceof I0){let r=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>Le.create(n.field,"==",o)))||[];return Ze.create(r,"or")}return n}let i=n.filters.map(r=>BV(r));return Ze.create(i,n.op)}function IQ(n){if(n.getFilters().length===0)return[];let e=DC(BV(n));return de(jV(e)),wC(e)||bC(e)?[e]:e.getFilters()}function wC(n){return n instanceof Le}function bC(n){return n instanceof Ze&&BI(n)}function jV(n){return wC(n)||bC(n)||function(t){if(t instanceof Ze&&QD(t)){for(let i of t.getFilters())if(!wC(i)&&!bC(i))return!1;return!0}return!1}(n)}function DC(n){if(de(n instanceof Le||n instanceof Ze),n instanceof Le)return n;if(n.filters.length===1)return DC(n.filters[0]);let e=n.filters.map(i=>DC(i)),t=Ze.create(e,n.op);return t=F0(t),jV(t)?t:(de(t instanceof Ze),de(Tu(t)),de(t.filters.length>1),t.filters.reduce((i,r)=>qI(i,r)))}function qI(n,e){let t;return de(n instanceof Le||n instanceof Ze),de(e instanceof Le||e instanceof Ze),t=n instanceof Le?e instanceof Le?function(r,o){return Ze.create([r,o],"and")}(n,e):_2(n,e):e instanceof Le?_2(e,n):function(r,o){if(de(r.filters.length>0&&o.filters.length>0),Tu(r)&&Tu(o))return oV(r,o.getFilters());let s=QD(r)?r:o,a=QD(r)?o:r,l=s.filters.map(u=>qI(u,a));return Ze.create(l,"or")}(n,e),F0(t)}function _2(n,e){if(Tu(e))return oV(e,n.getFilters());{let t=e.filters.map(i=>qI(n,i));return Ze.create(t,"or")}}function F0(n){if(de(n instanceof Le||n instanceof Ze),n instanceof Le)return n;let e=n.getFilters();if(e.length===1)return F0(e[0]);if(iV(n))return n;let t=e.map(r=>F0(r)),i=[];return t.forEach(r=>{r instanceof Le?i.push(r):r instanceof Ze&&(r.op===n.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:Ze.create(i,n.op)}var CC=class{constructor(){this.un=new Pf}addToCollectionParentIndex(e,t){return this.un.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(Zi.min())}updateCollectionGroup(e,t,i){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},Pf=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new rt($e.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new rt($e.comparator)).toArray()}};var l0=new Uint8Array(0),IC=class{constructor(e,t){this.databaseId=t,this.cn=new Pf,this.ln=new fo(i=>vl(i),(i,r)=>Hf(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){let i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});let o={collectionId:i,parent:ei(r)};return y2(e).put(o)}return k.resolve()}getCollectionParents(e,t){let i=[],r=IDBKeyRange.bound([t,""],[U2(t),""],!1,!0);return y2(e).U(r).next(o=>{for(let s of o){if(s.collectionId!==t)break;i.push(oo(s.parent))}return i})}addFieldIndex(e,t){let i=df(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(t);delete r.indexId;let o=i.add(r);if(t.indexState){let s=hu(e);return o.next(a=>{s.put(h2(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){let i=df(e),r=hu(e),o=du(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=df(e),i=du(e),r=hu(e);return t.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(e,t){return k.forEach(this.hn(t),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let o=new k0(i).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){let i=du(e),r=!0,o=new Map;return k.forEach(this.hn(t),s=>this.Pn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Ne(),a=[];return k.forEach(o,(l,u)=>{W("IndexedDbIndexManager",`Using index ${function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(G=>`${G.fieldPath}:${G.kind}`).join(",")}`}(l)} to execute ${vl(t)}`);let d=function(B,G){let Z=$D(G);if(Z===void 0)return null;for(let X of S0(B,Z.fieldPath))switch(X.op){case"array-contains-any":return X.value.arrayValue.values||[];case"array-contains":return[X.value]}return null}(u,l),f=function(B,G){let Z=new Map;for(let X of cl(G))for(let C of S0(B,X.fieldPath))switch(C.op){case"==":case"in":Z.set(X.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return Z.set(X.fieldPath.canonicalString(),C.value),Array.from(Z.values())}return null}(u,l),m=function(B,G){let Z=[],X=!0;for(let C of cl(G)){let E=C.kind===0?JF(B,C.fieldPath,B.startAt):ZF(B,C.fieldPath,B.startAt);Z.push(E.value),X&&(X=E.inclusive)}return new ho(Z,X)}(u,l),g=function(B,G){let Z=[],X=!0;for(let C of cl(G)){let E=C.kind===0?ZF(B,C.fieldPath,B.endAt):JF(B,C.fieldPath,B.endAt);Z.push(E.value),X&&(X=E.inclusive)}return new ho(Z,X)}(u,l),D=this.In(l,u,m),I=this.In(l,u,g),T=this.Tn(l,u,f),F=this.En(l.indexId,d,D,m.inclusive,I,g.inclusive,T);return k.forEach(F,H=>i.G(H,t.limit).next(B=>{B.forEach(G=>{let Z=oe.fromSegments(G.documentKey);s.has(Z)||(s=s.add(Z),a.push(Z))})}))}).next(()=>a)}return k.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=IQ(Ze.create(e.filters,"and")).map(i=>rC(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,i,r,o,s,a){let l=(t!=null?t.length:1)*Math.max(i.length,o.length),u=l/(t!=null?t.length:1),d=[];for(let f=0;f<l;++f){let m=t?this.dn(t[f/u]):l0,g=this.An(e,m,i[f%u],r),D=this.Rn(e,m,o[f%u],s),I=a.map(T=>this.An(e,m,T,!0));d.push(...this.createRange(g,D,I))}return d}An(e,t,i,r){let o=new fl(e,oe.empty(),t,i);return r?o:o.Zt()}Rn(e,t,i,r){let o=new fl(e,oe.empty(),t,i);return r?o.Zt():o}Pn(e,t){let i=new k0(t),r=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(let a of o)i.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2,r=this.hn(t);return k.forEach(r,o=>this.Pn(e,o).next(s=>{s?i!==0&&s.fields.length<function(l){let u=new rt(Vt.comparator),d=!1;for(let f of l.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:u=u.add(m.field));for(let f of l.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(o)&&(i=1):i=0})).next(()=>function(s){return s.limit!==null}(t)&&r.length>1&&i===2?1:i)}Vn(e,t){let i=new hl;for(let r of cl(e)){let o=t.data.field(r.fieldPath);if(o==null)return null;let s=i.Yt(r.kind);qo.vt.It(o,s)}return i.zt()}dn(e){let t=new hl;return qo.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){let i=new hl;return qo.vt.It(_l(this.databaseId,t),i.Yt(function(o){let s=cl(o);return s.length===0?0:s[s.length-1].kind}(e))),i.zt()}Tn(e,t,i){if(i===null)return[];let r=[];r.push(new hl);let o=0;for(let s of cl(e)){let a=i[o++];for(let l of r)if(this.fn(t,s.fieldPath)&&Tf(a))r=this.gn(r,s,a);else{let u=l.Yt(s.kind);qo.vt.It(a,u)}}return this.pn(r)}In(e,t,i){return this.Tn(e,t,i.position)}pn(e){let t=[];for(let i=0;i<e.length;++i)t[i]=e[i].zt();return t}gn(e,t,i){let r=[...e],o=[];for(let s of i.arrayValue.values||[])for(let a of r){let l=new hl;l.seed(a.zt()),qo.vt.It(s,l.Yt(t.kind)),o.push(l)}return o}fn(e,t){return!!e.filters.find(i=>i instanceof Le&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,t){let i=df(e),r=hu(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(o=>{let s=[];return k.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(d,f){let m=f?new wf(f.sequenceNumber,new Zi(bl(f.readTime),new oe(oo(f.documentKey)),f.largestBatchId)):wf.empty(),g=d.fields.map(([D,I])=>new Eu(Vt.fromServerFormat(D),I));return new Cu(d.indexId,d.collectionGroup,g,m)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((i,r)=>{let o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:De(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){let r=df(e),o=hu(e);return this.yn(e).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>k.forEach(a,l=>o.put(h2(l.indexId,this.uid,s,i)))))}updateIndexEntries(e,t){let i=new Map;return k.forEach(t,(r,o)=>{let s=i.get(r.collectionGroup);return(s?k.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),k.forEach(a,l=>this.wn(e,r,l).next(u=>{let d=this.Sn(o,l);return u.isEqual(d)?k.resolve():this.bn(e,o,l,u,d)}))))})}Dn(e,t,i,r){return du(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,r){return du(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}wn(e,t,i){let r=du(e),o=new rt(ks);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(s,a)=>{o=o.add(new fl(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,t){let i=new rt(ks),r=this.Vn(t,e);if(r==null)return i;let o=$D(t);if(o!=null){let s=e.data.field(o.fieldPath);if(Tf(s))for(let a of s.arrayValue.values||[])i=i.add(new fl(t.indexId,e.key,this.dn(a),r))}else i=i.add(new fl(t.indexId,e.key,l0,r));return i}bn(e,t,i,r,o){W("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let s=[];return function(l,u,d,f,m){let g=l.getIterator(),D=u.getIterator(),I=uu(g),T=uu(D);for(;I||T;){let F=!1,H=!1;if(I&&T){let B=d(I,T);B<0?H=!0:B>0&&(F=!0)}else I!=null?H=!0:F=!0;F?(f(T),T=uu(D)):H?(m(I),I=uu(g)):(I=uu(g),T=uu(D))}}(r,o,ks,a=>{s.push(this.Dn(e,t,i,a))},a=>{s.push(this.vn(e,t,i,a))}),k.waitFor(s)}yn(e){let t=1;return hu(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>ks(s,a)).filter((s,a,l)=>!a||ks(s,l[a-1])!==0);let r=[];r.push(e);for(let s of i){let a=ks(s,e),l=ks(s,t);if(a===0)r[0]=e.Zt();else if(a>0&&l<0)r.push(s),r.push(s.Zt());else if(l>0)break}r.push(t);let o=[];for(let s=0;s<r.length;s+=2){if(this.Cn(r[s],r[s+1]))return[];let a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,l0,[]],l=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,l0,[]];o.push(IDBKeyRange.bound(a,l))}return o}Cn(e,t){return ks(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(v2)}getMinOffset(e,t){return k.mapArray(this.hn(t),i=>this.Pn(e,i).next(r=>r||ae())).next(v2)}};function y2(n){return an(n,"collectionParents")}function du(n){return an(n,"indexEntries")}function df(n){return an(n,"indexConfiguration")}function hu(n){return an(n,"indexState")}function v2(n){de(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){let r=n[i].indexState.offset;kI(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Zi(e.readTime,e.documentKey,t)}var E2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ji=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function $V(n,e,t){let i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId),a=0,l=i.J({range:s},(d,f,m)=>(a++,m.delete()));o.push(l.next(()=>{de(a===1)}));let u=[];for(let d of t.mutations){let f=K2(e,d.key.path,t.batchId);o.push(r.delete(f)),u.push(d.key)}return k.waitFor(o).next(()=>u)}function V0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ae();e=n.noDocument}return JSON.stringify(e).length}Ji.DEFAULT_COLLECTION_PERCENTILE=10,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ji.DEFAULT=new Ji(41943040,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ji.DISABLED=new Ji(-1,0,0);var L0=class n{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(e,t,i,r){de(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new n(o,t,i,r)}checkEmpty(e){let t=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fs(e).J({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){let o=yu(e),s=Fs(e);return s.add({}).next(a=>{de(typeof a=="number");let l=new Af(a,t,i,r),u=function(g,D,I){let T=I.baseMutations.map(H=>Of(g.ct,H)),F=I.mutations.map(H=>Of(g.ct,H));return{userId:D,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:T,mutations:F}}(this.serializer,this.userId,l),d=[],f=new rt((m,g)=>De(m.canonicalString(),g.canonicalString()));for(let m of r){let g=K2(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),d.push(s.put(u)),d.push(o.put(g,xK))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),k.waitFor(d).next(()=>l)})}lookupMutationBatch(e,t){return Fs(e).get(t).next(i=>i?(de(i.userId===this.userId),dl(this.serializer,i)):null)}Mn(e,t){return this.Fn[t]?k.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){let r=i.keys();return this.Fn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return Fs(e).J({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(de(a.batchId>=i),o=dl(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Fs(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fs(e).U("userMutationsIndex",t).next(i=>i.map(r=>dl(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){let i=h0(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return yu(e).J({range:r},(s,a,l)=>{let[u,d,f]=s,m=oo(d);if(u===this.userId&&t.path.isEqual(m))return Fs(e).get(f).next(g=>{if(!g)throw ae();de(g.userId===this.userId),o.push(dl(this.serializer,g))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new rt(De),r=[];return t.forEach(o=>{let s=h0(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=yu(e).J({range:a},(u,d,f)=>{let[m,g,D]=u,I=oo(g);m===this.userId&&o.path.isEqual(I)?i=i.add(D):f.done()});r.push(l)}),k.waitFor(r).next(()=>this.xn(e,i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=h0(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new rt(De);return yu(e).J({range:s},(l,u,d)=>{let[f,m,g]=l,D=oo(m);f===this.userId&&i.isPrefixOf(D)?D.length===r&&(a=a.add(g)):d.done()}).next(()=>this.xn(e,a))}xn(e,t){let i=[],r=[];return t.forEach(o=>{r.push(Fs(e).get(o).next(s=>{if(s===null)throw ae();de(s.userId===this.userId),i.push(dl(this.serializer,s))}))}),k.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return $V(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),k.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return k.resolve();let i=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return yu(e).J({range:i},(o,s,a)=>{if(o[0]===this.userId){let l=oo(o[1]);r.push(l)}else a.done()}).next(()=>{de(r.length===0)})})}containsKey(e,t){return UV(e,this.userId,t)}Nn(e){return HV(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function UV(n,e,t){let i=h0(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return yu(n).J({range:o,H:!0},(a,l,u)=>{let[d,f,m]=a;d===e&&f===r&&(s=!0),u.done()}).next(()=>s)}function Fs(n){return an(n,"mutations")}function yu(n){return an(n,"documentMutations")}function HV(n){return an(n,"mutationQueues")}var xu=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var TC=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{let i=new xu(t.highestTargetId);return t.highestTargetId=i.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>fe.fromTimestamp(new vt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.qn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Qn(e,r)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(i=>(i.targetCount+=1,this.$n(t,i),this.Qn(e,i))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>fu(e).delete(t.targetId)).next(()=>this.qn(e)).next(i=>(de(i.targetCount>0),i.targetCount-=1,this.Qn(e,i)))}removeTargets(e,t,i){let r=0,o=[];return fu(e).J((s,a)=>{let l=mf(a);l.sequenceNumber<=t&&i.get(l.targetId)===null&&(r++,o.push(this.removeTargetData(e,l)))}).next(()=>k.waitFor(o)).next(()=>r)}forEachTarget(e,t){return fu(e).J((i,r)=>{let o=mf(r);t(o)})}qn(e){return w2(e).get("targetGlobalKey").next(t=>(de(t!==null),t))}Qn(e,t){return w2(e).put("targetGlobalKey",t)}Kn(e,t){return fu(e).put(LV(this.serializer,t))}$n(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){let i=vl(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return fu(e).J({range:r,index:"queryTargetsIndex"},(s,a,l)=>{let u=mf(a);Hf(t,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,t,i){let r=[],o=Vs(e);return t.forEach(s=>{let a=ei(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),k.waitFor(r)}removeMatchingKeys(e,t,i){let r=Vs(e);return k.forEach(t,o=>{let s=ei(o.path);return k.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){let i=Vs(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){let i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Vs(e),o=Ne();return r.J({range:i,H:!0},(s,a,l)=>{let u=oo(s[1]),d=new oe(u);o=o.add(d)}).next(()=>o)}containsKey(e,t){let i=ei(t.path),r=IDBKeyRange.bound([i],[U2(i)],!1,!0),o=0;return Vs(e).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],l,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,t){return fu(e).get(t).next(i=>i?mf(i):null)}};function fu(n){return an(n,"targets")}function w2(n){return an(n,"targetGlobal")}function Vs(n){return an(n,"targetDocuments")}function b2([n,e],[t,i]){let r=De(n,t);return r===0?De(e,i):r}var SC=class{constructor(e){this.Un=e,this.buffer=new rt(b2),this.Wn=0}Gn(){return++this.Wn}zn(e){let t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{let i=this.buffer.last();b2(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}},AC=class{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){W("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>P(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zs(t)?W("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield Js(t)}yield this.Hn(3e5)}))}},NC=class{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return k.resolve(Ri.oe);let i=new SC(t);return this.Jn.forEachTarget(e,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(e,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(E2)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E2):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let i,r,o,s,a,l,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,t))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(u=Date.now(),pu()<=Or.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}};function TQ(n,e){return new NC(n,e)}var MC=class{constructor(e,t){this.db=e,this.garbageCollector=TQ(this,t)}Yn(e){let t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}er(e){let t=0;return this.Zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(i,r)=>t(r))}addReference(e,t,i){return c0(e,i)}removeReference(e,t,i){return c0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return c0(e,t)}nr(e,t){return function(r,o){let s=!1;return HV(r).Y(a=>UV(r,a,o).next(l=>(l&&(s=!0),k.resolve(!l)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.tr(e,(s,a)=>{if(a<=t){let l=this.nr(e,s).next(u=>{if(!u)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,fe.min()),Vs(e).delete(function(f){return[0,ei(f.path)]}(s))))});r.push(l)}}).next(()=>k.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){let i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return c0(e,t)}tr(e,t){let i=Vs(e),r,o=Ri.oe;return i.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{s===0?(o!==Ri.oe&&t(new oe(oo(r)),o),o=u,r=l):o=Ri.oe}).next(()=>{o!==Ri.oe&&t(new oe(oo(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function c0(n,e){return Vs(n).put(function(i,r){return{targetId:0,path:ei(i.path),sequenceNumber:r}}(e,n.currentSequenceNumber))}var B0=class{constructor(){this.changes=new fo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?k.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var xC=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return ll(e).put(i)}removeEntry(e,t,i){return ll(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],O0(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.rr(e,i)))}getEntry(e,t){let i=Yt.newInvalidDocument(t);return ll(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hf(t))},(r,o)=>{i=this.ir(t,o)}).next(()=>i)}sr(e,t){let i={size:0,document:Yt.newInvalidDocument(t)};return ll(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hf(t))},(r,o)=>{i={document:this.ir(t,o),size:V0(o)}}).next(()=>i)}getEntries(e,t){let i=_i();return this._r(e,t,(r,o)=>{let s=this.ir(r,o);i=i.insert(r,s)}).next(()=>i)}ar(e,t){let i=_i(),r=new ht(oe.comparator);return this._r(e,t,(o,s)=>{let a=this.ir(o,s);i=i.insert(o,a),r=r.insert(o,V0(s))}).next(()=>({documents:i,ur:r}))}_r(e,t,i){if(t.isEmpty())return k.resolve();let r=new rt(I2);t.forEach(l=>r=r.add(l));let o=IDBKeyRange.bound(hf(r.first()),hf(r.last())),s=r.getIterator(),a=s.getNext();return ll(e).J({index:"documentKeyIndex",range:o},(l,u,d)=>{let f=oe.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&I2(a,f)<0;)i(a,null),a=s.getNext();a&&a.isEqual(f)&&(i(a,u),a=s.hasNext()?s.getNext():null),a?d.$(hf(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){let s=t.path,a=[s.popLast().toArray(),s.lastSegment(),O0(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ll(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{o?.incrementDocumentReadCount(u.length);let d=_i();for(let f of u){let m=this.ir(oe.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(qf(t,m)||r.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,t,i,r){let o=_i(),s=C2(t,i),a=C2(t,Zi.max());return ll(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,d)=>{let f=this.ir(oe.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===r&&d.done()}).next(()=>o)}newChangeBuffer(e){return new RC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return D2(e).get("remoteDocumentGlobalKey").next(t=>(de(!!t),t))}rr(e,t){return D2(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){let i=DQ(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(fe.min())))return i}return Yt.newInvalidDocument(e)}};function GV(n){return new xC(n)}var RC=class extends B0{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new fo(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let t=[],i=0,r=new rt((o,s)=>De(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.lr.get(o);if(t.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){let l=u2(this.cr.serializer,s);r=r.add(o.path.popLast());let u=V0(l);i+=u-a.size,t.push(this.cr.addEntry(e,o,l))}else if(i-=a.size,this.trackRemovals){let l=u2(this.cr.serializer,s.convertToNoDocument(fe.min()));t.push(this.cr.addEntry(e,o,l))}}),r.forEach(o=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.cr.updateMetadata(e,i)),k.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(i=>(this.lr.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:i,ur:r})=>(r.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:i.get(o).readTime})}),i))}};function D2(n){return an(n,"remoteDocumentGlobal")}function ll(n){return an(n,"remoteDocumentsV14")}function hf(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function C2(n,e){let t=e.documentKey.path.toArray();return[n,O0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function I2(n,e){let t=n.path.toArray(),i=e.path.toArray(),r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=De(t[o],i[o]),r)return r;return r=De(t.length,i.length),r||(r=De(t[t.length-2],i[i.length-2]),r||De(t[t.length-1],i[i.length-1]))}var OC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var j0=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&yf(i.mutation,r,Oi.empty(),vt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ne()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ne()){let r=so();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=pf();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=so();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ne()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=_i(),s=_f(),a=function(){return _f()}();return t.forEach((l,u)=>{let d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof Cr)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),yf(d.mutation,u,d.mutation.getFieldMask(),vt.now())):s.set(u.key,Oi.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new OC(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let i=_f(),r=new ht((s,a)=>s-a),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let d=i.get(l)||Oi.empty();d=a.applyToLocalView(u,d),i.set(l,d);let f=(r.get(a.batchId)||Ne()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,d=l.value,f=pV();d.forEach(m=>{if(!o.has(m)){let g=wV(t.get(m),i.get(m));g!==null&&f.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return k.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):k.resolve(so()),a=-1,l=o;return s.next(u=>k.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?k.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ne())).next(d=>({batchId:a,changes:fV(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oe(t)).next(i=>{let r=pf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=pf();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,l=>{let u=function(f,m){return new Dr(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(d=>{d.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((l,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Yt.newInvalidDocument(d)))});let a=pf();return s.forEach((l,u)=>{let d=o.get(l);d!==void 0&&yf(d.mutation,u,Oi.empty(),vt.now()),qf(t,u)&&(a=a.insert(l,u))}),a})}};var PC=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return k.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Lt(r.createTime)}}(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:GI(r.bundledQuery),readTime:Lt(r.readTime)}}(t)),k.resolve()}};var kC=class{constructor(){this.overlays=new ht(oe.comparator),this.Ir=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let i=so();return k.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ht(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),k.resolve()}getOverlaysForCollection(e,t,i){let r=so(),o=t.length+1,s=new oe(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return k.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new ht((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let d=o.get(u.largestBatchId);d===null&&(d=so(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=so(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=r)););return k.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new Nf(t,i));let o=this.Ir.get(t);o===void 0&&(o=Ne(),this.Ir.set(t,o)),this.Ir.set(t,o.add(i.key))}};var FC=class{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var kf=class{constructor(){this.Tr=new rt(Kt.Er),this.dr=new rt(Kt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new Kt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Kt(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new oe(new $e([])),i=new Kt(t,e),r=new Kt(t,e+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new oe(new $e([])),i=new Kt(t,e),r=new Kt(t,e+1),o=Ne();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Kt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Kt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return oe.comparator(e.key,t.key)||De(e.wr,t.wr)}static Ar(e,t){return De(e.wr,t.wr)||oe.comparator(e.key,t.key)}};var VC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new rt(Kt.Er)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Af(o,t,i,r);this.mutationQueue.push(s);for(let a of r)this.br=this.br.add(new Kt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),o=r<0?0:r;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Kt(t,0),r=new Kt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{let a=this.Dr(s.wr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new rt(De);return t.forEach(r=>{let o=new Kt(r,0),s=new Kt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{i=i.add(a.wr)})}),k.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;oe.isDocumentKey(o)||(o=o.child(""));let s=new Kt(new oe(o),0),a=new rt(De);return this.br.forEachWhile(l=>{let u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.wr)),!0)},s),k.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){de(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return k.forEach(t.mutations,r=>{let o=new Kt(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new Kt(t,0),r=this.br.firstAfterOrEqual(i);return k.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var LC=class{constructor(e){this.Mr=e,this.docs=function(){return new ht(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return k.resolve(i?i.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let i=_i();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Yt.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=_i(),s=t.path,a=new oe(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||kI(G2(d),i)<=0||(r.has(d.key)||qf(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,i,r){ae()}Or(e,t){return k.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new BC(this)}getSize(e){return k.resolve(this.size)}},BC=class extends B0{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),k.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var jC=class{constructor(e){this.persistence=e,this.Nr=new fo(t=>vl(t),Hf),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kf,this.targetCount=0,this.kr=xu.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),k.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new xu(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.Kn(t),k.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),k.waitFor(o).next(()=>r)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return k.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),k.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return k.resolve(i)}containsKey(e,t){return k.resolve(this.Br.containsKey(t))}};var $0=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ri(0),this.Kr=!1,this.Kr=!0,this.$r=new FC,this.referenceDelegate=e(this),this.Ur=new jC(this),this.indexManager=new CC,this.remoteDocumentCache=function(r){return new LC(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new R0(t),this.Gr=new PC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new VC(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){W("MemoryPersistence","Starting transaction:",e);let r=new $C(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(e,t){return k.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},$C=class extends E0{constructor(e){super(),this.currentSequenceNumber=e}},U0=class n{constructor(e){this.persistence=e,this.Jr=new kf,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),k.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),k.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,i=>{let r=oe.fromPath(i);return this.ei(e,r).next(o=>{o||t.removeEntry(r,fe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return k.or([()=>k.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var UC=class{constructor(e){this.serializer=e}O(e,t,i,r){let o=new w0("createOrUpgrade",t);i<1&&r>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$F,{unique:!0}),l.createObjectStore("documentMutations")}(e),T2(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=k.resolve();return i<3&&r>=3&&(i!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),T2(e)),s=s.next(()=>function(l){let u=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:fe.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(o))),i<4&&r>=4&&(i!==0&&(s=s.next(()=>function(l,u){return u.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$F,{unique:!0});let f=u.store("mutations"),m=d.map(g=>f.put(g));return k.waitFor(m)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(s=s.next(()=>this.ni(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),i<7&&r>=7&&(s=s.next(()=>this.ii(o))),i<8&&r>=8&&(s=s.next(()=>this.si(e,o))),i<9&&r>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(s=s.next(()=>this.oi(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{(function(l){let u=l.createObjectStore("documentOverlays",{keyPath:HK});u.createIndex("collectionPathOverlayIndex",GK,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",qK,{unique:!1})})(e)})),i<13&&r>=13&&(s=s.next(()=>function(l){let u=l.createObjectStore("remoteDocumentsV14",{keyPath:RK});u.createIndex("documentKeyIndex",OK),u.createIndex("collectionGroupIndex",PK)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ai(e,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:BK}).createIndex("sequenceNumberIndex",jK,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:$K}).createIndex("documentKeyIndex",UK,{unique:!1})}(e))),i<16&&r>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),i<17&&r>=17&&(s=s.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=V0(r)}).next(()=>{let i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(e){let t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(r=>k.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",s).next(a=>k.forEach(a,l=>{de(l.userId===o.userId);let u=dl(this.serializer,l);return $V(e,o.userId,u).next(()=>{})}))}))}ii(e){let t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let o=[];return i.J((s,a)=>{let l=new $e(s),u=function(f){return[0,ei(f)]}(l);o.push(t.get(u).next(d=>d?k.resolve():(f=>t.put({targetId:0,path:ei(f),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>k.waitFor(o))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:LK});let i=t.store("collectionParents"),r=new Pf,o=s=>{if(r.add(s)){let a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:ei(l)})}};return t.store("remoteDocuments").J({H:!0},(s,a)=>{let l=new $e(s);return o(l.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([s,a,l],u)=>{let d=oo(a);return o(d.popLast())}))}oi(e){let t=e.store("targets");return t.J((i,r)=>{let o=mf(r),s=LV(this.serializer,o);return t.put(s)})}_i(e,t){let i=t.store("remoteDocuments"),r=[];return i.J((o,s)=>{let a=t.store("remoteDocumentsV14"),l=function(f){return f.document?new oe($e.fromString(f.document.name).popFirst(5)):f.noDocument?oe.fromSegments(f.noDocument.path):f.unknownDocument?oe.fromSegments(f.unknownDocument.path):ae()}(s).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(u))}).next(()=>k.waitFor(r))}ai(e,t){let i=t.store("mutations"),r=GV(this.serializer),o=new $0(U0.Zr,this.serializer.ct);return i.U().next(s=>{let a=new Map;return s.forEach(l=>{var u;let d=(u=a.get(l.userId))!==null&&u!==void 0?u:Ne();dl(this.serializer,l).keys().forEach(f=>d=d.add(f)),a.set(l.userId,d)}),k.forEach(a,(l,u)=>{let d=new Qt(u),f=P0.lt(this.serializer,d),m=o.getIndexManager(d),g=L0.lt(d,this.serializer,m,o.referenceDelegate);return new j0(r,g,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Df(t,Ri.oe),l).next()})})}};function T2(n){n.createObjectStore("targetDocuments",{keyPath:FK}).createIndex("documentTargetsIndex",VK,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kK,{unique:!0}),n.createObjectStore("targetGlobal")}var MD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",HC=class n{constructor(e,t,i,r,o,s,a,l,u,d,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ui=o,this.window=s,this.document=a,this.ci=u,this.li=d,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!n.D())throw new q(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MC(this,r),this.Ai=t+"main",this.serializer=new R0(l),this.Ri=new Us(this.Ai,this.hi,new UC(this.serializer)),this.$r=new _C,this.Ur=new TC(this.referenceDelegate,this.serializer),this.remoteDocumentCache=GV(this.serializer),this.Gr=new gC,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&Ft("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new q(L.FAILED_PRECONDITION,MD);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Ri(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=t=>P(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(t=>P(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>P(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>u0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Zs(e))return W("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return W("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return ff(e).get("owner").next(t=>k.resolve(this.vi(t)))}Ci(e){return u0(e).delete(this.clientId)}Fi(){return P(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let i=an(t,"clientMetadata");return i.U().next(r=>{let o=this.xi(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return k.forEach(s,a=>i.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(let t of e)this.Vi.removeItem(this.Oi(t.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?k.resolve(!0):ff(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new q(L.FAILED_PRECONDITION,MD);return!1}}return!(!this.networkEnabled||!this.inForeground)||u0(e).U().next(i=>this.xi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&W("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return P(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new Df(e,Ri.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()})}xi(e,t){return e.filter(i=>this.Mi(i.updateTimeMs,t)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>u0(e).U().next(t=>this.xi(t,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return L0.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new IC(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return P0.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,i){W("IndexedDbPersistence","Starting transaction:",e);let r=t==="readonly"?"readonly":"readwrite",o=function(l){return l===17?KK:l===16?WK:l===15?VI:l===14?J2:l===13?Y2:l===12?zK:l===11?Q2:void ae()}(this.hi),s;return this.Ri.runTransaction(e,r,o,a=>(s=new Df(a,this.Qr?this.Qr.next():Ri.oe),t==="readwrite-primary"?this.wi(s).next(l=>!!l||this.Si(s)).next(l=>{if(!l)throw Ft(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new q(L.FAILED_PRECONDITION,q2);return i(s)}).next(l=>this.Di(s).next(()=>l)):this.Ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return ff(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new q(L.FAILED_PRECONDITION,MD)})}Di(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ff(e).put("owner",t)}static D(){return Us.D()}bi(e){let t=ff(e);return t.get("owner").next(i=>this.vi(i)?(W("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):k.resolve())}Mi(e,t){let i=Date.now();return!(e<i-t)&&(!(e>i)||(Ft(`Detected an update time that is in the future: ${e} > ${i}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let t=/(?:Version|Mobile)\/1[456]/;kv()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{let i=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return W("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ft("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ft("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function ff(n){return an(n,"owner")}function u0(n){return an(n,"clientMetadata")}function zI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var GC=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=Ne(),r=Ne();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var qC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var H0=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return kv()?8:z2(Ld())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new qC;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(pu()<=Or.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",mu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(pu()<=Or.DEBUG&&W("QueryEngine","Query:",mu(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(pu()<=Or.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",mu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(t))):k.resolve())}Yi(e,t){if(XF(t))return k.resolve(null);let i=ti(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=A0(t,null,"F"),i=ti(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=Ne(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let u=this.ts(t,a);return this.ns(t,u,s,l.readTime)?this.Yi(e,A0(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,i,r){return XF(t)||r.isEqual(fe.min())?k.resolve(null):this.Ji.getDocuments(e,i).next(o=>{let s=this.ts(t,o);return this.ns(t,s,i,r)?k.resolve(null):(pu()<=Or.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mu(t)),this.rs(e,s,t,H2(r,-1)).next(a=>a))})}ts(e,t){let i=new rt(dV(e));return t.forEach((r,o)=>{qf(e,o)&&(i=i.add(o))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,t,i){return pu()<=Or.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",mu(t)),this.Ji.getDocumentsMatchingQuery(e,t,Zi.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var zC=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new ht(De),this._s=new fo(o=>vl(o),Hf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j0(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function qV(n,e,t,i){return new zC(n,e,t,i)}function zV(n,e){return P(this,null,function*(){let t=re(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],l=Ne();for(let u of r){s.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(i,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function SQ(n,e){let t=re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){let f=u.batch,m=f.keys(),g=k.resolve();return m.forEach(D=>{g=g.next(()=>d.getEntry(l,D)).next(I=>{let T=u.docVersions.get(D);de(T!==null),I.version.compareTo(T)<0&&(f.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),d.addEntry(I)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function WV(n){let e=re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function AQ(n,e){let t=re(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let a=[];e.targetChanges.forEach((d,f)=>{let m=r.get(f);if(!m)return;a.push(t.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.Ur.addMatchingKeys(o,d.addedDocuments,f)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Bt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,i)),r=r.insert(f,g),function(I,T,F){return I.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,g,d)&&a.push(t.Ur.updateTargetData(o,g))});let l=_i(),u=Ne();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(KV(o,s,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!i.isEqual(fe.min())){let d=t.Ur.getLastRemoteSnapshotVersion(o).next(f=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(d)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.os=r,o))}function KV(n,e,t){let i=Ne(),r=Ne();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=_i();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:r}})}function NQ(n,e){let t=re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ru(n,e){let t=re(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(o=>o?(r=o,k.resolve(r)):t.Ur.allocateTargetId(i).next(s=>(r=new Mu(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function Ou(n,e,t){return P(this,null,function*(){let i=re(n),r=i.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Zs(s))throw s;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function G0(n,e,t){let i=re(n),r=fe.min(),o=Ne();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){let f=re(l),m=f._s.get(d);return m!==void 0?k.resolve(f.os.get(m)):f.Ur.getTargetData(u,d)}(i,s,ti(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.ss.getDocumentsMatchingQuery(s,e,t?r:fe.min(),t?o:Ne())).next(a=>(JV(i,uV(e),a),{documents:a,Ts:o})))}function QV(n,e){let t=re(n),i=re(t.Ur),r=t.os.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.ot(o,e).next(s=>s?s.target:null))}function YV(n,e){let t=re(n),i=t.us.get(e)||fe.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.cs.getAllFromCollectionGroup(r,e,H2(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(JV(t,e,r),r))}function JV(n,e,t){let i=n.us.get(e)||fe.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.us.set(e,i)}function MQ(n,e,t,i){return P(this,null,function*(){let r=re(n),o=Ne(),s=_i();for(let u of t){let d=e.Es(u.metadata.name);u.document&&(o=o.add(d));let f=e.ds(u);f.setReadTime(e.As(u.metadata.readTime)),s=s.insert(d,f)}let a=r.cs.newChangeBuffer({trackRemovals:!0}),l=yield Ru(r,function(d){return ti($u($e.fromString(`__bundle__/docs/${d}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",u=>KV(u,a,s).next(d=>(a.apply(u),d)).next(d=>r.Ur.removeMatchingKeysForTargetId(u,l.targetId).next(()=>r.Ur.addMatchingKeys(u,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,d.Ps,d.Is)).next(()=>d.Ps)))})}function xQ(i,r){return P(this,arguments,function*(n,e,t=Ne()){let o=yield Ru(n,ti(GI(e.bundledQuery))),s=re(n);return s.persistence.runTransaction("Save named query","readwrite",a=>{let l=Lt(e.readTime);if(o.snapshotVersion.compareTo(l)>=0)return s.Gr.saveNamedQuery(a,e);let u=o.withResumeToken(Bt.EMPTY_BYTE_STRING,l);return s.os=s.os.insert(u.targetId,u),s.Ur.updateTargetData(a,u).next(()=>s.Ur.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Ur.addMatchingKeys(a,t,o.targetId)).next(()=>s.Gr.saveNamedQuery(a,e))})})}function S2(n,e){return`firestore_clients_${n}_${e}`}function A2(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function xD(n,e){return`firestore_targets_${n}_${e}`}var q0=class n{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Rs(e,t,i){let r=JSON.parse(i),o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new q(r.error.code,r.error.message))),s?new n(e,t,r.state,o):(Ft("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},vf=class n{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Rs(e,t){let i=JSON.parse(t),r,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(r=new q(i.error.code,i.error.message))),o?new n(e,i.state,r):(Ft("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},z0=class n{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){let i=JSON.parse(t),r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=$I();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=W2(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new n(e,o):(Ft("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},WC=class n{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(Ft("SharedClientState",`Failed to parse online state: ${e}`),null)}},Ff=class{constructor(){this.activeTargetIds=$I()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Ef=class{constructor(e,t,i,r,o){this.window=e,this.ui=t,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ht(De),this.started=!1,this.bs=[];let s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=S2(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new Ff),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return P(this,null,function*(){let e=yield this.syncEngine.Qi();for(let i of e){if(i===this.ps)continue;let r=this.getItem(S2(this.persistenceKey,i));if(r){let o=z0.Rs(i,r);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();let t=this.storage.getItem(this.xs);if(t){let i=this.Ls(t);i&&this.Bs(i)}for(let i of this.bs)this.ws(i);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,i){this.qs(e,t,i),this.Qs(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(xD(this.persistenceKey,e));if(r){let o=vf.Rs(e,r);o&&(i=o.state)}}return t&&this.Ks.fs(e),this.Ns(),i}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xD(this.persistenceKey,e))}updateQueryState(e,t,i){this.$s(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Qs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return W("SharedClientState","READ",e,t),t}setItem(e,t){W("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){W("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let t=e;if(t.storageArea===this.storage){if(W("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void Ft("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>P(this,null,function*(){if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){let i=this.Gs(t.key);return this.zs(i,null)}{let i=this.js(t.key,t.newValue);if(i)return this.zs(i.clientId,i)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){let i=this.Hs(t.key,t.newValue);if(i)return this.Js(i)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){let i=this.Ys(t.key,t.newValue);if(i)return this.Zs(i)}}else if(t.key===this.xs){if(t.newValue!==null){let i=this.Ls(t.newValue);if(i)return this.Bs(i)}}else if(t.key===this.vs){let i=function(o){let s=Ri.oe;if(o!=null)try{let a=JSON.parse(o);de(typeof a=="number"),s=a}catch(a){Ft("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(t.newValue);i!==Ri.oe&&this.sequenceNumberHandler(i)}else if(t.key===this.Os){let i=this.Xs(t.newValue);yield Promise.all(i.map(r=>this.syncEngine.eo(r)))}}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,i){let r=new q0(this.currentUser,e,t,i),o=A2(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Vs())}Qs(e){let t=A2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){let t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,i){let r=xD(this.persistenceKey,e),o=new vf(e,t,i);this.setItem(r,o.Vs())}Ws(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){let t=this.Cs.exec(e);return t?t[1]:null}js(e,t){let i=this.Gs(e);return z0.Rs(i,t)}Hs(e,t){let i=this.Fs.exec(e),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return q0.Rs(new Qt(o),r,t)}Ys(e,t){let i=this.Ms.exec(e),r=Number(i[1]);return vf.Rs(r,t)}Ls(e){return WC.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return P(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);W("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){let i=t?this.Ss.insert(e,t):this.Ss.remove(e),r=this.ks(this.Ss),o=this.ks(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.io(s,a).then(()=>{this.Ss=i})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=$I();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}},W0=class{constructor(){this.so=new Ff,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ff,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var KC=class{_o(e){}shutdown(){}};var K0=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var d0=null;function RD(){return d0===null?d0=function(){return 268435456+Math.round(2147483648*Math.random())}():d0++,"0x"+d0.toString(16)}var RQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var QC=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var $n="WebChannelConnection",YC=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(t,i,r,o,s){let a=RD(),l=this.xo(t,i.toUriEncodedString());W("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,l,u,r).then(d=>(W("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw br("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Lo(t,i,r,o,s,a){return this.Mo(t,i,r,o,s)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ju}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}xo(t,i){let r=RQ[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let o=RD();return new Promise((s,a)=>{let l=new CD;l.setWithCredentials(!0),l.listenOnce(ID.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cf.NO_ERROR:let d=l.getResponseJson();W($n,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case cf.TIMEOUT:W($n,`RPC '${e}' ${o} timed out`),a(new q(L.DEADLINE_EXCEEDED,"Request time out"));break;case cf.HTTP_ERROR:let f=l.getStatus();if(W($n,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let g=m?.error;if(g&&g.status&&g.message){let D=function(T){let F=T.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(F)>=0?F:L.UNKNOWN}(g.status);a(new q(D,g.message))}else a(new q(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(L.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{W($n,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(r);W($n,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",u,i,15)})}Bo(e,t,i){let r=RD(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=AD(),a=SD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let d=o.join("");W($n,`Creating RPC '${e}' stream ${r}: ${d}`,l);let f=s.createWebChannel(d,l),m=!1,g=!1,D=new QC({Io:T=>{g?W($n,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(m||(W($n,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),W($n,`RPC '${e}' stream ${r} sending:`,T),f.send(T))},To:()=>f.close()}),I=(T,F,H)=>{T.listen(F,B=>{try{H(B)}catch(G){setTimeout(()=>{throw G},0)}})};return I(f,cu.EventType.OPEN,()=>{g||(W($n,`RPC '${e}' stream ${r} transport opened.`),D.yo())}),I(f,cu.EventType.CLOSE,()=>{g||(g=!0,W($n,`RPC '${e}' stream ${r} transport closed`),D.So())}),I(f,cu.EventType.ERROR,T=>{g||(g=!0,br($n,`RPC '${e}' stream ${r} transport errored:`,T),D.So(new q(L.UNAVAILABLE,"The operation could not be completed")))}),I(f,cu.EventType.MESSAGE,T=>{var F;if(!g){let H=T.data[0];de(!!H);let B=H,G=B.error||((F=B[0])===null||F===void 0?void 0:F.error);if(G){W($n,`RPC '${e}' stream ${r} received error:`,G);let Z=G.status,X=function(w){let S=Wt[w];if(S!==void 0)return CV(S)}(Z),C=G.message;X===void 0&&(X=L.INTERNAL,C="Unknown error status: "+Z+" with message "+G.message),g=!0,D.So(new q(X,C)),f.close()}else W($n,`RPC '${e}' stream ${r} received:`,H),D.bo(H)}}),I(a,TD.STAT_EVENT,T=>{T.stat===a0.PROXY?W($n,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===a0.NOPROXY&&W($n,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}};function ZV(){return typeof window<"u"?window:null}function g0(){return typeof document<"u"?document:null}function zf(n){return new dC(n,!0)}var Vf=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&W("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Q0=class{constructor(e,t,i,r,o,s,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Vf(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return P(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return P(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return P(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Ft(t.toString()),Ft("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new q(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>P(this,null,function*(){this.state=0,this.start()}))}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},JC=class extends Q0{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=gQ(this.serializer,e),i=function(o){if(!("targetChange"in o))return fe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?Lt(s.readTime):fe.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=pC(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=T0(l)?{documents:RV(o,l)}:{query:OV(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=TV(o,s.resumeToken);let u=hC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=Nu(o,s.snapshotVersion.toTimestamp());let u=hC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=yQ(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=pC(this.serializer),t.removeTarget=e,this.a_(t)}},ZC=class extends Q0{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return de(!!e.streamToken),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=_Q(e.writeResults,e.commitTime),i=Lt(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=pC(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>Of(this.serializer,i))};this.a_(t)}};var XC=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,fC(t,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(L.UNKNOWN,o.toString())})}Lo(e,t,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,fC(t,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(L.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},eI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ft(t),this.D_=!1):W("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var tI=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{i.enqueueAndForget(()=>P(this,null,function*(){Xs(this)&&(W("RemoteStore","Restarting streams for network reachability change."),yield function(l){return P(this,null,function*(){let u=re(l);u.L_.add(4),yield Uu(u),u.q_.set("Unknown"),u.L_.delete(4),yield Wf(u)})}(this))}))}),this.q_=new eI(i,r)}};function Wf(n){return P(this,null,function*(){if(Xs(n))for(let e of n.B_)yield e(!0)})}function Uu(n){return P(this,null,function*(){for(let e of n.B_)yield e(!1)})}function gy(n,e){let t=re(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),QI(t)?KI(t):Gu(t).r_()&&WI(t,e))}function Pu(n,e){let t=re(n),i=Gu(t);t.N_.delete(e),i.r_()&&XV(t,e),t.N_.size===0&&(i.r_()?i.o_():Xs(t)&&t.q_.set("Unknown"))}function WI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Gu(n).A_(e)}function XV(n,e){n.Q_.xe(e),Gu(n).R_(e)}function KI(n){n.Q_=new uC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Gu(n).start(),n.q_.v_()}function QI(n){return Xs(n)&&!Gu(n).n_()&&n.N_.size>0}function Xs(n){return re(n).L_.size===0}function eL(n){n.Q_=void 0}function OQ(n){return P(this,null,function*(){n.q_.set("Online")})}function PQ(n){return P(this,null,function*(){n.N_.forEach((e,t)=>{WI(n,e)})})}function kQ(n,e){return P(this,null,function*(){eL(n),QI(n)?(n.q_.M_(e),KI(n)):n.q_.set("Unknown")})}function FQ(n,e,t){return P(this,null,function*(){if(n.q_.set("Online"),e instanceof M0&&e.state===2&&e.cause)try{yield function(r,o){return P(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,e)}catch(i){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Y0(n,i)}else if(e instanceof bu?n.Q_.Ke(e):e instanceof N0?n.Q_.He(e):n.Q_.We(e),!t.isEqual(fe.min()))try{let i=yield WV(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(Bt.EMPTY_BYTE_STRING,d.snapshotVersion)),XV(o,l);let f=new Mu(d.target,l,u,d.sequenceNumber);WI(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){W("RemoteStore","Failed to raise snapshot:",i),yield Y0(n,i)}})}function Y0(n,e,t){return P(this,null,function*(){if(!Zs(e))throw e;n.L_.add(1),yield Uu(n),n.q_.set("Offline"),t||(t=()=>WV(n.localStore)),n.asyncQueue.enqueueRetryable(()=>P(this,null,function*(){W("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Wf(n)}))})}function tL(n,e){return e().catch(t=>Y0(n,t,e))}function Hu(n){return P(this,null,function*(){let e=re(n),t=Ys(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;VQ(e);)try{let r=yield NQ(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,LQ(e,r)}catch(r){yield Y0(e,r)}nL(e)&&iL(e)})}function VQ(n){return Xs(n)&&n.O_.length<10}function LQ(n,e){n.O_.push(e);let t=Ys(n);t.r_()&&t.V_&&t.m_(e.mutations)}function nL(n){return Xs(n)&&!Ys(n).n_()&&n.O_.length>0}function iL(n){Ys(n).start()}function BQ(n){return P(this,null,function*(){Ys(n).p_()})}function jQ(n){return P(this,null,function*(){let e=Ys(n);for(let t of n.O_)e.m_(t.mutations)})}function $Q(n,e,t){return P(this,null,function*(){let i=n.O_.shift(),r=aC.from(i,e,t);yield tL(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Hu(n)})}function UQ(n,e){return P(this,null,function*(){e&&Ys(n).V_&&(yield function(i,r){return P(this,null,function*(){if(function(s){return DV(s)&&s!==L.ABORTED}(r.code)){let o=i.O_.shift();Ys(i).s_(),yield tL(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Hu(i)}})}(n,e)),nL(n)&&iL(n)})}function N2(n,e){return P(this,null,function*(){let t=re(n);t.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");let i=Xs(t);t.L_.add(3),yield Uu(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Wf(t)})}function nI(n,e){return P(this,null,function*(){let t=re(n);e?(t.L_.delete(2),yield Wf(t)):e||(t.L_.add(2),yield Uu(t),t.q_.set("Unknown"))})}function Gu(n){return n.K_||(n.K_=function(t,i,r){let o=re(t);return o.w_(),new JC(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:OQ.bind(null,n),Ro:PQ.bind(null,n),mo:kQ.bind(null,n),d_:FQ.bind(null,n)}),n.B_.push(e=>P(this,null,function*(){e?(n.K_.s_(),QI(n)?KI(n):n.q_.set("Unknown")):(yield n.K_.stop(),eL(n))}))),n.K_}function Ys(n){return n.U_||(n.U_=function(t,i,r){let o=re(t);return o.w_(),new ZC(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:BQ.bind(null,n),mo:UQ.bind(null,n),f_:jQ.bind(null,n),g_:$Q.bind(null,n)}),n.B_.push(e=>P(this,null,function*(){e?(n.U_.s_(),yield Hu(n)):(yield n.U_.stop(),n.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var iI=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,a=new n(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function qu(n,e){if(Ft("AsyncQueue",`${e}: ${n}`),Zs(n))return new q(L.UNAVAILABLE,`${e}: ${n}`);throw n}var J0=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||oe.comparator(t.key,i.key):(t,i)=>oe.comparator(t.key,i.key),this.keyedMap=pf(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Z0=class{constructor(){this.W_=new ht(oe.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},ku=class n{constructor(e,t,i,r,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,J0.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var rI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},oI=class{constructor(){this.queries=M2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=re(t),o=r.queries;r.queries=M2(),o.forEach((s,a)=>{for(let l of a.j_)l.onError(i)})})(this,new q(L.ABORTED,"Firestore shutting down"))}};function M2(){return new fo(n=>cV(n),Gf)}function YI(n,e){return P(this,null,function*(){let t=re(n),i=3,r=e.query,o=t.queries.get(r);o?!o.H_()&&e.J_()&&(i=2):(o=new rI,i=e.J_()?0:1);try{switch(i){case 0:o.z_=yield t.onListen(r,!0);break;case 1:o.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(s){let a=qu(s,`Initialization of query '${mu(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&ZI(t)})}function JI(n,e){return P(this,null,function*(){let t=re(n),i=e.query,r=3,o=t.queries.get(i);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?r=e.J_()?0:1:!o.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function HQ(n,e){let t=re(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(r)&&(i=!0);s.z_=r}}i&&ZI(t)}function GQ(n,e,t){let i=re(n),r=i.queries.get(e);if(r)for(let o of r.j_)o.onError(t);i.queries.delete(e)}function ZI(n){n.Y_.forEach(e=>{e.next()})}var sI,x2;(x2=sI||(sI={})).ea="default",x2.Cache="cache";var Lf=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new ku(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==sI.Cache}};var aI=class{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}};var X0=class{constructor(e){this.serializer=e}Es(e){return lo(this.serializer,e)}ds(e){return e.metadata.exists?xV(this.serializer,e.document,!1):Yt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Lt(e)}},lI=class{constructor(e,t,i){this.ca=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rL(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;let i=$e.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){let t=new Map,i=new X0(this.serializer);for(let r of e)if(r.metadata.queries){let o=i.Es(r.metadata.name);for(let s of r.metadata.queries){let a=(t.get(s)||Ne()).add(o);t.set(s,a)}}return t}complete(){return P(this,null,function*(){let e=yield MQ(this.localStore,new X0(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(let i of this.queries)yield xQ(this.localStore,i,t.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function rL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var ey=class{constructor(e){this.key=e}},ty=class{constructor(e){this.key=e}},ny=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ne(),this.mutatedKeys=Ne(),this.Aa=dV(e),this.Ra=new J0(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new Z0,r=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{let m=r.get(d),g=qf(this.query,f)?f:null,D=!!m&&this.mutatedKeys.has(m.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),T=!1;m&&g?m.data.isEqual(g.data)?D!==I&&(i.track({type:3,doc:g}),T=!0):this.ga(m,g)||(i.track({type:2,doc:g}),T=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!m&&g?(i.track({type:0,doc:g}),T=!0):m&&!g&&(i.track({type:1,doc:m}),T=!0,(l||u)&&(a=!0)),T&&(g?(s=s.add(g),o=I?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),i.track({type:1,doc:d})}return{Ra:s,fa:i,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((d,f)=>function(g,D){let I=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return I(g)-I(D)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(i),r=r!=null&&r;let a=t&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new ku(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Z0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ne(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new ty(i))}),this.da.forEach(i=>{e.has(i)||t.push(new ey(i))}),t}ba(e){this.Ta=e.Ts,this.da=Ne();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ku.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},cI=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},uI=class{constructor(e){this.key=e,this.va=!1}},dI=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new fo(a=>cV(a),Gf),this.Ma=new Map,this.xa=new Set,this.Oa=new ht(oe.comparator),this.Na=new Map,this.La=new kf,this.Ba={},this.ka=new Map,this.qa=xu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function qQ(n,e,t=!0){return P(this,null,function*(){let i=_y(n),r,o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield oL(i,e,t,!0),r})}function zQ(n,e){return P(this,null,function*(){let t=_y(n);yield oL(t,e,!0,!1)})}function oL(n,e,t,i){return P(this,null,function*(){let r=yield Ru(n.localStore,ti(e)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return i&&(a=yield XI(n,e,o,s==="current",r.resumeToken)),n.isPrimaryClient&&t&&gy(n.remoteStore,r),a})}function XI(n,e,t,i,r){return P(this,null,function*(){n.Ka=(f,m,g)=>function(I,T,F,H){return P(this,null,function*(){let B=T.view.ma(F);B.ns&&(B=yield G0(I.localStore,T.query,!1).then(({documents:C})=>T.view.ma(C,B)));let G=H&&H.targetChanges.get(T.targetId),Z=H&&H.targetMismatches.get(T.targetId)!=null,X=T.view.applyChanges(B,I.isPrimaryClient,G,Z);return hI(I,T.targetId,X.wa),X.snapshot})}(n,f,m,g);let o=yield G0(n.localStore,e,!0),s=new ny(e,o.Ts),a=s.ma(o.documents),l=xf.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=s.applyChanges(a,n.isPrimaryClient,l);hI(n,t,u.wa);let d=new cI(e,t,s);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function WQ(n,e,t){return P(this,null,function*(){let i=re(n),r=i.Fa.get(e),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!Gf(s,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ou(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Pu(i.remoteStore,r.targetId),Fu(i,r.targetId)}).catch(Js))):(Fu(i,r.targetId),yield Ou(i.localStore,r.targetId,!0))})}function KQ(n,e){return P(this,null,function*(){let t=re(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Pu(t.remoteStore,i.targetId))})}function QQ(n,e,t){return P(this,null,function*(){let i=iT(n);try{let r=yield function(s,a){let l=re(s),u=vt.now(),d=a.reduce((g,D)=>g.add(D.key),Ne()),f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let D=_i(),I=Ne();return l.cs.getEntries(g,d).next(T=>{D=T,D.forEach((F,H)=>{H.isValidDocument()||(I=I.add(F))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,D)).next(T=>{f=T;let F=[];for(let H of a){let B=cQ(H,f.get(H.key).overlayedDocument);B!=null&&F.push(new Cr(H.key,B,nV(B.value.mapValue),St.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,F,a)}).next(T=>{m=T;let F=T.applyToLocalDocumentSet(f,I);return l.documentOverlayCache.saveOverlays(g,T.batchId,F)})}).then(()=>({batchId:m.batchId,changes:fV(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new ht(De)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(i,r.batchId,t),yield Zo(i,r.changes),yield Hu(i.remoteStore)}catch(r){let o=qu(r,"Failed to persist write");t.reject(o)}})}function sL(n,e){return P(this,null,function*(){let t=re(n);try{let i=yield AQ(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.Na.get(o);s&&(de(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?de(s.va):r.removedDocuments.size>0&&(de(s.va),s.va=!1))}),yield Zo(t,i,e)}catch(i){yield Js(i)}})}function R2(n,e,t){let i=re(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let l=re(s);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(let m of f.j_)m.Z_(a)&&(u=!0)}),u&&ZI(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function YQ(n,e,t){return P(this,null,function*(){let i=re(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),o=r&&r.key;if(o){let s=new ht(oe.comparator);s=s.insert(o,Yt.newNoDocument(o,fe.min()));let a=Ne().add(o),l=new Mf(fe.min(),new Map,new ht(De),s,a);yield sL(i,l),i.Oa=i.Oa.remove(o),i.Na.delete(e),nT(i)}else yield Ou(i.localStore,e,!1).then(()=>Fu(i,e,t)).catch(Js)})}function JQ(n,e){return P(this,null,function*(){let t=re(n),i=e.batch.batchId;try{let r=yield SQ(t.localStore,e);tT(t,i,null),eT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Zo(t,r)}catch(r){yield Js(r)}})}function ZQ(n,e,t){return P(this,null,function*(){let i=re(n);try{let r=yield function(s,a){let l=re(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(de(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(i.localStore,e);tT(i,e,t),eT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Zo(i,r)}catch(r){yield Js(r)}})}function XQ(n,e){return P(this,null,function*(){let t=re(n);Xs(t.remoteStore)||W("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(s){let a=re(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(i===-1)return void e.resolve();let r=t.ka.get(i)||[];r.push(e),t.ka.set(i,r)}catch(i){let r=qu(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function eT(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function tT(n,e,t){let i=re(n),r=i.Ba[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function Fu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||aL(n,i)})}function aL(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Pu(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),nT(n))}function hI(n,e,t){for(let i of t)i instanceof ey?(n.La.addReference(i.key,e),eY(n,i)):i instanceof ty?(W("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||aL(n,i.key)):ae()}function eY(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(W("SyncEngine","New document in limbo: "+t),n.xa.add(i),nT(n))}function nT(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new oe($e.fromString(e)),i=n.qa.next();n.Na.set(i,new uI(t)),n.Oa=n.Oa.insert(t,i),gy(n.remoteStore,new Mu(ti($u(t.path)),i,"TargetPurposeLimboResolution",Ri.oe))}}function Zo(n,e,t){return P(this,null,function*(){let i=re(n),r=[],o=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{s.push(i.Ka(l,e,t).then(u=>{var d;if((u||t)&&i.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){r.push(u);let f=GC.Wi(l.targetId,u);o.push(f)}}))}),yield Promise.all(s),i.Ca.d_(r),yield function(l,u){return P(this,null,function*(){let d=re(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>k.forEach(u,m=>k.forEach(m.$i,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>k.forEach(m.Ui,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Zs(f))throw f;W("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let m=f.targetId;if(!f.fromCache){let g=d.os.get(m),D=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(D);d.os=d.os.insert(m,I)}}})}(i.localStore,o))})}function tY(n,e){return P(this,null,function*(){let t=re(n);if(!t.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());let i=yield zV(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new q(L.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Zo(t,i.hs)}})}function nY(n,e){let t=re(n),i=t.Na.get(e);if(i&&i.va)return Ne().add(i.key);{let r=Ne(),o=t.Ma.get(e);if(!o)return r;for(let s of o){let a=t.Fa.get(s);r=r.unionWith(a.view.Va)}return r}}function iY(n,e){return P(this,null,function*(){let t=re(n),i=yield G0(t.localStore,e.query,!0),r=e.view.ba(i);return t.isPrimaryClient&&hI(t,e.targetId,r.wa),r})}function rY(n,e){return P(this,null,function*(){let t=re(n);return YV(t.localStore,e).then(i=>Zo(t,i))})}function oY(n,e,t,i){return P(this,null,function*(){let r=re(n),o=yield function(a,l){let u=re(a),d=re(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Mn(f,l).next(m=>m?u.localDocuments.getDocuments(f,m):k.resolve(null)))}(r.localStore,e);o!==null?(t==="pending"?yield Hu(r.remoteStore):t==="acknowledged"||t==="rejected"?(tT(r,e,i||null),eT(r,e),function(a,l){re(re(a).mutationQueue).On(l)}(r.localStore,e)):ae(),yield Zo(r,o)):W("SyncEngine","Cannot apply mutation batch with id: "+e)})}function sY(n,e){return P(this,null,function*(){let t=re(n);if(_y(t),iT(t),e===!0&&t.Qa!==!0){let i=t.sharedClientState.getAllActiveQueryTargets(),r=yield O2(t,i.toArray());t.Qa=!0,yield nI(t.remoteStore,!0);for(let o of r)gy(t.remoteStore,o)}else if(e===!1&&t.Qa!==!1){let i=[],r=Promise.resolve();t.Ma.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Fu(t,s),Ou(t.localStore,s,!0))),Pu(t.remoteStore,s)}),yield r,yield O2(t,i),function(s){let a=re(s);a.Na.forEach((l,u)=>{Pu(a.remoteStore,u)}),a.La.pr(),a.Na=new Map,a.Oa=new ht(oe.comparator)}(t),t.Qa=!1,yield nI(t.remoteStore,!1)}})}function O2(n,e,t){return P(this,null,function*(){let i=re(n),r=[],o=[];for(let s of e){let a,l=i.Ma.get(s);if(l&&l.length!==0){a=yield Ru(i.localStore,ti(l[0]));for(let u of l){let d=i.Fa.get(u),f=yield iY(i,d);f.snapshot&&o.push(f.snapshot)}}else{let u=yield QV(i.localStore,s);a=yield Ru(i.localStore,u),yield XI(i,lL(u),s,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(o),r})}function lL(n){return lV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function aY(n){return function(t){return re(re(t).persistence).Qi()}(re(n).localStore)}function lY(n,e,t,i){return P(this,null,function*(){let r=re(n);if(r.Qa)return void W("SyncEngine","Ignoring unexpected query state notification.");let o=r.Ma.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{let s=yield YV(r.localStore,uV(o[0])),a=Mf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Bt.EMPTY_BYTE_STRING);yield Zo(r,s,a);break}case"rejected":yield Ou(r.localStore,e,!0),Fu(r,e,i);break;default:ae()}})}function cY(n,e,t){return P(this,null,function*(){let i=_y(n);if(i.Qa){for(let r of e){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){W("SyncEngine","Adding an already active target "+r);continue}let o=yield QV(i.localStore,r),s=yield Ru(i.localStore,o);yield XI(i,lL(o),s.targetId,!1,s.resumeToken),gy(i.remoteStore,s)}for(let r of t)i.Ma.has(r)&&(yield Ou(i.localStore,r,!1).then(()=>{Pu(i.remoteStore,r),Fu(i,r)}).catch(Js))}})}function _y(n){let e=re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YQ.bind(null,e),e.Ca.d_=HQ.bind(null,e.eventManager),e.Ca.$a=GQ.bind(null,e.eventManager),e}function iT(n){let e=re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZQ.bind(null,e),e}function uY(n,e,t){let i=re(n);(function(o,s,a){return P(this,null,function*(){try{let l=yield s.getMetadata();if(yield function(g,D){let I=re(g),T=Lt(D.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",F=>I.Gr.getBundleMetadata(F,D.id)).then(F=>!!F&&F.createTime.compareTo(T)>=0)}(o.localStore,l))return yield s.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(rL(l));let u=new lI(l,o.localStore,s.serializer),d=yield s.Ua();for(;d;){let m=yield u.la(d);m&&a._updateProgress(m),d=yield s.Ua()}let f=yield u.complete();return yield Zo(o,f.Ia,void 0),yield function(g,D){let I=re(g);return I.persistence.runTransaction("Save bundle","readwrite",T=>I.Gr.saveBundleMetadata(T,D))}(o.localStore,l),a._completeWith(f.progress),Promise.resolve(f.Pa)}catch(l){return br("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var fI=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return P(this,null,function*(){this.serializer=zf(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,i){return null}Ha(t,i){return null}za(t){return qV(this.persistence,new H0,t.initialUser,this.serializer)}Ga(t){return new $0(U0.Zr,this.serializer)}Wa(t){return new W0}terminate(){return P(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var iy=class n extends fI{constructor(e,t,i){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){return P(this,null,function*(){yield Ov(n.prototype,this,"initialize").call(this,e),yield this.Ja.initialize(this,e),yield iT(this.Ja.syncEngine),yield Hu(this.Ja.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}za(e){return qV(this.persistence,new H0,e.initialUser,this.serializer)}ja(e,t){let i=this.persistence.referenceDelegate.garbageCollector;return new AC(i,e.asyncQueue,t)}Ha(e,t){let i=new qD(t,this.persistence);return new GD(e.asyncQueue,i)}Ga(e){let t=zI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Ji.withCacheSize(this.cacheSizeBytes):Ji.DEFAULT;return new HC(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,ZV(),g0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new W0}},pI=class n extends iy{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return P(this,null,function*(){yield Ov(n.prototype,this,"initialize").call(this,e);let t=this.Ja.syncEngine;this.sharedClientState instanceof Ef&&(this.sharedClientState.syncEngine={no:oY.bind(null,t),ro:lY.bind(null,t),io:cY.bind(null,t),Qi:aY.bind(null,t),eo:rY.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.yi(i=>P(this,null,function*(){yield sY(this.Ja.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}Wa(e){let t=ZV();if(!Ef.D(t))throw new q(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=zI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ef(t,e.asyncQueue,i,e.clientId,e.initialUser)}},rT=(()=>{class n{initialize(t,i){return P(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tY.bind(null,this.syncEngine),yield nI(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new oI}()}createDatastore(t){let i=zf(t.databaseInfo.databaseId),r=function(s){return new YC(s)}(t.databaseInfo);return function(s,a,l,u){return new XC(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,s,a,l){return new tI(r,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,i=>R2(this.syncEngine,i,0),function(){return K0.D()?new K0:new KC}())}createSyncEngine(t,i){return function(o,s,a,l,u,d,f){let m=new dI(o,s,a,l,u,d);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return P(this,null,function*(){var t,i;yield function(o){return P(this,null,function*(){let s=re(o);W("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Uu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();function P2(n,e=10240){let t=0;return{read(){return P(this,null,function*(){if(t<n.byteLength){let r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})},cancel(){return P(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Vu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ft("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var mI=class{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new sn,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.Xa.cancel()}getMetadata(){return P(this,null,function*(){return this.metadata.promise})}Ua(){return P(this,null,function*(){return yield this.getMetadata(),this.tu()})}tu(){return P(this,null,function*(){let e=yield this.nu();if(e===null)return null;let t=this.eu.decode(e),i=Number(t);isNaN(i)&&this.ru(`length string (${t}) is not valid number`);let r=yield this.iu(i);return new aI(JSON.parse(r),e.length+i)})}su(){return this.buffer.findIndex(e=>e===123)}nu(){return P(this,null,function*(){for(;this.su()<0&&!(yield this.ou()););if(this.buffer.length===0)return null;let e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}iu(e){return P(this,null,function*(){for(;this.buffer.length<e;)(yield this.ou())&&this.ru("Reached the end of bundle when more is expected.");let t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){return P(this,null,function*(){let e=yield this.Xa.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};var gI=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return P(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new q(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(r,o){return P(this,null,function*(){let s=re(r),a={documents:o.map(f=>Rf(s.serializer,f))},l=yield s.Lo("BatchGetDocuments",s.serializer.databaseId,$e.emptyPath(),a,o.length),u=new Map;l.forEach(f=>{let m=mQ(s.serializer,f);u.set(m.key.toString(),m)});let d=[];return o.forEach(f=>{let m=u.get(f.toString());de(!!m),d.push(m)}),d})}(this.datastore,e);return t.forEach(i=>this.recordVersion(i)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return P(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,i)=>{let r=oe.fromPath(i);this.mutations.push(new Sf(r,this.precondition(r)))}),yield function(i,r){return P(this,null,function*(){let o=re(i),s={writes:r.map(a=>Of(o.serializer,a))};yield o.Mo("Commit",o.serializer.databaseId,$e.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ae();t=fe.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new q(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(fe.min())?St.exists(!1):St.updateTime(t):St.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(fe.min()))throw new q(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return St.updateTime(t)}return St.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var _I=class{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this._u=i.maxAttempts,this.t_=new Vf(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(()=>P(this,null,function*(){let e=new gI(this.datastore),t=this.cu(e);t&&t.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.lu(r)}))}).catch(i=>{this.lu(i)})}))}cu(e){try{let t=this.updateFunction(e);return!Uf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!DV(t)}return!1}};var yI=class{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Qt.UNAUTHENTICATED,this.clientId=y0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,s=>P(this,null,function*(){W("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=qu(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function OD(n,e){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>P(this,null,function*(){i.isEqual(r)||(yield zV(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function k2(n,e){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield oT(n);W("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>N2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>N2(e.remoteStore,r)),n._onlineComponents=e})}function oT(n){return P(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{yield OD(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;br("Error using user provided cache. Falling back to memory cache: "+t),yield OD(n,new fI)}}else W("FirestoreClient","Using default OfflineComponentProvider"),yield OD(n,new fI);return n._offlineComponents})}function yy(n){return P(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),yield k2(n,n._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),yield k2(n,new rT))),n._onlineComponents})}function cL(n){return oT(n).then(e=>e.persistence)}function sT(n){return oT(n).then(e=>e.localStore)}function uL(n){return yy(n).then(e=>e.remoteStore)}function aT(n){return yy(n).then(e=>e.syncEngine)}function dY(n){return yy(n).then(e=>e.datastore)}function Lu(n){return P(this,null,function*(){let e=yield yy(n),t=e.eventManager;return t.onListen=qQ.bind(null,e.syncEngine),t.onUnlisten=WQ.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zQ.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KQ.bind(null,e.syncEngine),t})}function hY(n){return n.asyncQueue.enqueue(()=>P(this,null,function*(){let e=yield cL(n),t=yield uL(n);return e.setNetworkEnabled(!0),function(r){let o=re(r);return o.L_.delete(0),Wf(o)}(t)}))}function fY(n){return n.asyncQueue.enqueue(()=>P(this,null,function*(){let e=yield cL(n),t=yield uL(n);return e.setNetworkEnabled(!1),function(r){return P(this,null,function*(){let o=re(r);o.L_.add(0),yield Uu(o),o.q_.set("Offline")})}(t)}))}function pY(n,e){let t=new sn;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(r,o,s){return P(this,null,function*(){try{let a=yield function(u,d){let f=re(u);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,d))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new q(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=qu(a,`Failed to get document '${o} from cache`);s.reject(l)}})}(yield sT(n),e,t)})),t.promise}function dL(n,e,t={}){let i=new sn;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(o,s,a,l,u){let d=new Vu({next:m=>{d.Za(),s.enqueueAndForget(()=>JI(o,f));let g=m.docs.has(a);!g&&m.fromCache?u.reject(new q(L.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?u.reject(new q(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Lf($u(a.path),d,{includeMetadataChanges:!0,_a:!0});return YI(o,f)}(yield Lu(n),n.asyncQueue,e,t,i)})),i.promise}function mY(n,e){let t=new sn;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(r,o,s){return P(this,null,function*(){try{let a=yield G0(r,o,!0),l=new ny(o,a.Ts),u=l.ma(a.documents),d=l.applyChanges(u,!1);s.resolve(d.snapshot)}catch(a){let l=qu(a,`Failed to execute query '${o} against cache`);s.reject(l)}})}(yield sT(n),e,t)})),t.promise}function hL(n,e,t={}){let i=new sn;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(o,s,a,l,u){let d=new Vu({next:m=>{d.Za(),s.enqueueAndForget(()=>JI(o,f)),m.fromCache&&l.source==="server"?u.reject(new q(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Lf(a,d,{includeMetadataChanges:!0,_a:!0});return YI(o,f)}(yield Lu(n),n.asyncQueue,e,t,i)})),i.promise}function gY(n,e){let t=new Vu(e);return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(r,o){re(r).Y_.add(o),o.next()}(yield Lu(n),t)})),()=>{t.Za(),n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(r,o){re(r).Y_.delete(o)}(yield Lu(n),t)}))}}function _Y(n,e,t,i){let r=function(s,a){let l;return l=typeof s=="string"?IV().encode(s):s,function(d,f){return new mI(d,f)}(function(d,f){if(d instanceof Uint8Array)return P2(d,f);if(d instanceof ArrayBuffer)return P2(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(t,zf(e));n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){uY(yield aT(n),r,i)}))}function yY(n,e){return n.asyncQueue.enqueue(()=>P(this,null,function*(){return function(i,r){let o=re(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,r))}(yield sT(n),e)}))}function fL(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var F2=new Map;function lT(n,e,t){if(!t)throw new q(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cT(n,e,t,i){if(e===!0&&i===!0)throw new q(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function V2(n){if(!oe.isDocumentKey(n))throw new q(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function L2(n){if(oe.isDocumentKey(n))throw new q(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ae()}function He(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=vy(n);throw new q(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function pL(n,e){if(e<=0)throw new q(L.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var ry=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new q(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fL((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Dl=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ry({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ry(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new PD;switch(i.type){case"firstParty":return new LD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return P(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=F2.get(t);i&&(W("ComponentProvider","Removing Datastore"),F2.delete(t),i.terminate())}(this),Promise.resolve()}};function Ey(n,e,t,i={}){var r;let o=(n=He(n,Dl))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Qt.MOCK_USER;else{a=kp(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new q(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Qt(u)}n._authCredentials=new kD(new _0(a,l))}}var Nn=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},st=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},co=class n extends Nn{constructor(e,t,i){super(e,t,$u(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new oe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Kf(n,e,...t){if(n=We(n),lT("collection","path",e),n instanceof Dl){let i=$e.fromString(e,...t);return L2(i),new co(n,null,i)}{if(!(n instanceof st||n instanceof co))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child($e.fromString(e,...t));return L2(i),new co(n.firestore,null,i)}}function uT(n,e){if(n=He(n,Dl),lT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new q(L.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Nn(n,null,function(i){return new Dr($e.emptyPath(),i)}(e))}function Al(n,e,...t){if(n=We(n),arguments.length===1&&(e=y0.newId()),lT("doc","path",e),n instanceof Dl){let i=$e.fromString(e,...t);return V2(i),new st(n,null,new oe(i))}{if(!(n instanceof st||n instanceof co))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child($e.fromString(e,...t));return V2(i),new st(n.firestore,n instanceof co?n.converter:null,new oe(i))}}function Qf(n,e){return n=We(n),e=We(e),(n instanceof st||n instanceof co)&&(e instanceof st||e instanceof co)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function wy(n,e){return n=We(n),e=We(e),n instanceof Nn&&e instanceof Nn&&n.firestore===e.firestore&&Gf(n._query,e._query)&&n.converter===e.converter}var oy=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Vf(this,"async_queue_retry"),this.Vu=()=>{let i=g0();i&&W("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=g0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=g0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new sn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return P(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Zs(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw Ft("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=iI.createAndSchedule(this,e,t,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&ae()}verifyOperationInProgress(){}wu(){return P(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function vI(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}var EI=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new sn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var mL=-1,Et=class extends Dl{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new oy,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return P(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new oy(e),this._firestoreClient=void 0,yield e}})}};function gL(n,e){let t=typeof n=="object"?n:ga(),i=typeof n=="string"?n:e||"(default)",r=Bd(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=Pp("firestore");o&&Ey(r,...o)}return r}function Mn(n){if(n._terminated)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_L(n),n._firestoreClient}function _L(n){var e,t,i;let r=n._freezeSettings(),o=function(a,l,u,d){return new zD(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,fL(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new yI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}function dT(n,e){br("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return yL(n,rT.provider,{build:i=>new iy(i,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function hT(n){return P(this,null,function*(){br("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let e=n._freezeSettings();yL(n,rT.provider,{build:t=>new pI(t,e.cacheSizeBytes)})})}function yL(n,e,t){if((n=He(n,Et))._firestoreClient||n._terminated)throw new q(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new q(L.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},_L(n)}function fT(n){if(n._initialized&&!n._terminated)throw new q(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new sn;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{yield function(i){return P(this,null,function*(){if(!Us.D())return Promise.resolve();let r=i+"main";yield Us.delete(r)})}(zI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function pT(n){return function(t){let i=new sn;return t.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return XQ(yield aT(t),i)})),i.promise}(Mn(n=He(n,Et)))}function mT(n){return hY(Mn(n=He(n,Et)))}function gT(n){return fY(Mn(n=He(n,Et)))}function _T(n,e){let t=Mn(n=He(n,Et)),i=new EI;return _Y(t,n._databaseId,e,i),i}function yT(n,e){return yY(Mn(n=He(n,Et)),e).then(t=>t?new Nn(n,null,t.query):null)}var po=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Bt.fromBase64String(e))}catch(t){throw new q(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ir=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Yo=class{constructor(e){this._methodName=e}};var Cl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new q(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var Bf=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}};var vY=/^__.*__$/,wI=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ks(e,this.data,t,this.fieldTransforms)}},sy=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Cr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function vL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var ay=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ly(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(vL(this.Cu)&&vY.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},bI=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||zf(e)}Qu(e,t,i,r=!1){return new ay({Cu:e,methodName:t,qu:i,path:Vt.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Nl(n){let e=n._freezeSettings(),t=zf(n._databaseId);return new bI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function by(n,e,t,i,r,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,r);wT("Data must be an object, but it was:",s,i);let a=bL(i,s),l,u;if(o.merge)l=new Oi(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let m=SI(e,f,t);if(!s.contains(m))throw new q(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);CL(d,m)||d.push(m)}l=new Oi(d),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new wI(new Un(a),l,u)}var jf=class n extends Yo{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function EL(n,e,t){return new ay({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var DI=class n extends Yo{_toFieldTransform(e){return new El(e.path,new zs)}isEqual(e){return e instanceof n}},CI=class n extends Yo{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=EL(this,e,!0),i=this.Ku.map(o=>Ml(o,t)),r=new Ko(i);return new El(e.path,r)}isEqual(e){return e instanceof n&&Fv(this.Ku,e.Ku)}},II=class n extends Yo{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=EL(this,e,!0),i=this.Ku.map(o=>Ml(o,t)),r=new Qo(i);return new El(e.path,r)}isEqual(e){return e instanceof n&&Fv(this.Ku,e.Ku)}},TI=class n extends Yo{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){let t=new Ws(e.serializer,gV(e.serializer,this.$u));return new El(e.path,t)}isEqual(e){return e instanceof n&&this.$u===e.$u}};function vT(n,e,t,i){let r=n.Qu(1,e,t);wT("Data must be an object, but it was:",r,i);let o=[],s=Un.empty();Sl(i,(l,u)=>{let d=bT(e,l,t);u=We(u);let f=r.Nu(d);if(u instanceof jf)o.push(d);else{let m=Ml(u,f);m!=null&&(o.push(d),s.set(d,m))}});let a=new Oi(o);return new sy(s,a,r.fieldTransforms)}function ET(n,e,t,i,r,o){let s=n.Qu(1,e,t),a=[SI(e,i,t)],l=[r];if(o.length%2!=0)throw new q(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(SI(e,o[m])),l.push(o[m+1]);let u=[],d=Un.empty();for(let m=a.length-1;m>=0;--m)if(!CL(u,a[m])){let g=a[m],D=l[m];D=We(D);let I=s.Nu(g);if(D instanceof jf)u.push(g);else{let T=Ml(D,I);T!=null&&(u.push(g),d.set(g,T))}}let f=new Oi(u);return new sy(d,f,s.fieldTransforms)}function wL(n,e,t,i=!1){return Ml(t,n.Qu(i?4:3,e))}function Ml(n,e){if(DL(n=We(n)))return wT("Unsupported field value:",e,n),bL(n,e);if(n instanceof Yo)return function(i,r){if(!vL(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let l=Ml(a,r.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=We(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gV(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=vt.fromDate(i);return{timestampValue:Nu(r.serializer,o)}}if(i instanceof vt){let o=new vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nu(r.serializer,o)}}if(i instanceof Cl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof po)return{bytesValue:TV(r.serializer,i._byteString)};if(i instanceof st){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:HI(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Bf)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return UI(a.serializer,l)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${vy(i)}`)}(n,e)}function bL(n,e){let t={};return Z2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sl(n,(i,r)=>{let o=Ml(r,e.Mu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function DL(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof Cl||n instanceof po||n instanceof st||n instanceof Yo||n instanceof Bf)}function wT(n,e,t){if(!DL(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=vy(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function SI(n,e,t){if((e=We(e))instanceof Ir)return e._internalPath;if(typeof e=="string")return bT(n,e);throw ly("Field path arguments must be of type string or ",n,!1,void 0,t)}var EY=new RegExp("[~\\*/\\[\\]]");function bT(n,e,t){if(e.search(EY)>=0)throw ly(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ir(...e.split("."))._internalPath}catch{throw ly(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ly(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new q(L.INVALID_ARGUMENT,a+n+l)}function CL(n,e){return n.some(t=>t.isEqual(e))}var Il=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new AI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Dy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},AI=class extends Il{data(){return super.data()}};function Dy(n,e){return typeof e=="string"?bT(n,e):e instanceof Ir?e._internalPath:e._delegate._internalPath}function IL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $f=class{},Tl=class extends $f{};function Sr(n,e,...t){let i=[];e instanceof $f&&i.push(e),i=i.concat(t),function(o){let s=o.filter(l=>l instanceof NI).length,a=o.filter(l=>l instanceof cy).length;if(s>1||s>0&&a>0)throw new q(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var cy=class n extends Tl{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return SL(e._query,t),new Nn(e.firestore,e.converter,oC(e._query,t))}_parse(e){let t=Nl(e.firestore);return function(o,s,a,l,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){j2(f,d);let g=[];for(let D of f)g.push(B2(l,o,D));m={arrayValue:{values:g}}}else m=B2(l,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||j2(f,d),m=wL(a,s,f,d==="in"||d==="not-in");return Le.create(u,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Cy(n,e,t){let i=e,r=Dy("where",n);return cy._create(r,i,t)}var NI=class n extends $f{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ze.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let l of a)SL(s,l),s=oC(s,l)}(e._query,t),new Nn(e.firestore,e.converter,oC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var MI=class n extends Tl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(r,o,s){if(r.startAt!==null)throw new q(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new q(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yl(o,s)}(e._query,this._field,this._direction);return new Nn(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new Dr(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}};function DT(n,e="asc"){let t=e,i=Dy("orderBy",n);return MI._create(i,t)}var uy=class n extends Tl{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){return new Nn(e.firestore,e.converter,A0(e._query,this._limit,this._limitType))}};function CT(n){return pL("limit",n),uy._create("limit",n,"F")}function IT(n){return pL("limitToLast",n),uy._create("limitToLast",n,"L")}var dy=class n extends Tl{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=TL(e,this.type,this._docOrFields,this._inclusive);return new Nn(e.firestore,e.converter,function(r,o){return new Dr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(e._query,t))}};function TT(...n){return dy._create("startAt",n,!0)}function ST(...n){return dy._create("startAfter",n,!1)}var hy=class n extends Tl{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=TL(e,this.type,this._docOrFields,this._inclusive);return new Nn(e.firestore,e.converter,function(r,o){return new Dr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(e._query,t))}};function AT(...n){return hy._create("endBefore",n,!1)}function NT(...n){return hy._create("endAt",n,!0)}function TL(n,e,t,i){if(t[0]=We(t[0]),t[0]instanceof Il)return function(o,s,a,l,u){if(!l)throw new q(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of wu(o))if(f.field.isKeyField())d.push(_l(s,l.key));else{let m=l.data.field(f.field);if(py(m))throw new q(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let g=f.field.canonicalString();throw new q(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(m)}return new ho(d,u)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{let r=Nl(n.firestore);return function(s,a,l,u,d,f){let m=s.explicitOrderBy;if(d.length>m.length)throw new q(L.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let g=[];for(let D=0;D<d.length;D++){let I=d[D];if(m[D].field.isKeyField()){if(typeof I!="string")throw new q(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof I}`);if(!jI(s)&&I.indexOf("/")!==-1)throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${I}' contains a slash.`);let T=s.path.child($e.fromString(I));if(!oe.isDocumentKey(T))throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);let F=new oe(T);g.push(_l(a,F))}else{let T=wL(l,u,I);g.push(T)}}return new ho(g,f)}(n._query,n.firestore._databaseId,r,e,t,i)}}function B2(n,e,t){if(typeof(t=We(t))=="string"){if(t==="")throw new q(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jI(e)&&t.indexOf("/")!==-1)throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child($e.fromString(t));if(!oe.isDocumentKey(i))throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return _l(n,new oe(i))}if(t instanceof st)return _l(n,t._key);throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vy(t)}.`)}function j2(n,e){if(!Array.isArray(n)||n.length===0)throw new q(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SL(n,e){let t=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new q(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Bu=class{convertValue(e,t="none"){switch(gl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Sl(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;let o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>gt(s.doubleValue));return new Bf(o)}convertGeoPoint(e){return new Cl(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=LI(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Cf(e));default:return null}}convertTimestamp(e){let t=Wo(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=$e.fromString(e);de(VV(i));let r=new Gs(i.get(1),i.get(3)),o=new oe(i.popFirst(5));return r.isEqual(t)||Ft(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Iy(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var xI=class extends Bu{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,t)}};var zo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xi=class extends Il{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new js(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Dy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},js=class extends Xi{data(e={}){return super.data(e)}},Tr=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new zo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new js(this._firestore,this._userDataWriter,i.key,i,new zo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let l=new js(r._firestore,r._userDataWriter,a.doc.key,a.doc,new zo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new js(r._firestore,r._userDataWriter,a.doc.key,a.doc,new zo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:wY(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function wY(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}function Ty(n,e){return n instanceof Xi&&e instanceof Xi?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Tr&&e instanceof Tr&&n._firestore===e._firestore&&wy(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function MT(n){n=He(n,st);let e=He(n.firestore,Et);return dL(Mn(e),n._key).then(t=>LT(e,n,t))}var Jo=class extends Bu{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,t)}};function xT(n){n=He(n,st);let e=He(n.firestore,Et),t=Mn(e),i=new Jo(e);return pY(t,n._key).then(r=>new Xi(e,i,n._key,r,new zo(r!==null&&r.hasLocalMutations,!0),n.converter))}function RT(n){n=He(n,st);let e=He(n.firestore,Et);return dL(Mn(e),n._key,{source:"server"}).then(t=>LT(e,n,t))}function OT(n){n=He(n,Nn);let e=He(n.firestore,Et),t=Mn(e),i=new Jo(e);return IL(n._query),hL(t,n._query).then(r=>new Tr(e,i,n,r))}function PT(n){n=He(n,Nn);let e=He(n.firestore,Et),t=Mn(e),i=new Jo(e);return mY(t,n._query).then(r=>new Tr(e,i,n,r))}function kT(n){n=He(n,Nn);let e=He(n.firestore,Et),t=Mn(e),i=new Jo(e);return hL(t,n._query,{source:"server"}).then(r=>new Tr(e,i,n,r))}function Sy(n,e,t){n=He(n,st);let i=He(n.firestore,Et),r=Iy(n.converter,e,t);return Wu(i,[by(Nl(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,St.none())])}function Yf(n,e,t,...i){n=He(n,st);let r=He(n.firestore,Et),o=Nl(r),s;return s=typeof(e=We(e))=="string"||e instanceof Ir?ET(o,"updateDoc",n._key,e,t,i):vT(o,"updateDoc",n._key,e),Wu(r,[s.toMutation(n._key,St.exists(!0))])}function FT(n){return Wu(He(n.firestore,Et),[new Qs(n._key,St.none())])}function Ay(n,e){let t=He(n.firestore,Et),i=Al(n),r=Iy(n.converter,e);return Wu(t,[by(Nl(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,St.exists(!1))]).then(()=>i)}function zu(n,...e){var t,i,r;n=We(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||vI(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(vI(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[s+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let l,u,d;if(n instanceof st)u=He(n.firestore,Et),d=$u(n._key.path),l={next:f=>{e[s]&&e[s](LT(u,n,f))},error:e[s+1],complete:e[s+2]};else{let f=He(n,Nn);u=He(f.firestore,Et),d=f._query;let m=new Jo(u);l={next:g=>{e[s]&&e[s](new Tr(u,m,f,g))},error:e[s+1],complete:e[s+2]},IL(n._query)}return function(m,g,D,I){let T=new Vu(I),F=new Lf(g,T,D);return m.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return YI(yield Lu(m),F)})),()=>{T.Za(),m.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return JI(yield Lu(m),F)}))}}(Mn(u),d,a,l)}function VT(n,e){return gY(Mn(n=He(n,Et)),vI(e)?e:{next:e})}function Wu(n,e){return function(i,r){let o=new sn;return i.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return QQ(yield aT(i),r,o)})),o.promise}(Mn(n),e)}function LT(n,e,t){let i=t.docs.get(e._key),r=new Jo(n);return new Xi(n,r,e._key,i,new zo(t.hasPendingWrites,t.fromCache),e.converter)}var bY={maxAttempts:5};var fy=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nl(e)}set(e,t,i){this._verifyNotCommitted();let r=Ls(e,this._firestore),o=Iy(r.converter,t,i),s=by(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(s.toMutation(r._key,St.none())),this}update(e,t,i,...r){this._verifyNotCommitted();let o=Ls(e,this._firestore),s;return s=typeof(t=We(t))=="string"||t instanceof Ir?ET(this._dataReader,"WriteBatch.update",o._key,t,i,r):vT(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,St.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Ls(e,this._firestore);return this._mutations=this._mutations.concat(new Qs(t._key,St.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new q(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ls(n,e){if((n=We(n)).firestore!==e)throw new q(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var RI=class extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Nl(t)}get(t){let i=Ls(t,this._firestore),r=new xI(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||o.length!==1)return ae();let s=o[0];if(s.isFoundDocument())return new Il(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new Il(this._firestore,r,i._key,null,i.converter);throw ae()})}set(t,i,r){let o=Ls(t,this._firestore),s=Iy(o.converter,i,r),a=by(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){let s=Ls(t,this._firestore),a;return a=typeof(i=We(i))=="string"||i instanceof Ir?ET(this._dataReader,"Transaction.update",s._key,i,r,o):vT(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){let i=Ls(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=Ls(e,this._firestore),i=new Jo(this._firestore);return super.get(e).then(r=>new Xi(this._firestore,i,t._key,r._document,new zo(!1,!1),t.converter))}};function BT(n,e,t){n=He(n,Et);let i=Object.assign(Object.assign({},bY),t);return function(o){if(o.maxAttempts<1)throw new q(L.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){let l=new sn;return o.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){let u=yield dY(o);new _I(o.asyncQueue,u,a,s,l).au()})),l.promise}(Mn(n),r=>e(new RI(n,r)),i)}function jT(){return new jf("deleteField")}function Ny(){return new DI("serverTimestamp")}function $T(...n){return new CI("arrayUnion",n)}function UT(...n){return new II("arrayRemove",n)}function HT(n){return new TI("increment",n)}(function(e,t=!0){(function(r){ju=r})(Bp),ma(new Eo("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Et(new FD(i.getProvider("auth-internal")),new jD(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gs(u.options.projectId,d)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Zt(LF,"4.7.3",e),Zt(LF,"4.7.3","esm2017")})();var My=function(){return My=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},My.apply(this,arguments)};var CY={includeMetadataChanges:!1};function AL(n,e){return e===void 0&&(e=CY),new pe(function(t){var i=zu(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function NL(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:My(My({},i),(t={},t[e.idField]=n.id,t))}function ML(n){return AL(n,{includeMetadataChanges:!0}).pipe(ce(function(e){return e.docs}))}function xL(n,e){return e===void 0&&(e={}),ML(n).pipe(ce(function(t){return t.map(function(i){return NL(i,e)})}))}var Ar=class{constructor(e){return e}},RL="firestore",GT=class{constructor(){return Wh(RL)}};var qT=new se("angularfire2.firestore-instances");function IY(n,e){let t=F_(RL,n,e);return t&&new Ar(t)}function TY(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Ar(i)}}var SY={provide:GT,deps:[[new dn,qT]]},AY={provide:Ar,useFactory:IY,deps:[[new dn,qT],Bo]};function OL(n,...e){return Zt("angularfire",pi.full,"fst"),vs([AY,SY,{provide:qT,useFactory:TY(n),multi:!0,deps:[ye,Ye,io,Qa,[new dn,Kh],[new dn,yr],...e]}])}var Ku=Bn(xL,!0);var Qu=Bn(Ay,!0);var Xo=Bn(Kf,!0);var Jf=Bn(Al,!0);var PL=Bn(gL,!0);var Yu=Bn(Sr,!0);var xl=Bn(Ny,!0);var Zf=Bn(Yf,!0);var xy=Bn(Cy,!0);var ea=new Map,WT={set(n,e,t){ea.has(n)||ea.set(n,new Map);let i=ea.get(n);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,t)},get(n,e){return ea.has(n)&&ea.get(n).get(e)||null},remove(n,e){if(!ea.has(n))return;let t=ea.get(n);t.delete(e),t.size===0&&ea.delete(n)}},NY=1e6,MY=1e3,lS="transitionend",c3=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),xY=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),RY=n=>{do n+=Math.floor(Math.random()*NY);while(document.getElementById(n));return n},OY=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n),i=Number.parseFloat(e),r=Number.parseFloat(t);return!i&&!r?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*MY)},u3=n=>{n.dispatchEvent(new Event(lS))},es=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),ta=n=>es(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(c3(n)):null,id=n=>{if(!es(n)||n.getClientRects().length===0)return!1;let e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){let i=n.closest("summary");if(i&&i.parentNode!==t||i===null)return!1}return e},na=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",d3=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){let e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?d3(n.parentNode):null},jy=()=>{},rp=n=>{n.offsetHeight},h3=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,KT=[],PY=n=>{document.readyState==="loading"?(KT.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of KT)e()}),KT.push(n)):n()},er=()=>document.documentElement.dir==="rtl",nr=n=>{PY(()=>{let e=h3();if(e){let t=n.NAME,i=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=i,n.jQueryInterface)}})},yi=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,f3=(n,e,t=!0)=>{if(!t){yi(n);return}let r=OY(e)+5,o=!1,s=({target:a})=>{a===e&&(o=!0,e.removeEventListener(lS,s),yi(n))};e.addEventListener(lS,s),setTimeout(()=>{o||u3(e)},r)},fS=(n,e,t,i)=>{let r=n.length,o=n.indexOf(e);return o===-1?!t&&i?n[r-1]:n[0]:(o+=t?1:-1,i&&(o=(o+r)%r),n[Math.max(0,Math.min(o,r-1))])},kY=/[^.]*(?=\..*)\.|.*/,FY=/\..*/,VY=/::\d+$/,QT={},kL=1,p3={mouseenter:"mouseover",mouseleave:"mouseout"},LY=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function m3(n,e){return e&&`${e}::${kL++}`||n.uidEvent||kL++}function g3(n){let e=m3(n);return n.uidEvent=e,QT[e]=QT[e]||{},QT[e]}function BY(n,e){return function t(i){return pS(i,{delegateTarget:n}),t.oneOff&&Q.off(n,i.type,e),e.apply(n,[i])}}function jY(n,e,t){return function i(r){let o=n.querySelectorAll(e);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(let a of o)if(a===s)return pS(r,{delegateTarget:s}),i.oneOff&&Q.off(n,r.type,e,t),t.apply(s,[r])}}function _3(n,e,t=null){return Object.values(n).find(i=>i.callable===e&&i.delegationSelector===t)}function y3(n,e,t){let i=typeof e=="string",r=i?t:e||t,o=v3(n);return LY.has(o)||(o=n),[i,r,o]}function FL(n,e,t,i,r){if(typeof e!="string"||!n)return;let[o,s,a]=y3(e,t,i);e in p3&&(s=(D=>function(I){if(!I.relatedTarget||I.relatedTarget!==I.delegateTarget&&!I.delegateTarget.contains(I.relatedTarget))return D.call(this,I)})(s));let l=g3(n),u=l[a]||(l[a]={}),d=_3(u,s,o?t:null);if(d){d.oneOff=d.oneOff&&r;return}let f=m3(s,e.replace(kY,"")),m=o?jY(n,t,s):BY(n,s);m.delegationSelector=o?t:null,m.callable=s,m.oneOff=r,m.uidEvent=f,u[f]=m,n.addEventListener(a,m,o)}function cS(n,e,t,i,r){let o=_3(e[t],i,r);o&&(n.removeEventListener(t,o,!!r),delete e[t][o.uidEvent])}function $Y(n,e,t,i){let r=e[t]||{};for(let[o,s]of Object.entries(r))o.includes(i)&&cS(n,e,t,s.callable,s.delegationSelector)}function v3(n){return n=n.replace(FY,""),p3[n]||n}var Q={on(n,e,t,i){FL(n,e,t,i,!1)},one(n,e,t,i){FL(n,e,t,i,!0)},off(n,e,t,i){if(typeof e!="string"||!n)return;let[r,o,s]=y3(e,t,i),a=s!==e,l=g3(n),u=l[s]||{},d=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(u).length)return;cS(n,l,s,o,r?t:null);return}if(d)for(let f of Object.keys(l))$Y(n,l,f,e.slice(1));for(let[f,m]of Object.entries(u)){let g=f.replace(VY,"");(!a||e.includes(g))&&cS(n,l,s,m.callable,m.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;let i=h3(),r=v3(e),o=e!==r,s=null,a=!0,l=!0,u=!1;o&&i&&(s=i.Event(e,t),i(n).trigger(s),a=!s.isPropagationStopped(),l=!s.isImmediatePropagationStopped(),u=s.isDefaultPrevented());let d=pS(new Event(e,{bubbles:a,cancelable:!0}),t);return u&&d.preventDefault(),l&&n.dispatchEvent(d),d.defaultPrevented&&s&&s.preventDefault(),d}};function pS(n,e={}){for(let[t,i]of Object.entries(e))try{n[t]=i}catch{Object.defineProperty(n,t,{configurable:!0,get(){return i}})}return n}function VL(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function YT(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var ts={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${YT(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${YT(e)}`)},getDataAttributes(n){if(!n)return{};let e={},t=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(let i of t){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=VL(n.dataset[i])}return e},getDataAttribute(n,e){return VL(n.getAttribute(`data-bs-${YT(e)}`))}},Pl=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let i=es(t)?ts.getDataAttribute(t,"config"):{};return Y(Y(Y(Y({},this.constructor.Default),typeof i=="object"?i:{}),es(t)?ts.getDataAttributes(t):{}),typeof e=="object"?e:{})}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[i,r]of Object.entries(t)){let o=e[i],s=es(o)?"element":xY(o);if(!new RegExp(r).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${r}".`)}}},UY="5.3.3",Pi=class extends Pl{constructor(e,t){super(),e=ta(e),e&&(this._element=e,this._config=this._getConfig(t),WT.set(this._element,this.constructor.DATA_KEY,this))}dispose(){WT.remove(this._element,this.constructor.DATA_KEY),Q.off(this._element,this.constructor.EVENT_KEY);for(let e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){f3(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return WT.get(ta(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return UY}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}},JT=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>c3(t)).join(","):null},ge={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){let t=[],i=n.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!na(t)&&id(t))},getSelectorFromElement(n){let e=JT(n);return e&&ge.findOne(e)?e:null},getElementFromSelector(n){let e=JT(n);return e?ge.findOne(e):null},getMultipleElementsFromSelector(n){let e=JT(n);return e?ge.find(e):[]}},Yy=(n,e="hide")=>{let t=`click.dismiss${n.EVENT_KEY}`,i=n.NAME;Q.on(document,t,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),na(this))return;let o=ge.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(o)[e]()})},HY="alert",GY="bs.alert",E3=`.${GY}`,qY=`close${E3}`,zY=`closed${E3}`,WY="fade",KY="show",$y=class n extends Pi{static get NAME(){return HY}close(){if(Q.trigger(this._element,qY).defaultPrevented)return;this._element.classList.remove(KY);let t=this._element.classList.contains(WY);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),Q.trigger(this._element,zY),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Yy($y,"close");nr($y);var QY="button",YY="bs.button",JY=`.${YY}`,ZY=".data-api",XY="active",LL='[data-bs-toggle="button"]',eJ=`click${JY}${ZY}`,Uy=class n extends Pi{static get NAME(){return QY}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(XY))}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};Q.on(document,eJ,LL,n=>{n.preventDefault();let e=n.target.closest(LL);Uy.getOrCreateInstance(e).toggle()});nr(Uy);var tJ="swipe",rd=".bs.swipe",nJ=`touchstart${rd}`,iJ=`touchmove${rd}`,rJ=`touchend${rd}`,oJ=`pointerdown${rd}`,sJ=`pointerup${rd}`,aJ="touch",lJ="pen",cJ="pointer-event",uJ=40,dJ={endCallback:null,leftCallback:null,rightCallback:null},hJ={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},Hy=class n extends Pl{constructor(e,t){super(),this._element=e,!(!e||!n.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return dJ}static get DefaultType(){return hJ}static get NAME(){return tJ}dispose(){Q.off(this._element,rd)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),yi(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=uJ)return;let t=e/this._deltaX;this._deltaX=0,t&&yi(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Q.on(this._element,oJ,e=>this._start(e)),Q.on(this._element,sJ,e=>this._end(e)),this._element.classList.add(cJ)):(Q.on(this._element,nJ,e=>this._start(e)),Q.on(this._element,iJ,e=>this._move(e)),Q.on(this._element,rJ,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===lJ||e.pointerType===aJ)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},fJ="carousel",pJ="bs.carousel",oa=`.${pJ}`,w3=".data-api",mJ="ArrowLeft",gJ="ArrowRight",_J=500,Xf="next",Ju="prev",Xu="left",Ly="right",yJ=`slide${oa}`,ZT=`slid${oa}`,vJ=`keydown${oa}`,EJ=`mouseenter${oa}`,wJ=`mouseleave${oa}`,bJ=`dragstart${oa}`,DJ=`load${oa}${w3}`,CJ=`click${oa}${w3}`,b3="carousel",Ry="active",IJ="slide",TJ="carousel-item-end",SJ="carousel-item-start",AJ="carousel-item-next",NJ="carousel-item-prev",D3=".active",C3=".carousel-item",MJ=D3+C3,xJ=".carousel-item img",RJ=".carousel-indicators",OJ="[data-bs-slide], [data-bs-slide-to]",PJ='[data-bs-ride="carousel"]',kJ={[mJ]:Ly,[gJ]:Xu},FJ={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},VJ={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},tp=class n extends Pi{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ge.findOne(RJ,this._element),this._addEventListeners(),this._config.ride===b3&&this.cycle()}static get Default(){return FJ}static get DefaultType(){return VJ}static get NAME(){return fJ}next(){this._slide(Xf)}nextWhenVisible(){!document.hidden&&id(this._element)&&this.next()}prev(){this._slide(Ju)}pause(){this._isSliding&&u3(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Q.one(this._element,ZT,()=>this.cycle());return}this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){Q.one(this._element,ZT,()=>this.to(e));return}let i=this._getItemIndex(this._getActive());if(i===e)return;let r=e>i?Xf:Ju;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Q.on(this._element,vJ,e=>this._keydown(e)),this._config.pause==="hover"&&(Q.on(this._element,EJ,()=>this.pause()),Q.on(this._element,wJ,()=>this._maybeEnableCycle())),this._config.touch&&Hy.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let i of ge.find(xJ,this._element))Q.on(i,bJ,r=>r.preventDefault());let t={leftCallback:()=>this._slide(this._directionToOrder(Xu)),rightCallback:()=>this._slide(this._directionToOrder(Ly)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),_J+this._config.interval))}};this._swipeHelper=new Hy(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=kJ[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=ge.findOne(D3,this._indicatorsElement);t.classList.remove(Ry),t.removeAttribute("aria-current");let i=ge.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(Ry),i.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let i=this._getActive(),r=e===Xf,o=t||fS(this._getItems(),i,r,this._config.wrap);if(o===i)return;let s=this._getItemIndex(o),a=g=>Q.trigger(this._element,g,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:s});if(a(yJ).defaultPrevented||!i||!o)return;let u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;let d=r?SJ:TJ,f=r?AJ:NJ;o.classList.add(f),rp(o),i.classList.add(d),o.classList.add(d);let m=()=>{o.classList.remove(d,f),o.classList.add(Ry),i.classList.remove(Ry,f,d),this._isSliding=!1,a(ZT)};this._queueCallback(m,i,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(IJ)}_getActive(){return ge.findOne(MJ,this._element)}_getItems(){return ge.find(C3,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return er()?e===Xu?Ju:Xf:e===Xu?Xf:Ju}_orderToDirection(e){return er()?e===Ju?Xu:Ly:e===Ju?Ly:Xu}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Q.on(document,CJ,OJ,function(n){let e=ge.getElementFromSelector(this);if(!e||!e.classList.contains(b3))return;n.preventDefault();let t=tp.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){t.to(i),t._maybeEnableCycle();return}if(ts.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});Q.on(window,DJ,()=>{let n=ge.find(PJ);for(let e of n)tp.getOrCreateInstance(e)});nr(tp);var LJ="collapse",BJ="bs.collapse",op=`.${BJ}`,jJ=".data-api",$J=`show${op}`,UJ=`shown${op}`,HJ=`hide${op}`,GJ=`hidden${op}`,qJ=`click${op}${jJ}`,XT="show",td="collapse",Oy="collapsing",zJ="collapsed",WJ=`:scope .${td} .${td}`,KJ="collapse-horizontal",QJ="width",YJ="height",JJ=".collapse.show, .collapse.collapsing",uS='[data-bs-toggle="collapse"]',ZJ={parent:null,toggle:!0},XJ={parent:"(null|element)",toggle:"boolean"},Gy=class n extends Pi{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];let i=ge.find(uS);for(let r of i){let o=ge.getSelectorFromElement(r),s=ge.find(o).filter(a=>a===this._element);o!==null&&s.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ZJ}static get DefaultType(){return XJ}static get NAME(){return LJ}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(JJ).filter(a=>a!==this._element).map(a=>n.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||Q.trigger(this._element,$J).defaultPrevented)return;for(let a of e)a.hide();let i=this._getDimension();this._element.classList.remove(td),this._element.classList.add(Oy),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(Oy),this._element.classList.add(td,XT),this._element.style[i]="",Q.trigger(this._element,UJ)},s=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||Q.trigger(this._element,HJ).defaultPrevented)return;let t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,rp(this._element),this._element.classList.add(Oy),this._element.classList.remove(td,XT);for(let r of this._triggerArray){let o=ge.getElementFromSelector(r);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(Oy),this._element.classList.add(td),Q.trigger(this._element,GJ)};this._element.style[t]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(XT)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=ta(e.parent),e}_getDimension(){return this._element.classList.contains(KJ)?QJ:YJ}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren(uS);for(let t of e){let i=ge.getElementFromSelector(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){let t=ge.find(WJ,this._config.parent);return ge.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let i of e)i.classList.toggle(zJ,!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let i=n.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}};Q.on(document,qJ,uS,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(let e of ge.getMultipleElementsFromSelector(this))Gy.getOrCreateInstance(e,{toggle:!1}).toggle()});nr(Gy);var BL="dropdown",eZ="bs.dropdown",kl=`.${eZ}`,mS=".data-api",tZ="Escape",jL="Tab",nZ="ArrowUp",$L="ArrowDown",iZ=2,rZ=`hide${kl}`,oZ=`hidden${kl}`,sZ=`show${kl}`,aZ=`shown${kl}`,I3=`click${kl}${mS}`,T3=`keydown${kl}${mS}`,lZ=`keyup${kl}${mS}`,ed="show",cZ="dropup",uZ="dropend",dZ="dropstart",hZ="dropup-center",fZ="dropdown-center",Rl='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',pZ=`${Rl}.${ed}`,By=".dropdown-menu",mZ=".navbar",gZ=".navbar-nav",_Z=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",yZ=er()?"top-end":"top-start",vZ=er()?"top-start":"top-end",EZ=er()?"bottom-end":"bottom-start",wZ=er()?"bottom-start":"bottom-end",bZ=er()?"left-start":"right-start",DZ=er()?"right-start":"left-start",CZ="top",IZ="bottom",TZ={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},SZ={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},ia=class n extends Pi{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=ge.next(this._element,By)[0]||ge.prev(this._element,By)[0]||ge.findOne(By,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return TZ}static get DefaultType(){return SZ}static get NAME(){return BL}toggle(){return this._isShown()?this.hide():this.show()}show(){if(na(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!Q.trigger(this._element,sZ,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(gZ))for(let i of[].concat(...document.body.children))Q.on(i,"mouseover",jy);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ed),this._element.classList.add(ed),Q.trigger(this._element,aZ,e)}}hide(){if(na(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Q.trigger(this._element,rZ,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))Q.off(i,"mouseover",jy);this._popper&&this._popper.destroy(),this._menu.classList.remove(ed),this._element.classList.remove(ed),this._element.setAttribute("aria-expanded","false"),ts.removeDataAttribute(this._menu,"popper"),Q.trigger(this._element,oZ,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!es(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${BL.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof W_>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:es(this._config.reference)?e=ta(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=af(e,this._menu,t)}_isShown(){return this._menu.classList.contains(ed)}_getPlacement(){let e=this._parent;if(e.classList.contains(uZ))return bZ;if(e.classList.contains(dZ))return DZ;if(e.classList.contains(hZ))return CZ;if(e.classList.contains(fZ))return IZ;let t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(cZ)?t?vZ:yZ:t?wZ:EZ}_detectNavbar(){return this._element.closest(mZ)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ts.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),Y(Y({},e),yi(this._config.popperConfig,[e]))}_selectMenuItem({key:e,target:t}){let i=ge.find(_Z,this._menu).filter(r=>id(r));i.length&&fS(i,t,e===$L,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===iZ||e.type==="keyup"&&e.key!==jL)return;let t=ge.find(pZ);for(let i of t){let r=n.getInstance(i);if(!r||r._config.autoClose===!1)continue;let o=e.composedPath(),s=o.includes(r._menu);if(o.includes(r._element)||r._config.autoClose==="inside"&&!s||r._config.autoClose==="outside"&&s||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===jL||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let a={relatedTarget:r._element};e.type==="click"&&(a.clickEvent=e),r._completeHide(a)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),i=e.key===tZ,r=[nZ,$L].includes(e.key);if(!r&&!i||t&&!i)return;e.preventDefault();let o=this.matches(Rl)?this:ge.prev(this,Rl)[0]||ge.next(this,Rl)[0]||ge.findOne(Rl,e.delegateTarget.parentNode),s=n.getOrCreateInstance(o);if(r){e.stopPropagation(),s.show(),s._selectMenuItem(e);return}s._isShown()&&(e.stopPropagation(),s.hide(),o.focus())}};Q.on(document,T3,Rl,ia.dataApiKeydownHandler);Q.on(document,T3,By,ia.dataApiKeydownHandler);Q.on(document,I3,ia.clearMenus);Q.on(document,lZ,ia.clearMenus);Q.on(document,I3,Rl,function(n){n.preventDefault(),ia.getOrCreateInstance(this).toggle()});nr(ia);var S3="backdrop",AZ="fade",UL="show",HL=`mousedown.bs.${S3}`,NZ={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},MZ={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},qy=class extends Pl{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return NZ}static get DefaultType(){return MZ}static get NAME(){return S3}show(e){if(!this._config.isVisible){yi(e);return}this._append();let t=this._getElement();this._config.isAnimated&&rp(t),t.classList.add(UL),this._emulateAnimation(()=>{yi(e)})}hide(e){if(!this._config.isVisible){yi(e);return}this._getElement().classList.remove(UL),this._emulateAnimation(()=>{this.dispose(),yi(e)})}dispose(){this._isAppended&&(Q.off(this._element,HL),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(AZ),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=ta(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),Q.on(e,HL,()=>{yi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){f3(e,this._getElement(),this._config.isAnimated)}},xZ="focustrap",RZ="bs.focustrap",zy=`.${RZ}`,OZ=`focusin${zy}`,PZ=`keydown.tab${zy}`,kZ="Tab",FZ="forward",GL="backward",VZ={autofocus:!0,trapElement:null},LZ={autofocus:"boolean",trapElement:"element"},Wy=class extends Pl{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return VZ}static get DefaultType(){return LZ}static get NAME(){return xZ}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Q.off(document,zy),Q.on(document,OZ,e=>this._handleFocusin(e)),Q.on(document,PZ,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Q.off(document,zy))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let i=ge.focusableChildren(t);i.length===0?t.focus():this._lastTabNavDirection===GL?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===kZ&&(this._lastTabNavDirection=e.shiftKey?GL:FZ)}},qL=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",zL=".sticky-top",Py="padding-right",WL="margin-right",np=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Py,t=>t+e),this._setElementAttributes(qL,Py,t=>t+e),this._setElementAttributes(zL,WL,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Py),this._resetElementAttributes(qL,Py),this._resetElementAttributes(zL,WL)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){let r=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+r)return;this._saveInitialAttribute(s,t);let a=window.getComputedStyle(s).getPropertyValue(t);s.style.setProperty(t,`${i(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,t){let i=e.style.getPropertyValue(t);i&&ts.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){let i=r=>{let o=ts.getDataAttribute(r,t);if(o===null){r.style.removeProperty(t);return}ts.removeDataAttribute(r,t),r.style.setProperty(t,o)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,t){if(es(e)){t(e);return}for(let i of ge.find(e,this._element))t(i)}},BZ="modal",jZ="bs.modal",tr=`.${jZ}`,$Z=".data-api",UZ="Escape",HZ=`hide${tr}`,GZ=`hidePrevented${tr}`,A3=`hidden${tr}`,N3=`show${tr}`,qZ=`shown${tr}`,zZ=`resize${tr}`,WZ=`click.dismiss${tr}`,KZ=`mousedown.dismiss${tr}`,QZ=`keydown.dismiss${tr}`,YZ=`click${tr}${$Z}`,KL="modal-open",JZ="fade",QL="show",eS="modal-static",ZZ=".modal.show",XZ=".modal-dialog",eX=".modal-body",tX='[data-bs-toggle="modal"]',nX={backdrop:!0,focus:!0,keyboard:!0},iX={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},Hn=class n extends Pi{constructor(e,t){super(e,t),this._dialog=ge.findOne(XZ,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new np,this._addEventListeners()}static get Default(){return nX}static get DefaultType(){return iX}static get NAME(){return BZ}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Q.trigger(this._element,N3,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(KL),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Q.trigger(this._element,HZ).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(QL),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Q.off(window,tr),Q.off(this._dialog,tr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new qy({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Wy({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=ge.findOne(eX,this._dialog);t&&(t.scrollTop=0),rp(this._element),this._element.classList.add(QL);let i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Q.trigger(this._element,qZ,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){Q.on(this._element,QZ,e=>{if(e.key===UZ){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Q.on(window,zZ,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Q.on(this._element,KZ,e=>{Q.one(this._element,WZ,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(KL),this._resetAdjustments(),this._scrollBar.reset(),Q.trigger(this._element,A3)})}_isAnimated(){return this._element.classList.contains(JZ)}_triggerBackdropTransition(){if(Q.trigger(this._element,GZ).defaultPrevented)return;let t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(eS)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(eS),this._queueCallback(()=>{this._element.classList.remove(eS),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){let r=er()?"paddingLeft":"paddingRight";this._element.style[r]=`${t}px`}if(!i&&e){let r=er()?"paddingRight":"paddingLeft";this._element.style[r]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let i=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}};Q.on(document,YZ,tX,function(n){let e=ge.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Q.one(e,N3,r=>{r.defaultPrevented||Q.one(e,A3,()=>{id(this)&&this.focus()})});let t=ge.findOne(ZZ);t&&Hn.getInstance(t).hide(),Hn.getOrCreateInstance(e).toggle(this)});Yy(Hn);nr(Hn);var rX="offcanvas",oX="bs.offcanvas",ns=`.${oX}`,M3=".data-api",sX=`load${ns}${M3}`,aX="Escape",YL="show",JL="showing",ZL="hiding",lX="offcanvas-backdrop",x3=".offcanvas.show",cX=`show${ns}`,uX=`shown${ns}`,dX=`hide${ns}`,XL=`hidePrevented${ns}`,R3=`hidden${ns}`,hX=`resize${ns}`,fX=`click${ns}${M3}`,pX=`keydown.dismiss${ns}`,mX='[data-bs-toggle="offcanvas"]',gX={backdrop:!0,keyboard:!0,scroll:!1},_X={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},ra=class n extends Pi{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return gX}static get DefaultType(){return _X}static get NAME(){return rX}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Q.trigger(this._element,cX,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new np().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(JL);let i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(YL),this._element.classList.remove(JL),Q.trigger(this._element,uX,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||Q.trigger(this._element,dX).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ZL),this._backdrop.hide();let t=()=>{this._element.classList.remove(YL,ZL),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new np().reset(),Q.trigger(this._element,R3)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{if(this._config.backdrop==="static"){Q.trigger(this._element,XL);return}this.hide()},t=!!this._config.backdrop;return new qy({className:lX,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new Wy({trapElement:this._element})}_addEventListeners(){Q.on(this._element,pX,e=>{if(e.key===aX){if(this._config.keyboard){this.hide();return}Q.trigger(this._element,XL)}})}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Q.on(document,fX,mX,function(n){let e=ge.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),na(this))return;Q.one(e,R3,()=>{id(this)&&this.focus()});let t=ge.findOne(x3);t&&t!==e&&ra.getInstance(t).hide(),ra.getOrCreateInstance(e).toggle(this)});Q.on(window,sX,()=>{for(let n of ge.find(x3))ra.getOrCreateInstance(n).show()});Q.on(window,hX,()=>{for(let n of ge.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&ra.getOrCreateInstance(n).hide()});Yy(ra);nr(ra);var yX=/^aria-[\w-]*$/i,O3={"*":["class","dir","id","lang","role",yX],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},vX=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),EX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,wX=(n,e)=>{let t=n.nodeName.toLowerCase();return e.includes(t)?vX.has(t)?!!EX.test(n.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(t))};function bX(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);let r=new window.DOMParser().parseFromString(n,"text/html"),o=[].concat(...r.body.querySelectorAll("*"));for(let s of o){let a=s.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){s.remove();continue}let l=[].concat(...s.attributes),u=[].concat(e["*"]||[],e[a]||[]);for(let d of l)wX(d,u)||s.removeAttribute(d.nodeName)}return r.body.innerHTML}var DX="TemplateFactory",CX={allowList:O3,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},IX={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},TX={entry:"(string|element|function|null)",selector:"(string|element)"},dS=class extends Pl{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return CX}static get DefaultType(){return IX}static get NAME(){return DX}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content=Y(Y({},this._config.content),e),this}toHtml(){let e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(let[r,o]of Object.entries(this._config.content))this._setContent(e,o,r);let t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},TX)}_setContent(e,t,i){let r=ge.findOne(i,e);if(r){if(t=this._resolvePossibleFunction(t),!t){r.remove();return}if(es(t)){this._putElementInTemplate(ta(t),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(t);return}r.textContent=t}}_maybeSanitize(e){return this._config.sanitize?bX(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return yi(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}},SX="tooltip",AX=new Set(["sanitize","allowList","sanitizeFn"]),tS="fade",NX="modal",ky="show",MX=".tooltip-inner",e3=`.${NX}`,t3="hide.bs.modal",ep="hover",nS="focus",xX="click",RX="manual",OX="hide",PX="hidden",kX="show",FX="shown",VX="inserted",LX="click",BX="focusin",jX="focusout",$X="mouseenter",UX="mouseleave",HX={AUTO:"auto",TOP:"top",RIGHT:er()?"left":"right",BOTTOM:"bottom",LEFT:er()?"right":"left"},GX={allowList:O3,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},qX={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},nd=class n extends Pi{constructor(e,t){if(typeof W_>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return GX}static get DefaultType(){return qX}static get NAME(){return SX}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Q.off(this._element.closest(e3),t3,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=Q.trigger(this._element,this.constructor.eventName(kX)),i=(d3(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();let r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));let{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(r),Q.trigger(this._element,this.constructor.eventName(VX))),this._popper=this._createPopper(r),r.classList.add(ky),"ontouchstart"in document.documentElement)for(let a of[].concat(...document.body.children))Q.on(a,"mouseover",jy);let s=()=>{Q.trigger(this._element,this.constructor.eventName(FX)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Q.trigger(this._element,this.constructor.eventName(OX)).defaultPrevented)return;if(this._getTipElement().classList.remove(ky),"ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))Q.off(r,"mouseover",jy);this._activeTrigger[xX]=!1,this._activeTrigger[nS]=!1,this._activeTrigger[ep]=!1,this._isHovered=null;let i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Q.trigger(this._element,this.constructor.eventName(PX)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(tS,ky),t.classList.add(`bs-${this.constructor.NAME}-auto`);let i=RY(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(tS),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new dS(Me(Y({},this._config),{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[MX]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(tS)}_isShown(){return this.tip&&this.tip.classList.contains(ky)}_createPopper(e){let t=yi(this._config.placement,[this,e,this._element]),i=HX[t.toUpperCase()];return af(this._element,e,this._getPopperConfig(i))}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return yi(e,[this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return Y(Y({},t),yi(this._config.popperConfig,[t]))}_setListeners(){let e=this._config.trigger.split(" ");for(let t of e)if(t==="click")Q.on(this._element,this.constructor.eventName(LX),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(t!==RX){let i=t===ep?this.constructor.eventName($X):this.constructor.eventName(BX),r=t===ep?this.constructor.eventName(UX):this.constructor.eventName(jX);Q.on(this._element,i,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?nS:ep]=!0,s._enter()}),Q.on(this._element,r,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?nS:ep]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Q.on(this._element.closest(e3),t3,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=ts.getDataAttributes(this._element);for(let i of Object.keys(t))AX.has(i)&&delete t[i];return e=Y(Y({},t),typeof e=="object"&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:ta(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};nr(nd);var zX="popover",WX=".popover-header",KX=".popover-body",QX=Me(Y({},nd.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),YX=Me(Y({},nd.DefaultType),{content:"(null|string|element|function)"}),hS=class n extends nd{static get Default(){return QX}static get DefaultType(){return YX}static get NAME(){return zX}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[WX]:this._getTitle(),[KX]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};nr(hS);var JX="scrollspy",ZX="bs.scrollspy",gS=`.${ZX}`,XX=".data-api",eee=`activate${gS}`,n3=`click${gS}`,tee=`load${gS}${XX}`,nee="dropdown-item",Zu="active",iee='[data-bs-spy="scroll"]',iS="[href]",ree=".nav, .list-group",i3=".nav-link",oee=".nav-item",see=".list-group-item",aee=`${i3}, ${oee} > ${i3}, ${see}`,lee=".dropdown",cee=".dropdown-toggle",uee={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},dee={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},Ky=class n extends Pi{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return uee}static get DefaultType(){return dee}static get NAME(){return JX}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=ta(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Q.off(this._config.target,n3),Q.on(this._config.target,n3,iS,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let i=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){let e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){let t=s=>this._targetLinks.get(`#${s.target.id}`),i=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(t(s))},r=(this._rootElement||document.documentElement).scrollTop,o=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(let s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(s));continue}let a=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&a){if(i(s),!r)return;continue}!o&&!a&&i(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=ge.find(iS,this._config.target);for(let t of e){if(!t.hash||na(t))continue;let i=ge.findOne(decodeURI(t.hash),this._element);id(i)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Zu),this._activateParents(e),Q.trigger(this._element,eee,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(nee)){ge.findOne(cee,e.closest(lee)).classList.add(Zu);return}for(let t of ge.parents(e,ree))for(let i of ge.prev(t,aee))i.classList.add(Zu)}_clearActiveClass(e){e.classList.remove(Zu);let t=ge.find(`${iS}.${Zu}`,e);for(let i of t)i.classList.remove(Zu)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Q.on(window,tee,()=>{for(let n of ge.find(iee))Ky.getOrCreateInstance(n)});nr(Ky);var hee="tab",fee="bs.tab",Fl=`.${fee}`,pee=`hide${Fl}`,mee=`hidden${Fl}`,gee=`show${Fl}`,_ee=`shown${Fl}`,yee=`click${Fl}`,vee=`keydown${Fl}`,Eee=`load${Fl}`,wee="ArrowLeft",r3="ArrowRight",bee="ArrowUp",o3="ArrowDown",rS="Home",s3="End",Ol="active",a3="fade",oS="show",Dee="dropdown",P3=".dropdown-toggle",Cee=".dropdown-menu",sS=`:not(${P3})`,Iee='.list-group, .nav, [role="tablist"]',Tee=".nav-item, .list-group-item",See=`.nav-link${sS}, .list-group-item${sS}, [role="tab"]${sS}`,k3='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',aS=`${See}, ${k3}`,Aee=`.${Ol}[data-bs-toggle="tab"], .${Ol}[data-bs-toggle="pill"], .${Ol}[data-bs-toggle="list"]`,ip=class n extends Pi{constructor(e){super(e),this._parent=this._element.closest(Iee),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Q.on(this._element,vee,t=>this._keydown(t)))}static get NAME(){return hee}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),i=t?Q.trigger(t,pee,{relatedTarget:e}):null;Q.trigger(e,gee,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Ol),this._activate(ge.getElementFromSelector(e));let i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(oS);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Q.trigger(e,_ee,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(a3))}_deactivate(e,t){if(!e)return;e.classList.remove(Ol),e.blur(),this._deactivate(ge.getElementFromSelector(e));let i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(oS);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Q.trigger(e,mee,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(a3))}_keydown(e){if(![wee,r3,bee,o3,rS,s3].includes(e.key))return;e.stopPropagation(),e.preventDefault();let t=this._getChildren().filter(r=>!na(r)),i;if([rS,s3].includes(e.key))i=t[e.key===rS?0:t.length-1];else{let r=[r3,o3].includes(e.key);i=fS(t,e.target,r,!0)}i&&(i.focus({preventScroll:!0}),n.getOrCreateInstance(i).show())}_getChildren(){return ge.find(aS,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(let i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=ge.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let i=this._getOuterElement(e);if(!i.classList.contains(Dee))return;let r=(o,s)=>{let a=ge.findOne(o,i);a&&a.classList.toggle(s,t)};r(P3,Ol),r(Cee,oS),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(Ol)}_getInnerElement(e){return e.matches(aS)?e:ge.findOne(aS,e)}_getOuterElement(e){return e.closest(Tee)||e}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Q.on(document,yee,k3,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!na(this)&&ip.getOrCreateInstance(this).show()});Q.on(window,Eee,()=>{for(let n of ge.find(Aee))ip.getOrCreateInstance(n)});nr(ip);var Nee="toast",Mee="bs.toast",sa=`.${Mee}`,xee=`mouseover${sa}`,Ree=`mouseout${sa}`,Oee=`focusin${sa}`,Pee=`focusout${sa}`,kee=`hide${sa}`,Fee=`hidden${sa}`,Vee=`show${sa}`,Lee=`shown${sa}`,Bee="fade",l3="hide",Fy="show",Vy="showing",jee={animation:"boolean",autohide:"boolean",delay:"number"},$ee={animation:!0,autohide:!0,delay:5e3},Qy=class n extends Pi{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return $ee}static get DefaultType(){return jee}static get NAME(){return Nee}show(){if(Q.trigger(this._element,Vee).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Bee);let t=()=>{this._element.classList.remove(Vy),Q.trigger(this._element,Lee),this._maybeScheduleHide()};this._element.classList.remove(l3),rp(this._element),this._element.classList.add(Fy,Vy),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||Q.trigger(this._element,kee).defaultPrevented)return;let t=()=>{this._element.classList.add(l3),this._element.classList.remove(Vy,Fy),Q.trigger(this._element,Fee)};this._element.classList.add(Vy),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Fy),super.dispose()}isShown(){return this._element.classList.contains(Fy)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}let i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Q.on(this._element,xee,e=>this._onInteraction(e,!0)),Q.on(this._element,Ree,e=>this._onInteraction(e,!1)),Q.on(this._element,Oee,e=>this._onInteraction(e,!0)),Q.on(this._element,Pee,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Yy(Qy);nr(Qy);function Uee(n,e){if(n&1){let t=Ee();ie(0,"hr",5),y(1,"table",6)(2,"tr")(3,"td")(4,"button",7),j("click",function(){$(t);let r=z(),o=nn(2);return r.selectToday(),U(o.close())}),A(5,"\u0E27\u0E31\u0E19\u0E19\u0E35\u0E49"),v()(),y(6,"td")(7,"button",8),j("click",function(){$(t);let r=z(),o=nn(2);return r.clear(),U(o.close())}),A(8,"\u0E25\u0E49\u0E32\u0E07"),v()(),y(9,"td")(10,"button",9),j("click",function(){$(t),z();let r=nn(2);return U(r.close())}),A(11,"\u0E1B\u0E34\u0E14"),v()()()()}}var Hee=(()=>{class n extends lf{constructor(){super(...arguments),this.DELIMITER="/"}parse(t){if(t){let i=t.split(this.DELIMITER);return{day:parseInt(i[0],10),month:parseInt(i[1],10),year:parseInt(i[2],10)}}return null}format(t){return t?("00"+t.day).slice(-2)+this.DELIMITER+("00"+t.month).slice(-2)+this.DELIMITER+t.year:""}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})();var Zy=(()=>{class n{constructor(t){this.calendar=t,this.onChange=i=>{},this.onTouched=()=>{},this.BE=543,this.readonly=!1,this.selectDate=new Re,this.isDisabled=!1}ngOnInit(){}writeValue(t){this.model=t?this.convertFromDate(t):null}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}onDateSelect(){let t=this.convertToDate(this.model);this.selectDate.emit(t),this.onChange(t)}clear(){this.model=null,this.onDateSelect()}convertToDate(t){return t?new Date(t.year,t.month-1,t.day):null}convertFromDate(t){return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}}selectToday(){let t=this.calendar.getToday();this.model={year:t.year,month:t.month,day:t.day},this.onDateSelect()}static{this.\u0275fac=function(i){return new(i||n)(J(lu))}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-datepicker"]],inputs:{readonly:"readonly"},outputs:{selectDate:"selectDate"},features:[hi([{provide:lf,useClass:Hee},{provide:mr,useExisting:Cn(()=>n),multi:!0}])],decls:6,vars:6,consts:[["datePicker","ngbDatepicker"],["footerTemplate",""],[1,"input-group"],["placeholder","dd/mm/yyyy","name","input-datepicker","ngbDatepicker","",1,"form-control","form-control-sm",3,"ngModelChange","click","dateSelect","ngModel","footerTemplate","firstDayOfWeek","disabled","readonly"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click","disabled"],[1,"my-0"],[2,"width","100%"],[1,"btn","btn-primary","btn-sm","m-2","float-left",3,"click"],[1,"btn","btn-secondary","btn-sm","m-2",3,"click"],[1,"btn","btn-secondary","btn-sm","m-2","float-right",3,"click"]],template:function(i,r){if(i&1){let o=Ee();y(0,"div",2)(1,"input",3,0),Pt("ngModelChange",function(a){return $(o),Ut(r.model,a)||(r.model=a),U(a)}),j("click",function(){$(o);let a=nn(2);return U(a.toggle())})("dateSelect",function(){return $(o),U(r.onDateSelect())}),v(),y(3,"button",4),j("click",function(){$(o);let a=nn(2);return U(a.toggle())}),v()(),he(4,Uee,12,0,"ng-template",null,1,Ba)}if(i&2){let o=nn(5);O(),Ot("ngModel",r.model),K("footerTemplate",o)("firstDayOfWeek",7)("disabled",r.isDisabled)("readonly",r.readonly),O(2),K("disabled",r.isDisabled)}},dependencies:[qt,fn,xi,mF],encapsulation:2})}}return n})();var od=(()=>{class n{constructor(){this.onInput=new Re,this.onSerach=this.onInput.pipe(nE(400)),this.isDisabled=!1,this.readonly=!1}ngOnInit(){}inputSearch(t){this.onInput.emit(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-inputsearch"]],inputs:{readonly:"readonly"},outputs:{onInput:"onInput",onSerach:"onSerach"},decls:5,vars:2,consts:[["inputEL",""],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],["type","text","pInputText","","placeholder","Search",1,"form-control","form-control-sm",3,"input","readonly","disabled"]],template:function(i,r){if(i&1){let o=Ee();y(0,"span",1)(1,"div",2),ie(2,"i",3),v(),y(3,"input",4,0),j("input",function(){$(o);let a=nn(4);return U(r.inputSearch(a.value))}),v()()}i&2&&(O(3),K("readonly",r.readonly)("disabled",r.isDisabled))},encapsulation:2})}}return n})();var Xy=(()=>{class n{constructor(t){this.el=t,this.onChange=()=>{},this.onTouched=()=>{}}onKeyDown(t){let i=["Backspace","Tab","ArrowLeft","ArrowRight","Delete","Enter"],r=t.key;!i.includes(r)&&!this.isNumber(r)&&t.preventDefault()}onInput(t){let i=t.target,r=i.value;r=r.replace(/,/g,""),r=r.replace(/[^0-9.]/g,"");let o=r.split(".");o.length>2&&(r=o[0]+"."+o[1]),i.value=r,r===""||r==="."?this.onChange(null):this.onChange(parseFloat(r))}onBlur(){let t=this.el.nativeElement,i=t.value;i!==""&&i!==null&&i!==void 0&&i!=="."&&(i=i.replace(/,/g,""),t.value=this.formatNumber(i)),this.onTouched()}onFocus(){let t=this.el.nativeElement,i=t.value;i&&(t.value=i.replace(/,/g,""))}isNumber(t){return/^[0-9.]$/.test(t)}formatNumber(t){let i=t.split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),i.join(".")}writeValue(t){if(t!=null&&t!==""){let i=this.formatNumber(t.toString());this.el.nativeElement.value=i}else this.el.nativeElement.value=""}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}static{this.\u0275fac=function(i){return new(i||n)(J(nt))}}static{this.\u0275dir=qe({type:n,selectors:[["","numericInput",""]],hostBindings:function(i,r){i&1&&j("keydown",function(s){return r.onKeyDown(s)})("input",function(s){return r.onInput(s)})("blur",function(){return r.onBlur()})("focus",function(){return r.onFocus()})},features:[hi([{provide:mr,useExisting:Cn(()=>n),multi:!0}])]})}}return n})();var Gee=["myDialogClose"],qee=["myDialogForm"],zee=n=>({"is-invalid":n});function Wee(n,e){n&1&&(y(0,"tr")(1,"td",51),A(2,"Loading..."),v()())}function Kee(n,e){if(n&1){let t=Ee();y(0,"div",5)(1,"button",60),j("click",function(){$(t);let r=z().$implicit,o=z(2);return U(o.onEditData(r.id,r))}),A(2," \u0E41\u0E01\u0E49\u0E44\u0E02 "),v(),y(3,"button",61),j("click",function(){$(t);let r=z().$implicit,o=z(2);return U(o.closeData(r))}),A(4," \u0E1B\u0E34\u0E14\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19 "),v()()}}function Qee(n,e){if(n&1&&(y(0,"tr")(1,"th",52),A(2),Sn(3,"number"),v(),y(4,"td",53),A(5),v(),y(6,"td",54),A(7),v(),y(8,"td",55),A(9),Sn(10,"date"),v(),y(11,"td",56),A(12),Sn(13,"number"),v(),y(14,"td",53),A(15),v(),y(16,"td",57),A(17),v(),y(18,"td",58),he(19,Kee,5,0,"div",59),v()()),n&2){let t=e.$implicit,i=e.$index,r=z(2);O(2),ze(" ",La(3,8,i+1),""),O(3),ze(" ",t.name,""),O(2),ze(" ",t.detail,""),O(2),ze(" ",Ii(10,10,t.date==null?null:t.date.toDate(),"EEE,dd/MM/yy"),""),O(3),ze(" ",Ii(13,13,t.price,"1.2"),""),O(3),ze(" ",r.calculateDateDifference(t.date==null?null:t.date.toDate(),t==null?null:t.dateClose),""),O(2),ze(" ",t.status.toUpperCase(),""),O(2),K("ngIf",t.status=="active")}}function Yee(n,e){n&1&&(y(0,"tr")(1,"td",51),A(2,"\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),v()())}function Jee(n,e){if(n&1&&(Hi(0),ui(1,Qee,20,16,"tr",null,Ds,!1,Yee,3,0,"tr"),Gi()),n&2){let t=z();O(),di(t.filteredData)}}function Zee(n,e){n&1&&(y(0,"div",62),A(1,"*\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38\u0E0A\u0E37\u0E48\u0E2D"),v())}var L3=(()=>{class n{constructor(t,i,r){this.appCom=t,this.firestore=i,this.fb=r,this.auth=R(pn),this.titleForm="\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25",this.total=0,this.dateClose=new Date,this.dataSource=[],this.filteredData=[],this.search=null,this.getData()}ngAfterViewInit(){this.myDialogModal=new Hn(this.myDialog.nativeElement),this.myDialogFormModal=new Hn(this.myDialogForm.nativeElement)}ngOnInit(){this.createForm()}createForm(){this.form=this.fb.group({name:["",dt.required],detail:[""],date:[new Date],price:[""],status:["active",dt.required]})}inputSearch(t){this.search=t,this.total=0,t&&t.length>0?this.filteredData=this.dataSource.filter(i=>i.name.toLowerCase().includes(t.toLowerCase())).map(i=>i):this.filteredData=this.dataSource.map(i=>i),this.filteredData.forEach(i=>{this.total=this.total+i.price})}getData(){this.appCom.isLoading=!0;let t=this.auth.currentUserSig()?.uid,i=Xo(this.firestore,"equipments"),r=Yu(i,xy("userAction","==",t));this.equipmentData$=Ku(r,{idField:"id"}),this.equipmentData$.subscribe(o=>{this.dataSource=o,this.inputSearch(this.search),this.appCom.isLoading=!1})}submitData(){this.form.invalid||this.appCom.showConfirmDialog("\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?").then(t=>{if(t){this.appCom.isLoading=!0;let i=this.auth.currentUserSig()?.uid;if(this.form.value.userAction=i,this.form.value.actionDate=xl(),this.id){this.form.value.price=this.appCom.convertToFloat(this.form.value.price);let r=Jf(this.firestore,"equipments",this.id);Zf(r,this.form.value).then(()=>{this.appCom.isLoading=!1,this.id=void 0,this.closeDialogForm()}).catch(o=>{this.appCom.isLoading=!1,console.error(o)})}else{this.form.value.price=this.appCom.convertToFloat(this.form.value.price);let r=Xo(this.firestore,"equipments");Qu(r,this.form.value).then(()=>{this.appCom.isLoading=!1,this.id=void 0,this.closeDialogForm()}).catch(o=>{this.appCom.isLoading=!1,console.error(o)})}}})}clearData(){this.id=void 0,this.createForm()}onEditData(t,i){this.id=t,this.form.setValue({name:i.name,detail:i.detail,date:i.date?i.date.toDate():null,status:i.status,price:i.price}),this.myDialogFormModal.show()}closeData(t){this.itemSelected=t,this.myDialogModal.show()}closeDialog(){this.myDialogModal.hide()}closeDataConfirm(){this.dateClose&&this.appCom.showConfirmDialog("\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?").then(t=>{let i={name:this.itemSelected.name,detail:this.itemSelected.detail,date:this.itemSelected.date,price:this.itemSelected.price,status:"unactive",dateClose:this.dateClose},r=Jf(this.firestore,"equipments",this.itemSelected.id);Zf(r,i).then(()=>{this.itemSelected=void 0,this.closeDialog(),this.createForm()}).catch(o=>{console.error(o)})})}closeDialogForm(){this.clearData(),this.myDialogFormModal.hide()}onAddData(){this.myDialogFormModal.show()}calculateDateDifference(t,i){if(t==null)return"";let r=i==null?new Date:new Date(i.toDate()),o=new Date(t),s=r.getFullYear()-o.getFullYear(),a=r.getMonth()-o.getMonth(),l=Math.abs(r.getDate()-o.getDate());return a<0&&(s--,a+=12),(s==0?"":s+" \u0E1B\u0E35 ")+(a==0?"":a+" \u0E40\u0E14\u0E37\u0E2D\u0E19 ")+(l==0?"":l+" \u0E27\u0E31\u0E19")}static{this.\u0275fac=function(i){return new(i||n)(J(jn),J(Ar),J(to))}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-equipment"]],viewQuery:function(i,r){if(i&1&&(tn(Gee,5),tn(qee,5)),i&2){let o;ct(o=ut())&&(r.myDialog=o.first),ct(o=ut())&&(r.myDialogForm=o.first)}},decls:113,vars:16,consts:[["myDialogClose",""],["myDialogForm",""],["nameInput",""],[1,"row","justify-content-between","pb-3"],[1,"col-auto"],[1,"btn-toolbar"],[1,"btn","btn-primary",3,"click"],[1,"row","justify-content-center","g-3"],[1,"col-12"],[1,"row","g-3"],[1,"col","col-sm-6","col-lg-3"],[3,"onSerach"],[1,"col"],[1,"border","rounded-2"],[1,"w-full","p-4"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","border","rounded-2"],["scope","col",1,""],[4,"ngIf"],["scope","row",1,""],["scope","row",1,"",2,"text-align","end"],["data-bs-backdrop","static","tabindex","-1","role","dialog",1,"modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-3"],["for","",1,"form-label"],["disabled","",1,"form-control","form-control-sm",3,"value"],[3,"ngModelChange","ngModel","readonly"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"flex","justify-center","p-4",3,"ngSubmit","formGroup"],[1,"flex","flex-wrap","mb-6","justify-center"],["for","name",1,"form-label"],["type","text","formControlName","name",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","detail",1,"form-label"],["type","detail","formControlName","detail",1,"form-control","form-control-sm"],["for","date",1,"form-label"],["formControlName","date",3,"readonly"],["for","price",1,"form-label"],[1,"input-group"],["type","text","numericInput","","formControlName","price",1,"form-control","form-control-sm","text-end"],[1,"input-group-text"],[1,"flex","flex-wrap","mb-6","justify-center","btn-toolbar"],["type","submit",1,"btn","btn-primary"],["colspan","8",2,"text-align","center"],["scope","row",1,"",2,"min-width","50px"],[1,"",2,"min-width","150px"],[1,"",2,"min-width","200px"],[1,"text-center",2,"min-width","110px"],[1,"",2,"text-align","end"],[1,"text-center"],[2,"min-width","150px"],["class","btn-toolbar",4,"ngIf"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"invalid-feedback"]],template:function(i,r){if(i&1){let o=Ee();y(0,"div",3)(1,"div",4)(2,"h1"),A(3,"\u0E2D\u0E38\u0E1B\u0E01\u0E23\u0E13\u0E4C"),v()(),y(4,"div",4)(5,"div",5)(6,"button",6),j("click",function(){return $(o),U(r.onAddData())}),A(7,"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),v()()()(),y(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"app-inputsearch",11),j("onSerach",function(a){return $(o),U(r.inputSearch(a))}),v()()()(),y(13,"div",12)(14,"div",13)(15,"section",14)(16,"div",15)(17,"table",16)(18,"thead")(19,"tr")(20,"th",17),A(21,"#"),v(),y(22,"th",17),A(23,"\u0E0A\u0E37\u0E48\u0E2D"),v(),y(24,"th",17),A(25,"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"),v(),y(26,"th",17),A(27,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E0B\u0E37\u0E49\u0E2D"),v(),y(28,"th",17),A(29,"\u0E23\u0E32\u0E04\u0E32"),v(),y(30,"th",17),A(31,"\u0E2D\u0E32\u0E22\u0E38\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),v(),y(32,"th",17),A(33,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),v(),y(34,"th",17),A(35,"Action"),v()()(),y(36,"tbody"),he(37,Wee,3,0,"tr",18)(38,Jee,4,1,"ng-container",18),v(),y(39,"tfoot")(40,"tr"),ie(41,"th",19)(42,"th",19)(43,"th",19),y(44,"th",20),A(45,"\u0E23\u0E27\u0E21"),v(),y(46,"th",20),A(47),Sn(48,"number"),v(),ie(49,"th",19)(50,"th",19)(51,"th",19),v()()()()()()()(),y(52,"div",21,0)(54,"div",22)(55,"div",23)(56,"div",24)(57,"h5",25),A(58,"\u0E1B\u0E34\u0E14\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),v(),y(59,"button",26),j("click",function(){return $(o),U(r.closeDialog())}),ie(60,"span",27),v()(),y(61,"div",28)(62,"div",29)(63,"label",30),A(64,"\u0E0A\u0E37\u0E48\u0E2D"),v(),ie(65,"input",31),v(),y(66,"div",29)(67,"label",30),A(68,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E1B\u0E34\u0E14\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),v(),y(69,"app-datepicker",32),Pt("ngModelChange",function(a){return $(o),Ut(r.dateClose,a)||(r.dateClose=a),U(a)}),v()()(),y(70,"div",33)(71,"button",34),j("click",function(){return $(o),U(r.closeDataConfirm())}),A(72,"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01"),v(),y(73,"button",35),j("click",function(){return $(o),U(r.closeDialog())}),A(74,"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01"),v()()()()(),y(75,"div",21,1)(77,"div",22)(78,"div",23)(79,"div",24)(80,"h5",25),A(81),v(),y(82,"button",26),j("click",function(){return $(o),U(r.closeDialogForm())}),ie(83,"span",27),v()(),y(84,"div",28)(85,"form",36),j("ngSubmit",function(){return $(o),U(r.submitData())}),y(86,"div",37)(87,"div",29)(88,"label",38),A(89,"\u0E0A\u0E37\u0E48\u0E2D"),v(),ie(90,"input",39,2),he(92,Zee,2,0,"div",40),v(),y(93,"div",29)(94,"label",41),A(95,"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"),v(),ie(96,"textarea",42),v(),y(97,"div",29)(98,"label",43),A(99,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E0B\u0E37\u0E49\u0E2D"),v(),ie(100,"app-datepicker",44),v(),y(101,"div",29)(102,"label",45),A(103,"\u0E23\u0E32\u0E04\u0E32"),v(),y(104,"div",46),ie(105,"input",47),y(106,"span",48),A(107,"\u0E1A\u0E32\u0E17"),v()()()(),y(108,"div",49)(109,"button",50),A(110,"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01"),v(),y(111,"button",35),j("click",function(){return $(o),U(r.clearData())}),A(112,"\u0E25\u0E49\u0E32\u0E07"),v()()()()()()()}i&2&&(O(37),K("ngIf",r.appCom.isLoading),O(),K("ngIf",!r.appCom.isLoading),O(9),Be(Ii(48,11,r.total,"1.2")),O(18),K("value",r.itemSelected==null?null:r.itemSelected.name),O(4),Ot("ngModel",r.dateClose),K("readonly",!0),O(12),Be(r.id?"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),O(4),K("formGroup",r.form),O(5),K("ngClass",rn(14,zee,r.form.controls.name.invalid&&(r.form.controls.name.dirty||r.form.controls.name.touched))),O(2),K("ngIf",r.form.controls.name==null||r.form.controls.name.errors==null?null:r.form.controls.name.errors.required),O(8),K("readonly",!0))},dependencies:[eo,qt,fn,Xr,xi,gr,_r,zi,Ln,Zy,od,Xy,Oc,Is],encapsulation:2})}}return n})();var Xee=["myDialogClose"],ete=["myDialogForm"],B3=n=>({"is-invalid":n});function tte(n,e){n&1&&(y(0,"tr")(1,"td",57),A(2,"Loading..."),v()())}function nte(n,e){if(n&1){let t=Ee();y(0,"tr",59),j("click",function(){let r=$(t).$implicit,o=z(2);return U(o.onEditData(r))}),y(1,"th",60),A(2),Sn(3,"number"),v(),y(4,"td",61),A(5),v(),y(6,"td",62),A(7),v(),y(8,"td",63),A(9),Sn(10,"date"),v(),y(11,"td",64),A(12),Sn(13,"number"),v()()}if(n&2){let t=e.$implicit,i=e.$index;O(2),ze(" ",La(3,5,i+1),""),O(3),ze(" ",t.name,""),O(2),ze(" ",t.detail,""),O(2),ze(" ",Ii(10,7,t.date==null?null:t.date.toDate(),"EEE,dd/MM/yy"),""),O(3),ze(" ",Ii(13,10,t.price,"1.2"),"")}}function ite(n,e){n&1&&(y(0,"tr")(1,"td",57),A(2,"\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),v()())}function rte(n,e){if(n&1&&(Hi(0),ui(1,nte,14,13,"tr",58,Ds,!1,ite,3,0,"tr"),Gi()),n&2){let t=z();O(),di(t.filteredData)}}function ote(n,e){n&1&&(y(0,"div",65),A(1,"*\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38\u0E0A\u0E37\u0E48\u0E2D"),v())}function ste(n,e){n&1&&(y(0,"div",65),A(1,"*\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38\u0E23\u0E32\u0E04\u0E32"),v())}function ate(n,e){n&1&&(y(0,"div",65),A(1,"*\u0E23\u0E32\u0E04\u0E32\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32 0"),v())}var j3=(()=>{class n{constructor(t,i,r){this.appCom=t,this.firestore=i,this.fb=r,this.auth=R(pn),this.total=0,this.startDate=new Date,this.endDate=new Date,this.filteredData=[],this.dataSource=[],this.search="",this.getData()}ngAfterViewInit(){this.myDialogFormModal=new Hn(this.myDialogForm.nativeElement)}ngOnInit(){this.createForm()}createForm(){this.titleModal="\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25",this.form=this.fb.group({name:["",dt.required],detail:[""],date:[new Date],price:[null,{validators:[dt.required,dt.min(1)]}],type:["day"]})}onDateChange(t,i){i=="start"&&t!=null&&t>this.endDate?this.endDate=t:i=="end"&&t!=null&&t<this.startDate&&(this.startDate=t),this.filterSource(this.search)}inputSearch(t){this.search=t,this.filterSource(t)}getData(){this.appCom.isLoading=!0;let t=this.auth.currentUserSig()?.uid,i=Xo(this.firestore,"expenses"),r=Yu(i,xy("userAction","==",t));this.equipmentData$=Ku(r,{idField:"id"}),this.equipmentData$.subscribe(o=>{this.dataSource=o,this.filterSource(this.search),this.appCom.isLoading=!1})}filterSource(t){let i=this.appCom.startOfDay(this.startDate),r=this.appCom.endOfDay(this.endDate);var o=this.dataSource.map(a=>a),s=o.filter(a=>a.date?.toDate()>=i&&a.date?.toDate()<=r);t&&t.length>0&&(s=s.filter(a=>a.name.toLowerCase().includes(t.toLowerCase())).map(a=>a)),this.total=0,this.filteredData=s.sort((a,l)=>a.date?.toDate()-l.date?.toDate()),this.filteredData.forEach(a=>{this.total=this.total+a.price})}onAddData(){this.clearData(),this.myDialogFormModal.show()}closeDialogForm(){this.myDialogFormModal.hide()}clearData(){this.createForm()}submitData(){if(!this.form.invalid){if(this.form.value.id!=null){this.appCom.showConfirmDialog("\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?").then(t=>{if(t){this.appCom.isLoading=!0;let i=this.auth.currentUserSig()?.uid;this.form.value.userAction=i,this.form.value.actionDate=xl(),this.form.value.price=this.appCom.convertToFloat(this.form.value.price);let r=Jf(this.firestore,"expenses",this.form.value.id);Zf(r,this.form.value).then(()=>{this.appCom.isLoading=!1,this.closeDialogForm()}).catch(o=>{this.appCom.isLoading=!1,console.error(o)})}});return}this.appCom.showConfirmDialog("\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?").then(t=>{if(t){this.appCom.isLoading=!0;let i=this.auth.currentUserSig()?.uid;this.form.value.userAction=i,this.form.value.actionDate=xl(),this.form.value.price=this.appCom.convertToFloat(this.form.value.price);let r=Xo(this.firestore,"expenses");Qu(r,this.form.value).then(()=>{this.appCom.isLoading=!1,this.closeDialogForm()}).catch(o=>{this.appCom.isLoading=!1,console.error(o)})}})}}onEditData(t){this.titleModal="\u0E41\u0E01\u0E49\u0E44\u0E02\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25",this.myDialogFormModal.show(),this.form=this.fb.group({id:[t.id],name:[t.name,dt.required],detail:[t.detail],date:[new Date(t.date?.toDate())],price:[this.appCom.convertToFloat(t.price),{validators:[dt.required,dt.min(1)]}],type:[t.type]})}static{this.\u0275fac=function(i){return new(i||n)(J(jn),J(Ar),J(to))}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-expenses"]],viewQuery:function(i,r){if(i&1&&(tn(Xee,5),tn(ete,5)),i&2){let o;ct(o=ut())&&(r.myDialog=o.first),ct(o=ut())&&(r.myDialogForm=o.first)}},decls:108,vars:23,consts:[["myDialogForm",""],["nameInput",""],[1,"row","justify-content-between","pb-3"],[1,"col-auto"],[1,"btn-toolbar"],[1,"btn","btn-primary",3,"click"],[1,"row","justify-content-center","g-3"],[1,"col-12"],[1,"row","g-3"],[1,"col-12","col-sm-4","col-lg-3"],["for","search",1,"form-label"],[3,"onSerach"],[1,"col-6","col-sm-4","col-lg-3"],["for","date",1,"form-label"],[3,"ngModelChange","readonly","ngModel"],[1,"col"],[1,"border","rounded-2"],[1,"w-full","p-4"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","border","rounded-2"],["scope","col",1,""],[4,"ngIf"],["scope","row",1,""],["scope","row",1,"",2,"text-align","end"],["data-bs-backdrop","static","tabindex","-1","role","dialog",1,"modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"flex","justify-center","p-lg-4",3,"ngSubmit","formGroup"],[1,"flex","flex-wrap","mb-6","justify-center"],[1,"mb-lg-3"],["for","name",1,"form-label"],["type","text","formControlName","name",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","detail",1,"form-label"],["type","detail","formControlName","detail",1,"form-control","form-control-sm"],["formControlName","date",3,"readonly"],["for","price",1,"form-label"],[1,"input-group"],["type","text","numericInput","","formControlName","price",1,"form-control","form-control-sm","text-end",3,"ngClass"],[1,"input-group-text"],[1,"mb-3"],["for","type",1,"form-label"],[1,"form-check"],["type","radio","name","optionsType","id","optionsDay","value","day","formControlName","type",1,"form-check-input"],["for","optionsDay",1,"form-check-label"],["type","radio","name","optionsType","id","optionsMonth","value","month","formControlName","type",1,"form-check-input"],["for","optionsMonth",1,"form-check-label"],["type","radio","name","optionsType","id","optionsYear","value","year","formControlName","type",1,"form-check-input"],["for","optionsYear",1,"form-check-label"],[1,"flex","flex-wrap","mb-6","justify-center","btn-toolbar"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],["colspan","8",2,"text-align","center"],[1,"cursor-pointer"],[1,"cursor-pointer",3,"click"],["scope","row",1,"",2,"min-width","50px"],[1,"",2,"min-width","150px"],[1,"",2,"min-width","200px"],[1,"text-center",2,"min-width","110px"],[1,"",2,"min-width","150px","text-align","end"],[1,"invalid-feedback"]],template:function(i,r){if(i&1){let o=Ee();y(0,"div",2)(1,"div",3)(2,"h1"),A(3,"\u0E04\u0E48\u0E32\u0E43\u0E0A\u0E49\u0E08\u0E48\u0E32\u0E22"),v()(),y(4,"div",3)(5,"div",4)(6,"button",5),j("click",function(){return $(o),U(r.onAddData())}),A(7,"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),v()()()(),y(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),A(13,"\u0E04\u0E49\u0E19\u0E2B\u0E32"),v(),y(14,"app-inputsearch",11),j("onSerach",function(a){return $(o),U(r.inputSearch(a))}),v()(),y(15,"div",12)(16,"label",13),A(17,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"),v(),y(18,"app-datepicker",14),Pt("ngModelChange",function(a){return $(o),Ut(r.startDate,a)||(r.startDate=a),U(a)}),j("ngModelChange",function(a){return $(o),U(r.onDateChange(a,"start"))}),v()(),y(19,"div",12)(20,"label",13),A(21,"\u0E16\u0E36\u0E07"),v(),y(22,"app-datepicker",14),Pt("ngModelChange",function(a){return $(o),Ut(r.endDate,a)||(r.endDate=a),U(a)}),j("ngModelChange",function(a){return $(o),U(r.onDateChange(a,"end"))}),v()()()(),y(23,"div",15)(24,"div",16)(25,"section",17)(26,"div",18)(27,"table",19)(28,"thead")(29,"tr")(30,"th",20),A(31,"#"),v(),y(32,"th",20),A(33,"\u0E0A\u0E37\u0E48\u0E2D"),v(),y(34,"th",20),A(35,"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"),v(),y(36,"th",20),A(37,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"),v(),y(38,"th",20),A(39,"\u0E23\u0E32\u0E04\u0E32"),v()()(),y(40,"tbody"),he(41,tte,3,0,"tr",21)(42,rte,4,1,"ng-container",21),v(),y(43,"tfoot")(44,"tr"),ie(45,"th",22)(46,"th",22)(47,"th",22),y(48,"th",23),A(49,"\u0E23\u0E27\u0E21"),v(),y(50,"th",23),A(51),Sn(52,"number"),v()()()()()()()()(),y(53,"div",24,0)(55,"div",25)(56,"div",26)(57,"div",27)(58,"h5",28),A(59),v(),y(60,"button",29),j("click",function(){return $(o),U(r.closeDialogForm())}),ie(61,"span",30),v()(),y(62,"div",31)(63,"form",32),j("ngSubmit",function(){return $(o),U(r.submitData())}),y(64,"div",33)(65,"div",34)(66,"label",35),A(67,"\u0E0A\u0E37\u0E48\u0E2D"),v(),ie(68,"input",36,1),he(70,ote,2,0,"div",37),v(),y(71,"div",34)(72,"label",38),A(73,"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"),v(),ie(74,"textarea",39),v(),y(75,"div",34)(76,"label",13),A(77,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"),v(),ie(78,"app-datepicker",40),v(),y(79,"div",34)(80,"label",41),A(81,"\u0E23\u0E32\u0E04\u0E32"),v(),y(82,"div",42),ie(83,"input",43),y(84,"span",44),A(85,"\u0E1A\u0E32\u0E17"),v(),he(86,ste,2,0,"div",37)(87,ate,2,0,"div",37),v()(),y(88,"div",45)(89,"label",46),A(90,"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17"),v(),y(91,"div",47),ie(92,"input",48),y(93,"label",49),A(94," \u0E23\u0E32\u0E22\u0E27\u0E31\u0E19 "),v()(),y(95,"div",47),ie(96,"input",50),y(97,"label",51),A(98," \u0E23\u0E32\u0E22\u0E40\u0E14\u0E37\u0E2D\u0E19 "),v()(),y(99,"div",47),ie(100,"input",52),y(101,"label",53),A(102," \u0E23\u0E32\u0E22\u0E1B\u0E35 "),v()()()(),y(103,"div",54)(104,"button",55),A(105,"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01"),v(),y(106,"button",56),j("click",function(){return $(o),U(r.clearData())}),A(107,"\u0E25\u0E49\u0E32\u0E07"),v()()()()()()()}i&2&&(O(18),K("readonly",!0),Ot("ngModel",r.startDate),O(4),K("readonly",!0),Ot("ngModel",r.endDate),O(19),K("ngIf",r.appCom.isLoading),O(),K("ngIf",!r.appCom.isLoading),O(9),Be(Ii(52,16,r.total,"1.2")),O(8),Be(r.titleModal),O(4),K("formGroup",r.form),O(5),K("ngClass",rn(19,B3,r.form.controls.name.invalid&&(r.form.controls.name.dirty||r.form.controls.name.touched))),O(2),K("ngIf",r.form.controls.name==null||r.form.controls.name.errors==null?null:r.form.controls.name.errors.required),O(8),K("readonly",!0),O(5),K("ngClass",rn(21,B3,r.form.controls.price.invalid&&(r.form.controls.price.dirty||r.form.controls.price.touched))),O(3),K("ngIf",r.form.controls.price==null||r.form.controls.price.errors==null?null:r.form.controls.price.errors.required),O(),K("ngIf",r.form.controls.price==null||r.form.controls.price.errors==null?null:r.form.controls.price.errors.min),O(17),K("disabled",r.form.invalid))},dependencies:[eo,qt,q1,fn,Xr,xi,gr,_r,zi,Ln,Zy,od,Xy,Oc,Is],encapsulation:2})}}return n})();var K3="firebasestorage.googleapis.com",Q3="storageBucket",lte=2*60*1e3,cte=10*60*1e3;var At=class n extends Vp{constructor(e,t,i=0){super(yS(e),`Firebase Storage: ${t} (${yS(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},jt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(jt||{});function yS(n){return"storage/"+n}function IS(){let n="An unknown error occurred, please check the error payload for server response.";return new At(jt.UNKNOWN,n)}function ute(n){return new At(jt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function dte(n){return new At(jt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hte(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(jt.UNAUTHENTICATED,n)}function fte(){return new At(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pte(n){return new At(jt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function mte(){return new At(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gte(){return new At(jt.CANCELED,"User canceled the upload/download.")}function _te(n){return new At(jt.INVALID_URL,"Invalid URL '"+n+"'.")}function yte(n){return new At(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function vte(){return new At(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Q3+"' property when initializing the app?")}function Ete(){return new At(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wte(){return new At(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function bte(n){return new At(jt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vS(n){return new At(jt.INVALID_ARGUMENT,n)}function Y3(){return new At(jt.APP_DELETED,"The Firebase app was deleted.")}function Dte(n){return new At(jt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ap(n,e){return new At(jt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function sp(n){throw new At(jt.INTERNAL_ERROR,"Internal error: "+n)}var ki=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(i.path==="")return i;throw yte(e)}static makeFromUrl(e,t){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function u(G){G.path_=decodeURIComponent(G.path)}let d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${r}/o${m}`,"i"),D={bucket:1,path:3},I=t===K3?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",F=new RegExp(`^https?://${I}/${r}/${T}`,"i"),B=[{regex:a,indices:l,postModify:o},{regex:g,indices:D,postModify:u},{regex:F,indices:{bucket:1,path:2},postModify:u}];for(let G=0;G<B.length;G++){let Z=B[G],X=Z.regex.exec(e);if(X){let C=X[Z.indices.bucket],E=X[Z.indices.path];E||(E=""),i=new n(C,E),Z.postModify(i);break}}if(i==null)throw _te(e);return i}},ES=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Cte(n,e,t){let i=1,r=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function d(...T){u||(u=!0,e.apply(null,T))}function f(T){r=setTimeout(()=>{r=null,n(g,l())},T)}function m(){o&&clearTimeout(o)}function g(T,...F){if(u){m();return}if(T){m(),d.call(null,T,...F);return}if(l()||s){m(),d.call(null,T,...F);return}i<64&&(i*=2);let B;a===1?(a=2,B=0):B=(i+Math.random())*1e3,f(B)}let D=!1;function I(T){D||(D=!0,m(),!u&&(r!==null?(T||(a=2),clearTimeout(r),f(0)):T||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,I(!0)},t),I}function Ite(n){n(!1)}function Tte(n){return n!==void 0}function Ste(n){return typeof n=="object"&&!Array.isArray(n)}function TS(n){return typeof n=="string"||n instanceof String}function $3(n){return SS()&&n instanceof Blob}function SS(){return typeof Blob<"u"}function wS(n,e,t,i){if(i<e)throw vS(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw vS(`Invalid value for '${n}'. Expected ${t} or less.`)}function cd(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function J3(n){let e=encodeURIComponent,t="?";for(let i in n)if(n.hasOwnProperty(i)){let r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var ad=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(ad||{});function Ate(n,e){let t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||r||o}var bS=class{constructor(e,t,i,r,o,s,a,l,u,d,f,m=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,D)=>{this.resolve_=g,this.reject_=D,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new sd(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===ad.NO_ERROR,l=o.getStatus();if(!a||Ate(l,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===ad.ABORT;i(!1,new sd(!1,null,d));return}let u=this.successCodes_.indexOf(l)!==-1;i(!0,new sd(u,o))})},t=(i,r)=>{let o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());Tte(l)?o(l):o()}catch(l){s(l)}else if(a!==null){let l=IS();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(r.canceled){let l=this.appDelete_?Y3():gte();s(l)}else{let l=mte();s(l)}};this.canceled_?t(!1,new sd(!1,null,!0)):this.backoffId_=Cte(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ite(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},sd=class{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}};function Nte(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Mte(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xte(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Rte(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Ote(n,e,t,i,r,o,s=!0){let a=J3(n.urlParams),l=n.url+a,u=Object.assign({},n.headers);return xte(u,e),Nte(u,t),Mte(u,o),Rte(u,i),new bS(l,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}function Pte(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kte(...n){let e=Pte();if(e!==void 0){let t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(SS())return new Blob(n);throw new At(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Fte(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function Vte(n){if(typeof atob>"u")throw bte("base-64");return atob(n)}var mo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},lp=class{constructor(e,t){this.data=e,this.contentType=t||null}};function Lte(n,e){switch(n){case mo.RAW:return new lp(Z3(e));case mo.BASE64:case mo.BASE64URL:return new lp(X3(n,e));case mo.DATA_URL:return new lp(jte(e),$te(e))}throw IS()}function Z3(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let o=i,s=n.charCodeAt(++t);i=65536|(o&1023)<<10|s&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function Bte(n){let e;try{e=decodeURIComponent(n)}catch{throw ap(mo.DATA_URL,"Malformed data URL.")}return Z3(e)}function X3(n,e){switch(n){case mo.BASE64:{let r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw ap(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case mo.BASE64URL:{let r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw ap(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Vte(e)}catch(r){throw r.message.includes("polyfill")?r:ap(n,"Invalid character found")}let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}var tv=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw ap(mo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=t[1]||null;i!=null&&(this.base64=Ute(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function jte(n){let e=new tv(n);return e.base64?X3(mo.BASE64,e.rest):Bte(e.rest)}function $te(n){return new tv(n).contentType}function Ute(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var nv=class n{constructor(e,t){let i=0,r="";$3(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if($3(this.data_)){let i=this.data_,r=Fte(i,e,t);return r===null?null:new n(r)}else{let i=new Uint8Array(this.data_.buffer,e,t-e);return new n(i,!0)}}static getBlob(...e){if(SS()){let t=e.map(i=>i instanceof n?i.data_:i);return new n(kte.apply(null,t))}else{let t=e.map(s=>TS(s)?Lte(mo.RAW,s).data:s.data_),i=0;t.forEach(s=>{i+=s.byteLength});let r=new Uint8Array(i),o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new n(r,!0)}}uploadData(){return this.data_}};function AS(n){let e;try{e=JSON.parse(n)}catch{return null}return Ste(e)?e:null}function Hte(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Gte(n,e){let t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function eB(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function qte(n,e){return e}var xn=class{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||qte}},ev=null;function zte(n){return!TS(n)||n.length<2?n:eB(n)}function tB(){if(ev)return ev;let n=[];n.push(new xn("bucket")),n.push(new xn("generation")),n.push(new xn("metageneration")),n.push(new xn("name","fullPath",!0));function e(o,s){return zte(s)}let t=new xn("name");t.xform=e,n.push(t);function i(o,s){return s!==void 0?Number(s):s}let r=new xn("size");return r.xform=i,n.push(r),n.push(new xn("timeCreated")),n.push(new xn("updated")),n.push(new xn("md5Hash",null,!0)),n.push(new xn("cacheControl",null,!0)),n.push(new xn("contentDisposition",null,!0)),n.push(new xn("contentEncoding",null,!0)),n.push(new xn("contentLanguage",null,!0)),n.push(new xn("contentType",null,!0)),n.push(new xn("metadata","customMetadata",!0)),ev=n,ev}function Wte(n,e){function t(){let i=n.bucket,r=n.fullPath,o=new ki(i,r);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function Kte(n,e,t){let i={};i.type="file";let r=t.length;for(let o=0;o<r;o++){let s=t[o];i[s.local]=s.xform(i,e[s.server])}return Wte(i,n),i}function nB(n,e,t){let i=AS(e);return i===null?null:Kte(n,i,t)}function Qte(n,e,t,i){let r=AS(e);if(r===null||!TS(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(u=>{let d=n.bucket,f=n.fullPath,m="/b/"+s(d)+"/o/"+s(f),g=cd(m,t,i),D=J3({alt:"media",token:u});return g+D})[0]}function Yte(n,e){let t={},i=e.length;for(let r=0;r<i;r++){let o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}var U3="prefixes",H3="items";function Jte(n,e,t){let i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[U3])for(let r of t[U3]){let o=r.replace(/\/$/,""),s=n._makeStorageReference(new ki(e,o));i.prefixes.push(s)}if(t[H3])for(let r of t[H3]){let o=n._makeStorageReference(new ki(e,r.name));i.items.push(o)}return i}function Zte(n,e,t){let i=AS(t);return i===null?null:Jte(n,e,i)}var Vl=class{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function NS(n){if(!n)throw IS()}function Xte(n,e){function t(i,r){let o=nB(n,r,e);return NS(o!==null),o}return t}function ene(n,e){function t(i,r){let o=Zte(n,e,r);return NS(o!==null),o}return t}function tne(n,e){function t(i,r){let o=nB(n,r,e);return NS(o!==null),Qte(o,r,n.host,n._protocol)}return t}function MS(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=fte():r=hte():t.getStatus()===402?r=dte(n.bucket):t.getStatus()===403?r=pte(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function xS(n){let e=MS(n);function t(i,r){let o=e(i,r);return i.getStatus()===404&&(o=ute(n.path)),o.serverResponse=r.serverResponse,o}return t}function nne(n,e,t,i,r){let o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",t&&t.length>0&&(o.delimiter=t),i&&(o.pageToken=i),r&&(o.maxResults=r);let s=e.bucketOnlyServerUrl(),a=cd(s,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,d=new Vl(a,l,ene(n,e.bucket),u);return d.urlParams=o,d.errorHandler=MS(e),d}function ine(n,e,t){let i=e.fullServerUrl(),r=cd(i,n.host,n._protocol)+"?alt=media",o="GET",s=n.maxOperationRetryTime,a=new Vl(r,o,(l,u)=>u,s);return a.errorHandler=xS(e),t!==void 0&&(a.headers.Range=`bytes=0-${t}`,a.successCodes=[200,206]),a}function rne(n,e,t){let i=e.fullServerUrl(),r=cd(i,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new Vl(r,o,tne(n,t),s);return a.errorHandler=xS(e),a}function one(n,e){let t=e.fullServerUrl(),i=cd(t,n.host,n._protocol),r="DELETE",o=n.maxOperationRetryTime;function s(l,u){}let a=new Vl(i,r,s,o);return a.successCodes=[200,204],a.errorHandler=xS(e),a}function sne(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function ane(n,e,t){let i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=sne(null,e)),i}function lne(n,e,t,i,r){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let B="";for(let G=0;G<2;G++)B=B+Math.random().toString().slice(2);return B}let l=a();s["Content-Type"]="multipart/related; boundary="+l;let u=ane(e,i,r),d=Yte(u,t),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",g=nv.getBlob(f,i,m);if(g===null)throw Ete();let D={name:u.fullPath},I=cd(o,n.host,n._protocol),T="POST",F=n.maxUploadRetryTime,H=new Vl(I,T,Xte(n,t),F);return H.urlParams=D,H.headers=s,H.body=g.uploadData(),H.errorHandler=MS(e),H}var awe=256*1024;var G3=null,iv=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ad.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ad.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ad.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw sp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},DS=class extends iv{initXhr(){this.xhr_.responseType="text"}};function rv(){return G3?G3():new DS}var CS=class extends iv{initXhr(){this.xhr_.responseType="blob"}};function cne(){return new CS}var ld=class n{constructor(e,t){this._service=e,t instanceof ki?this._location=t:this._location=ki.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new ki(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eB(this._location.path)}get storage(){return this._service}get parent(){let e=Hte(this._location.path);if(e===null)return null;let t=new ki(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Dte(e)}};function une(n,e){n._throwIfRoot("getBlob");let t=ine(n.storage,n._location,e);return n.storage.makeRequestWithTokens(t,cne).then(i=>e!==void 0?i.slice(0,e):i)}function dne(n,e,t){n._throwIfRoot("uploadBytes");let i=lne(n.storage,n._location,tB(),new nv(e,!0),t);return n.storage.makeRequestWithTokens(i,rv).then(r=>({metadata:r,ref:n}))}function hne(n,e){e!=null&&typeof e.maxResults=="number"&&wS("options.maxResults",1,1e3,e.maxResults);let t=e||{},i=nne(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,rv)}function fne(n){n._throwIfRoot("getDownloadURL");let e=rne(n.storage,n._location,tB());return n.storage.makeRequestWithTokens(e,rv).then(t=>{if(t===null)throw wte();return t})}function pne(n){n._throwIfRoot("deleteObject");let e=one(n.storage,n._location);return n.storage.makeRequestWithTokens(e,rv)}function mne(n,e){let t=Gte(n._location.path,e),i=new ki(n._location.bucket,t);return new ld(n.storage,i)}function gne(n){return/^[A-Za-z]+:\/\//.test(n)}function _ne(n,e){return new ld(n,e)}function iB(n,e){if(n instanceof cp){let t=n;if(t._bucket==null)throw vte();let i=new ld(t,t._bucket);return e!=null?iB(i,e):i}else return e!==void 0?mne(n,e):n}function yne(n,e){if(e&&gne(e)){if(n instanceof cp)return _ne(n,e);throw vS("To use ref(service, url), the first argument must be a Storage instance.")}else return iB(n,e)}function q3(n,e){let t=e?.[Q3];return t==null?null:ki.makeFromBucketSpec(t,n)}function vne(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:kp(r,n.app.options.projectId))}var cp=class{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=K3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lte,this._maxUploadRetryTime=cte,this._requests=new Set,r!=null?this._bucket=ki.makeFromBucketSpec(r,this._host):this._bucket=q3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ki.makeFromBucketSpec(this._url,e):this._bucket=q3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return P(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return P(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ld(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new ES(Y3());{let s=Ote(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return P(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()})}},z3="@firebase/storage",W3="0.13.2";var rB="storage";function oB(n,e,t){return n=We(n),dne(n,e,t)}function RS(n,e){return n=We(n),hne(n,e)}function OS(n){return n=We(n),fne(n)}function sB(n){return n=We(n),pne(n)}function up(n,e){return n=We(n),yne(n,e)}function dp(n=ga(),e){n=We(n);let i=Bd(n,rB).getImmediate({identifier:e}),r=Pp("storage");return r&&Ene(i,...r),i}function Ene(n,e,t,i={}){vne(n,e,t,i)}function aB(n,e){return n=We(n),une(n,e)}function wne(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new cp(t,i,r,e,Bp)}function bne(){ma(new Eo(rB,wne,"PUBLIC").setMultipleInstances(!0)),Zt(z3,W3,""),Zt(z3,W3,"esm2017")}bne();var ov=(()=>{class n{constructor(){this.stream=null,this.isInitializing=!1}startCamera(){return P(this,null,function*(){if(this.isInitializing)throw new Error("\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E01\u0E33\u0E25\u0E31\u0E07\u0E40\u0E23\u0E34\u0E48\u0E21\u0E15\u0E49\u0E19\u0E2D\u0E22\u0E39\u0E48");if(this.stream)return this.stream;try{if(this.isInitializing=!0,!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("\u0E40\u0E1A\u0E23\u0E32\u0E27\u0E4C\u0E40\u0E0B\u0E2D\u0E23\u0E4C\u0E44\u0E21\u0E48\u0E23\u0E2D\u0E07\u0E23\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E01\u0E25\u0E49\u0E2D\u0E07");let t={video:{width:{ideal:1280,max:1920},height:{ideal:720,max:1080},facingMode:"user"},audio:!1};return this.stream=yield navigator.mediaDevices.getUserMedia(t),this.stream}catch(t){throw t.name==="NotAllowedError"?new Error("\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E43\u0E2B\u0E49\u0E43\u0E0A\u0E49\u0E01\u0E25\u0E49\u0E2D\u0E07 \u0E01\u0E23\u0E38\u0E13\u0E32\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E43\u0E19\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32\u0E40\u0E1A\u0E23\u0E32\u0E27\u0E4C\u0E40\u0E0B\u0E2D\u0E23\u0E4C"):t.name==="NotFoundError"?new Error("\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E43\u0E19\u0E2D\u0E38\u0E1B\u0E01\u0E23\u0E13\u0E4C"):t.name==="NotReadableError"?new Error("\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E16\u0E39\u0E01\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E42\u0E14\u0E22\u0E41\u0E2D\u0E1B\u0E1E\u0E25\u0E34\u0E40\u0E04\u0E0A\u0E31\u0E19\u0E2D\u0E37\u0E48\u0E19"):new Error(`\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E40\u0E02\u0E49\u0E32\u0E16\u0E36\u0E07\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E44\u0E14\u0E49: ${t.message}`)}finally{this.isInitializing=!1}})}stopCamera(){this.stream&&(this.stream.getTracks().forEach(t=>{t.stop()}),this.stream=null),this.isInitializing=!1}capturePhoto(t){if(!t||t.videoWidth===0)throw new Error("Video element \u0E44\u0E21\u0E48\u0E1E\u0E23\u0E49\u0E2D\u0E21\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E16\u0E48\u0E32\u0E22\u0E20\u0E32\u0E1E");let i=document.createElement("canvas"),r=i.getContext("2d");if(!r)throw new Error("\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E2A\u0E23\u0E49\u0E32\u0E07 canvas context \u0E44\u0E14\u0E49");return i.width=t.videoWidth,i.height=t.videoHeight,r.drawImage(t,0,0),i.toDataURL("image/jpeg",.9)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Cne=["video"],Ine=["cameraDialog"];function Tne(n,e){if(n&1&&(y(0,"div",27),A(1),v()),n&2){let t=z();O(),ze(" ",t.error," ")}}function Sne(n,e){if(n&1){let t=Ee();y(0,"button",35),j("click",function(){$(t);let r=z(2).$implicit,o=z();return U(o.previewFile(r))}),ie(1,"i",38),v()}}function Ane(n,e){if(n&1){let t=Ee();y(0,"div",29)(1,"div",30)(2,"span",31),A(3),v(),y(4,"span",32),A(5),v()(),y(6,"div",33),he(7,Sne,2,0,"button",34),y(8,"button",35),j("click",function(){$(t);let r=z().$implicit,o=z();return U(o.downloadFile(r))}),ie(9,"i",36),v(),y(10,"button",35),j("click",function(){$(t);let r=z().$implicit,o=z();return U(o.deleteFile(r))}),ie(11,"i",37),v()()()}if(n&2){let t=z().$implicit,i=z();O(3),Be(t.name),O(2),ze("",(t.size/(1024*1024)).toFixed(2)," MB"),O(2),K("ngIf",i.isVideoFile(t)||i.isPdfFile(t))}}function Nne(n,e){if(n&1&&(Hi(0),he(1,Ane,12,3,"div",28),Gi()),n&2){let t=e.$implicit,i=z();O(),K("ngIf",!i.isImageFile(t)||i.isVideoFile(t)||i.isPdfFile(t))}}function Mne(n,e){if(n&1){let t=Ee();y(0,"div",40),ie(1,"img",41),y(2,"div",42)(3,"button",35),j("click",function(){$(t);let r=z().$implicit,o=z();return U(o.downloadFile(r))}),ie(4,"i",36),v(),y(5,"button",35),j("click",function(){$(t);let r=z().$implicit,o=z();return U(o.previewFile(r))}),ie(6,"i",38),v(),y(7,"button",35),j("click",function(){$(t);let r=z().$implicit,o=z();return U(o.deleteFile(r))}),ie(8,"i",37),v()()()}if(n&2){let t=z().$implicit,i=z();O(),K("src",i.getFilePreview(t),ph)}}function xne(n,e){if(n&1&&(Hi(0),he(1,Mne,9,1,"div",39),Gi()),n&2){let t=e.$implicit,i=z();O(),K("ngIf",i.isImageFile(t))}}function Rne(n,e){if(n&1){let t=Ee();y(0,"div",43)(1,"div",44),j("click",function(){$(t);let r=z();return U(r.closePreview())}),v(),y(2,"div",45),ie(3,"img",46),y(4,"button",47),j("click",function(){$(t);let r=z();return U(r.rotatePreview())}),ie(5,"i",48),v(),y(6,"button",49),j("click",function(){$(t);let r=z();return U(r.closePreview())}),ie(7,"i",50),v()()()}if(n&2){let t=z();O(3),xc("transform","rotate("+t.rotationAngle+"deg)"),K("src",t.previewPhotoUrl,ph)}}function One(n,e){if(n&1){let t=Ee();y(0,"div",51)(1,"div",44),j("click",function(){$(t);let r=z();return U(r.closePreview())}),v(),y(2,"div",45),ie(3,"video",52),y(4,"button",47),j("click",function(){$(t);let r=z();return U(r.rotatePreview())}),ie(5,"i",48),v(),y(6,"button",49),j("click",function(){$(t);let r=z();return U(r.closePreview())}),ie(7,"i",50),v()()()}if(n&2){let t=z();O(3),xc("transform","rotate("+t.rotationAngle+"deg)"),K("src",t.previewVideoUrl,ph)}}function Pne(n,e){if(n&1){let t=Ee();y(0,"div",53)(1,"div",44),j("click",function(){$(t);let r=z();return U(r.closePreview())}),v(),y(2,"div",45),ie(3,"iframe",54),y(4,"button",49),j("click",function(){$(t);let r=z();return U(r.closePreview())}),ie(5,"i",50),v()()()}if(n&2){let t=z();O(3),K("src",t.previewPdfUrl,eb)}}var ud=(()=>{class n{constructor(t,i,r,o,s){this.appCom=t,this.cameraService=i,this.cdr=r,this.ngZone=o,this.sanitizer=s,this.sourceFiles=jR([]),this.isCameraActive=!1,this.isLoading=!1,this.error=null,this.stream=null,this.isPreviewOpen=!1,this.previewPhotoUrl=null,this.previewVideoUrl=null,this.previewPdfUrl=null,this.rotationAngle=0}ngAfterViewInit(){this.cameraDialogModal=new Hn(this.cameraDialog.nativeElement)}ngOnDestroy(){this.stopCamera()}ngOnChanges(t){t.selectedFiles&&(console.log("selectedFiles updated:",this.sourceFiles),this.cdr.detectChanges())}onFilesSelected(t){let i=t.target;if(i.files){let r=Array.from(i.files),o=r.filter(s=>s.size<=500*1024*1024);o.length<r.length&&this.appCom.showDialog("\u0E1A\u0E32\u0E07\u0E44\u0E1F\u0E25\u0E4C\u0E21\u0E35\u0E02\u0E19\u0E32\u0E14\u0E40\u0E01\u0E34\u0E19 500MB \u0E41\u0E25\u0E30\u0E08\u0E30\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E41\u0E19\u0E1A","Info"),this.sourceFiles.set([...this.sourceFiles(),...o])}}openCameraDialog(){return P(this,null,function*(){try{let t=yield navigator.permissions.query({name:"camera"});t.state==="denied"&&(this.error="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E1B\u0E34\u0E14\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E4C\u0E01\u0E32\u0E23\u0E40\u0E02\u0E49\u0E32\u0E16\u0E36\u0E07\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E43\u0E19\u0E40\u0E1A\u0E23\u0E32\u0E27\u0E4C\u0E40\u0E0B\u0E2D\u0E23\u0E4C\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13",this.cdr.detectChanges()),t.state==="prompt"&&(this.error="\u0E23\u0E30\u0E1A\u0E1A\u0E01\u0E33\u0E25\u0E31\u0E07\u0E02\u0E2D\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E4C\u0E01\u0E32\u0E23\u0E40\u0E02\u0E49\u0E32\u0E16\u0E36\u0E07\u0E01\u0E25\u0E49\u0E2D\u0E07 \u0E01\u0E23\u0E38\u0E13\u0E32\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19",this.cdr.detectChanges()),this.cameraDialogModal.show(),yield this.startCamera()}catch{this.error="\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E4C\u0E01\u0E32\u0E23\u0E40\u0E02\u0E49\u0E32\u0E16\u0E36\u0E07\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E44\u0E14\u0E49",this.cdr.detectChanges()}})}closeCameraDialog(){this.cameraDialogModal.hide(),this.stopCamera()}startCamera(){return P(this,null,function*(){try{if(this.isLoading=!0,this.error=null,this.cdr.detectChanges(),this.stream=yield this.cameraService.startCamera(),!this.stream||this.stream.getTracks().length===0)throw new Error("Stream \u0E44\u0E21\u0E48\u0E1E\u0E23\u0E49\u0E2D\u0E21\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19");yield this.setupVideoStream()}catch(t){this.error=t.message||"\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E40\u0E1B\u0E34\u0E14\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E44\u0E14\u0E49",this.isCameraActive=!1}finally{this.isLoading=!1,this.cdr.detectChanges()}})}setupVideoStream(){return P(this,null,function*(){return new Promise((t,i)=>{if(!this.videoElement||!this.videoElement.nativeElement||!this.stream){i(new Error("Video element \u0E2B\u0E23\u0E37\u0E2D stream \u0E44\u0E21\u0E48\u0E1E\u0E23\u0E49\u0E2D\u0E21"));return}let r=this.videoElement.nativeElement;r.srcObject=this.stream,r.muted=!0,r.playsInline=!0,r.onloadedmetadata=()=>{r.play().then(()=>{this.ngZone.run(()=>{this.isCameraActive=!0,this.cdr.detectChanges()}),t()}).catch(()=>{i(new Error("\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E40\u0E25\u0E48\u0E19\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E44\u0E14\u0E49"))})},r.onerror=()=>{i(new Error("\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E01\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E41\u0E2A\u0E14\u0E07\u0E1C\u0E25\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D"))}})})}stopCamera(){if(this.cameraService.stopCamera(),this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null),this.videoElement&&this.videoElement.nativeElement){let t=this.videoElement.nativeElement;t.srcObject=null,t.pause()}this.isCameraActive=!1,this.isLoading=!1,this.error=null,this.cdr.detectChanges()}capturePhoto(){if(!this.isCameraActive){this.error="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E1B\u0E34\u0E14\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E01\u0E48\u0E2D\u0E19\u0E16\u0E48\u0E32\u0E22\u0E20\u0E32\u0E1E";return}let t=this.videoElement.nativeElement;try{let i=this.cameraService.capturePhoto(t),r=this.dataURLToBlob(i),o=new File([r],`Photo_${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.jpg`,{type:"image/jpeg"});this.sourceFiles.set([...this.sourceFiles(),o]),this.error=null,this.cdr.detectChanges(),this.closeCameraDialog()}catch{this.error="\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E16\u0E48\u0E32\u0E22\u0E20\u0E32\u0E1E\u0E44\u0E14\u0E49"}}dataURLToBlob(t){let i=t.split(","),r=atob(i[1]),o=i[0].split(":")[1].split(";")[0],s=new ArrayBuffer(r.length),a=new Uint8Array(s);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return new Blob([s],{type:o})}triggerFileInput(){let t=document.getElementById("fileInput");t&&t.click()}rotatePreview(){this.rotationAngle+=90,this.rotationAngle>=360&&(this.rotationAngle=0)}closePreview(){this.isPreviewOpen=!1,this.previewPhotoUrl=null,this.previewVideoUrl=null,this.previewPdfUrl=null,this.rotationAngle=0}previewFile(t){this.isImageFile(t)?(this.previewPhotoUrl=URL.createObjectURL(t),this.previewVideoUrl=null,this.previewPdfUrl=null):this.isVideoFile(t)?(this.previewVideoUrl=URL.createObjectURL(t),this.previewPhotoUrl=null,this.previewPdfUrl=null):this.isPdfFile(t)&&(this.previewPdfUrl=this.sanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(t)),this.previewPhotoUrl=null,this.previewVideoUrl=null),this.rotationAngle=0,this.isPreviewOpen=!0}deleteFile(t){this.sourceFiles.set(this.sourceFiles().filter(i=>i!==t))}downloadFile(t){let i=document.createElement("a");i.download=t.name,i.href=URL.createObjectURL(t),document.body.appendChild(i),i.click(),document.body.removeChild(i)}clearAllFiles(){this.sourceFiles.set([])}isImageFile(t){return t.type.startsWith("image/")}isVideoFile(t){return t.type.startsWith("video/")}isPdfFile(t){return t.type==="application/pdf"}getFilePreview(t){return URL.createObjectURL(t)}static{this.\u0275fac=function(i){return new(i||n)(J(jn),J(ov),J(Qn),J(ye),J(Kb))}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-camera"]],viewQuery:function(i,r){if(i&1&&(tn(Cne,5),tn(Ine,5)),i&2){let o;ct(o=ut())&&(r.videoElement=o.first),ct(o=ut())&&(r.cameraDialog=o.first)}},inputs:{sourceFiles:[pt.SignalBased,"sourceFiles"]},outputs:{sourceFiles:"sourceFilesChange"},features:[In],decls:36,vars:8,consts:[["cameraDialog",""],["video",""],[1,"camera-input-container"],[1,"input-wrapper"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],["type","button",1,"btn","btn-info","btn-sm",3,"click"],["type","file","id","fileInput","multiple","",1,"form-control","d-none",3,"change"],["data-bs-backdrop","static","tabindex","-1","role","dialog",1,"modal"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"video-container"],["class","error-message",4,"ngIf"],["autoplay","","playsinline","","muted","",1,"video-stream"],[1,"modal-footer"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"photos-section"],[1,"photos-header"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"files-list"],[4,"ngFor","ngForOf"],["class","photo-preview",4,"ngIf"],["class","video-preview",4,"ngIf"],["class","pdf-preview",4,"ngIf"],[1,"error-message"],["class","file-item",4,"ngIf"],[1,"file-item"],[1,"file-info"],[1,"file-name"],[1,"file-size"],[1,"file-actions"],["class","icon-btn",3,"click",4,"ngIf"],[1,"icon-btn",3,"click"],[1,"bi","bi-download"],[1,"bi","bi-trash"],[1,"bi","bi-eye"],["class","photo-item",4,"ngIf"],[1,"photo-item"],["alt","Selected File",1,"photo-thumbnail",3,"src"],[1,"photo-actions"],[1,"photo-preview"],[1,"preview-overlay",3,"click"],[1,"preview-content"],["alt","Preview Photo",1,"preview-image",3,"src"],[1,"icon-btn","rotate-btn",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"icon-btn","close-btn",3,"click"],[1,"bi","bi-x"],[1,"video-preview"],["controls","","autoplay","",1,"preview-video",3,"src"],[1,"pdf-preview"],[1,"preview-pdf",3,"src"]],template:function(i,r){if(i&1){let o=Ee();y(0,"div",2)(1,"div",3)(2,"button",4),j("click",function(){return $(o),U(r.triggerFileInput())}),A(3,"\u{1F4C1} \u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E1F\u0E25\u0E4C"),v(),y(4,"button",5),j("click",function(){return $(o),U(r.openCameraDialog())}),A(5,"\u{1F4F9} \u0E40\u0E1B\u0E34\u0E14\u0E01\u0E25\u0E49\u0E2D\u0E07"),v()(),y(6,"input",6),j("change",function(a){return $(o),U(r.onFilesSelected(a))}),v()(),y(7,"div",7,0)(9,"div",8)(10,"div",9)(11,"div",10)(12,"h5",11),A(13,"\u0E40\u0E1B\u0E34\u0E14\u0E01\u0E25\u0E49\u0E2D\u0E07"),v()(),y(14,"div",12)(15,"div",13),he(16,Tne,2,1,"div",14),ie(17,"video",15,1),v()(),y(19,"div",16)(20,"button",17),j("click",function(){return $(o),U(r.capturePhoto())}),A(21,"\u{1F4F8} \u0E16\u0E48\u0E32\u0E22\u0E20\u0E32\u0E1E"),v(),y(22,"button",18),j("click",function(){return $(o),U(r.closeCameraDialog())}),A(23,"\u0E1B\u0E34\u0E14\u0E01\u0E25\u0E49\u0E2D\u0E07"),v()()()()(),y(24,"div",19)(25,"div",20)(26,"p"),A(27),v(),y(28,"button",21),j("click",function(){return $(o),U(r.clearAllFiles())}),A(29,"\u0E25\u0E1A\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14"),v()(),y(30,"div",22),he(31,Nne,2,1,"ng-container",23),v(),he(32,xne,2,1,"ng-container",23),v(),he(33,Rne,8,3,"div",24)(34,One,8,3,"div",25)(35,Pne,6,1,"div",26)}i&2&&(O(16),K("ngIf",r.error),O(11),ze("\u0E08\u0E33\u0E19\u0E27\u0E19\u0E44\u0E1F\u0E25\u0E4C\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14: ",r.sourceFiles().length,""),O(),K("disabled",r.sourceFiles().length==0),O(3),K("ngForOf",r.sourceFiles()),O(),K("ngForOf",r.sourceFiles()),O(),K("ngIf",r.isPreviewOpen&&r.previewPhotoUrl),O(),K("ngIf",r.isPreviewOpen&&r.previewVideoUrl),O(),K("ngIf",r.isPreviewOpen&&r.previewPdfUrl))},dependencies:[AO,Ln],styles:[".camera-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid #ccc;border-radius:4px;padding:10px;background-color:#f8f9fa;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;width:100%;max-width:400px}.camera-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.error-message[_ngcontent-%COMP%]{position:absolute;top:10px;left:50%;transform:translate(-50%);color:#c33;background-color:#fee;padding:10px;border:1px solid #fcc;border-radius:4px;font-size:14px;z-index:10;text-align:center;box-shadow:0 2px 10px #0000001a}.video-container[_ngcontent-%COMP%]{position:relative;margin:20px 0;border-radius:12px;overflow:hidden;box-shadow:0 4px 15px #0000001a}.video-stream[_ngcontent-%COMP%]{width:100%;height:auto;display:block;background-color:#000}.photos-section[_ngcontent-%COMP%]{margin-top:20px}.photos-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid #ecf0f1;margin-bottom:10px}.photo-item[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:10px}.photo-thumbnail[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border-radius:8px;box-shadow:0 2px 4px #0000001a}.photo-actions[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;display:flex;gap:5px;opacity:0;transition:opacity .3s ease}.photo-item[_ngcontent-%COMP%]:hover   .photo-actions[_ngcontent-%COMP%]{opacity:1}.icon-btn[_ngcontent-%COMP%]{background:#0009;color:#fff;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .2s ease}.icon-btn[_ngcontent-%COMP%]:hover{background:#000c}.icon-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.photo-preview[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;z-index:1050}.preview-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;z-index:1050}.preview-content[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0003;z-index:1060;width:90%;max-width:1200px;display:flex;align-items:center;justify-content:center}.preview-image[_ngcontent-%COMP%]{max-width:100%;max-height:80vh;object-fit:contain;display:block}.preview-video[_ngcontent-%COMP%]{max-width:100%;max-height:80vh;display:block}.preview-pdf[_ngcontent-%COMP%]{width:100%;height:80vh;border:none;display:block}.icon-btn.rotate-btn[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;background:#0009;color:#fff;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer}.icon-btn.rotate-btn[_ngcontent-%COMP%]:hover{background:#000c}.icon-btn.close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:#0009;color:#fff;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer}.icon-btn.close-btn[_ngcontent-%COMP%]:hover{background:#000c}.icon-btn.close-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.files-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.file-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border:1px solid #ddd;border-radius:5px;background-color:#f9f9f9}.file-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.file-name[_ngcontent-%COMP%]{font-weight:700}.file-size[_ngcontent-%COMP%]{font-size:.9em;color:#666}.file-actions[_ngcontent-%COMP%]{display:flex;gap:10px}"]})}}return n})();var Fne=["myDialogForm"],Vne=["cameraDialog"];function Lne(n,e){if(n&1){let t=Ee();y(0,"tr",43),j("click",function(){let r=$(t).$implicit,o=z();return U(o.onEditData(r))}),y(1,"th",44),A(2),Sn(3,"number"),v(),y(4,"td",45),A(5),v(),y(6,"td",45),A(7),v(),y(8,"td",46),A(9),Sn(10,"date"),v()()}if(n&2){let t=e.$implicit,i=e.$index;O(2),ze(" ",La(3,4,i+1),""),O(3),Be(t.name),O(2),Be(t.description),O(2),Be(Ii(10,6,t.createdAt==null?null:t.createdAt.toDate(),"dd/MM/yy HH:mm"))}}function Bne(n,e){n&1&&(y(0,"tr")(1,"td",47),A(2,"\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),v()())}function jne(n,e){n&1&&(y(0,"div",48),A(1," \u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E0A\u0E37\u0E48\u0E2D\u0E04\u0E33\u0E23\u0E49\u0E2D\u0E07 "),v())}function $ne(n,e){n&1&&(y(0,"div",48),A(1," \u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14\u0E04\u0E33\u0E23\u0E49\u0E2D\u0E07 "),v())}function Une(n,e){if(n&1){let t=Ee();y(0,"button",49),j("click",function(){$(t);let r=z();return U(r.submitData())}),A(1,"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01"),v()}}var lB=(()=>{class n{constructor(t,i,r){this.appCom=t,this.firestore=i,this.fb=r,this.auth=R(pn),this.titleForm="\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E04\u0E33\u0E02\u0E2D",this.filteredData=[],this.dataSource=[],this.search="",this.items=[],this.prefixes=[],this.selectedFiles=[],this.getData()}ngAfterViewInit(){this.myDialogFormModal=new Hn(this.myDialogForm.nativeElement),this.myDialogcameraModal=new Hn(this.cameraDialog.nativeElement)}ngOnInit(){this.createForm()}inputSearch(t){this.search=t,this.filterSource(t)}getData(){this.appCom.isLoading=!0;let t=Xo(this.firestore,"request"),i=Yu(t);this.requestData$=Ku(i,{idField:"id"}),this.requestData$.subscribe(r=>{console.log(r),this.dataSource=r,this.filterSource(this.search),this.appCom.isLoading=!1})}pageTokenExample(){return P(this,null,function*(){let t=dp(),i=up(t,"gs://ang-fire-df191.firebasestorage.app/request"),r=yield RS(i,{maxResults:100});if(this.processItems(r.items),this.processPrefixes(r.prefixes),r.nextPageToken){let o=yield RS(i,{maxResults:100,pageToken:r.nextPageToken});this.processItems(o.items),this.processPrefixes(o.prefixes)}})}filterSource(t){var i=this.dataSource.map(r=>r);t&&t.length>0?this.filteredData=i.filter(r=>r.name.toLowerCase().includes(t.toLowerCase())).map(r=>r):this.filteredData=i}createForm(){this.form=this.fb.group({name:["",dt.required],description:[""],createdAt:[null],userCreated:[""]})}onAddData(){this.myDialogFormModal.show()}submitData(){return P(this,null,function*(){if(!this.form.invalid){if(this.selectedFiles.length===0){this.appCom.showDialog("\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E1F\u0E25\u0E4C\u0E2B\u0E23\u0E37\u0E2D\u0E16\u0E48\u0E32\u0E22\u0E20\u0E32\u0E1E");return}this.appCom.showConfirmDialog("\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?").then(t=>P(this,null,function*(){if(t){this.appCom.isLoading=!0;let i=[],r=dp();for(let u of this.selectedFiles){let d=u.name.split(".").pop(),f=`gs://ang-fire-df191.firebasestorage.app/request/${Date.now()}.${d}`,m=up(r,f);yield oB(m,u);let g=yield OS(m);i.push({name:u.name,path:f,downloadURL:g})}let o=this.auth.currentUserSig()?.uid;this.form.value.userCreated=o,this.form.value.createdAt=xl();let s=this.form.value,a=Me(Y({},s),{files:i}),l=Xo(this.firestore,"request");yield Qu(l,a).then(()=>{this.appCom.showToast("\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E40\u0E23\u0E35\u0E22\u0E1A\u0E23\u0E49\u0E2D\u0E22\u0E41\u0E25\u0E49\u0E27"),this.appCom.isLoading=!1,this.selectedFiles=[],this.closeDialogForm()}).catch(u=>{this.appCom.showDialog("\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E14\u0E49: "+u.message,"Error"),this.appCom.isLoading=!1})}}))}})}onClickDelete(t){this.appCom.showConfirmDialog("\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E25\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E19\u0E35\u0E49\u0E43\u0E0A\u0E48\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?").then(i=>{if(i){let r=dp(),o=up(r,"gs://ang-fire-df191.firebasestorage.app/"+t.path);sB(o).then(()=>{this.appCom.showToast("\u0E25\u0E1A\u0E44\u0E1F\u0E25\u0E4C\u0E40\u0E23\u0E35\u0E22\u0E1A\u0E23\u0E49\u0E2D\u0E22\u0E41\u0E25\u0E49\u0E27")}).catch(s=>{this.appCom.showDialog("\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E25\u0E1A\u0E44\u0E1F\u0E25\u0E4C\u0E44\u0E14\u0E49","Error")}),this.clearData(),this.closeDialogForm()}})}closeDialogForm(){this.clearData(),this.myDialogFormModal.hide()}clearData(){this.id=void 0,this.selectedFiles=[],this.createForm()}processItems(t){return P(this,null,function*(){this.items=yield Promise.all(t.map((i,r)=>P(this,null,function*(){let o="";try{o=yield OS(i)}catch{o="\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E14\u0E36\u0E07 URL \u0E44\u0E14\u0E49"}return{index:r+1,path:i.fullPath,name:i._location?.path_||"\u0E44\u0E21\u0E48\u0E17\u0E23\u0E32\u0E1A\u0E0A\u0E37\u0E48\u0E2D",downloadURL:o}})))})}processPrefixes(t){this.prefixes=t}isImageFile(t){return[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg"].some(r=>t.toLowerCase().endsWith(r))}onClickOpenDialog(){this.myDialogcameraModal.show()}onClickCloseDialog(){this.myDialogcameraModal.hide()}onEditData(t){return P(this,null,function*(){this.appCom.isLoading=!0,this.id=t.id,this.selectedFiles=yield Promise.all(t.files.map(i=>this.convertToFile(i))),this.myDialogFormModal.show(),this.form=this.fb.group({id:[t.id],name:[t.name,dt.required],description:[t.description],createdAt:[t.createdAt]}),this.appCom.isLoading=!1})}convertToFile(t){return P(this,null,function*(){let i=dp(),r=up(i,t.path),o=yield aB(r);return new File([o],t.name,{type:o.type})})}static{this.\u0275fac=function(i){return new(i||n)(J(jn),J(Ar),J(to))}}static{this.\u0275cmp=Ae({type:n,selectors:[["app-request-component"]],viewQuery:function(i,r){if(i&1&&(tn(ud,5),tn(Fne,5),tn(Vne,5)),i&2){let o;ct(o=ut())&&(r.cameraComponent=o.first),ct(o=ut())&&(r.myDialogForm=o.first),ct(o=ut())&&(r.cameraDialog=o.first)}},decls:79,vars:8,consts:[["myDialogForm",""],["cameraDialog",""],[1,"row","justify-content-between","pb-3"],[1,"col-auto"],[1,"btn-toolbar"],[1,"btn","btn-primary",3,"click"],[1,"row","justify-content-center","g-3"],[1,"col-12"],[1,"row","g-3"],[1,"col","col-sm-6","col-lg-3"],[3,"onSerach"],[1,"col"],[1,"border","rounded-2"],[1,"w-full","p-4"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","border","rounded-2"],["scope","col"],[1,"cursor-pointer"],["data-bs-backdrop","static","tabindex","-1","role","dialog",1,"modal"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","g-3",3,"formGroup"],[1,"col-md-6"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name","placeholder","\u0E0A\u0E37\u0E48\u0E2D\u0E04\u0E33\u0E23\u0E49\u0E2D\u0E07",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","files",1,"form-label"],[1,"input-group"],[1,"input-group-text"],["type","button","placeholder","\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E1F\u0E25\u0E4C","readonly","",1,"form-control",3,"click"],["for","description",1,"form-label"],["id","description","formControlName","description","rows","3","placeholder","\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14\u0E04\u0E33\u0E23\u0E49\u0E2D\u0E07",1,"form-control"],[1,"modal-footer"],["class","btn btn-primary","type","submit",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn-close",3,"click"],[3,"sourceFilesChange","sourceFiles"],[1,"cursor-pointer",3,"click"],["scope","row",1,"",2,"min-width","50px"],[1,"",2,"min-width","150px"],[1,"text-center",2,"min-width","150px"],["colspan","3",2,"text-align","center"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(i,r){if(i&1){let o=Ee();y(0,"div",2)(1,"div",3)(2,"h1"),A(3,"\u0E04\u0E33\u0E23\u0E49\u0E2D\u0E07"),v()(),y(4,"div",3)(5,"div",4)(6,"button",5),j("click",function(){return $(o),U(r.onAddData())}),A(7,"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E04\u0E33\u0E02\u0E2D"),v()()()(),y(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-inputsearch",10),j("onSerach",function(a){return $(o),U(r.inputSearch(a))}),v()()()(),y(13,"div",11)(14,"div",12)(15,"section",13)(16,"div",14)(17,"table",15)(18,"thead")(19,"tr")(20,"th",16),A(21,"#"),v(),y(22,"th",16),A(23,"\u0E0A\u0E37\u0E48\u0E2D\u0E44\u0E1F\u0E25\u0E4C"),v(),y(24,"th",16),A(25,"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"),v(),y(26,"th",16),A(27,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E04\u0E33\u0E23\u0E49\u0E2D\u0E07"),v()()(),y(28,"tbody"),ui(29,Lne,11,9,"tr",17,Ds,!1,Bne,3,0,"tr"),v()()()()()()(),y(32,"div",18,0)(34,"div",19)(35,"div",20)(36,"div",21)(37,"h5",22),A(38),v(),y(39,"button",23),j("click",function(){return $(o),U(r.closeDialogForm())}),ie(40,"span",24),v()(),y(41,"div",25)(42,"form",26)(43,"div",27)(44,"div",28)(45,"label",29),A(46,"\u0E0A\u0E37\u0E48\u0E2D\u0E04\u0E33\u0E23\u0E49\u0E2D\u0E07"),v(),ie(47,"input",30),he(48,jne,2,0,"div",31),v()(),y(49,"div",27)(50,"div",28)(51,"label",32),A(52,"\u0E41\u0E19\u0E1A\u0E44\u0E1F\u0E25\u0E4C"),v(),y(53,"div",33)(54,"span",34),A(55,"\u0E44\u0E1F\u0E25\u0E4C"),v(),y(56,"button",35),j("click",function(){return $(o),U(r.onClickOpenDialog())}),A(57),v()()()(),y(58,"div",7)(59,"div",28)(60,"label",36),A(61,"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14\u0E04\u0E33\u0E23\u0E49\u0E2D\u0E07"),v(),ie(62,"textarea",37),he(63,$ne,2,0,"div",31),v()()()(),y(64,"div",38),he(65,Une,2,0,"button",39),y(66,"button",40),j("click",function(){return $(o),U(r.clearData())}),A(67,"\u0E25\u0E49\u0E32\u0E07"),v()()()()(),y(68,"div",18,1)(70,"div",19)(71,"div",20)(72,"div",21)(73,"h5",22),A(74,"\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E44\u0E1F\u0E25\u0E4C\u0E41\u0E25\u0E30\u0E23\u0E39\u0E1B\u0E20\u0E32\u0E1E"),v(),y(75,"button",41),j("click",function(){return $(o),U(r.onClickCloseDialog())}),v()(),y(76,"div",25)(77,"app-camera",42),Pt("sourceFilesChange",function(a){return $(o),Ut(r.selectedFiles,a)||(r.selectedFiles=a),U(a)}),v()()(),ie(78,"div",38),v()()}if(i&2){let o,s;O(29),di(r.filteredData),O(9),Be(r.id?"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),O(4),K("formGroup",r.form),O(6),K("ngIf",((o=r.form.get("name"))==null?null:o.invalid)&&((o=r.form.get("name"))==null?null:o.touched)),O(9),ze(" \u0E08\u0E33\u0E19\u0E27\u0E19\u0E44\u0E1F\u0E25\u0E4C: ",r.selectedFiles.length," "),O(6),K("ngIf",((s=r.form.get("description"))==null?null:s.invalid)&&((s=r.form.get("description"))==null?null:s.touched)),O(2),K("ngIf",!r.id),O(12),Ot("sourceFiles",r.selectedFiles)}},dependencies:[eo,qt,fn,Xr,gr,_r,Ln,od,ud,Oc,Is]})}}return n})();var cB=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:kF},{path:"register",component:Dk,canActivate:[Y1]},{path:"login",component:bk,canActivate:[Y1]},{path:"about",component:Ck},{path:"equipment",component:L3,canActivate:[Qh]},{path:"expenses",component:j3,canActivate:[Qh]},{path:"request",component:lB,canActivate:[Qh]},{path:"camera",component:ud,canActivate:[Qh]}];var uB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({providers:[{provide:pr,useClass:r_}],imports:[k1.forRoot(cB),k1]})}}return n})();var hp={production:!0,firebaseConfig:{projectId:"ang-fire-df191",appId:"1:414892759908:web:c746b7df28b91d0a677871",storageBucket:"ang-fire-df191.appspot.com",apiKey:"AIzaSyD31IuPz-SrQADFcAFPah4HyPfDwhUvf0Q",authDomain:"ang-fire-df191.firebaseapp.com",messagingSenderId:"414892759908"}};var Hne="firebase",Gne="10.14.1";zn.registerVersion(Hne,Gne,"app-compat");var qne=["ngOnDestroy"],hB=(n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(qne.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(u=>t.run(()=>u)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,u)=>s.then(d=>{let f=d?.(...u);return i?.spy?.apply&&i.spy.apply(o,u,f),f})})})});var sv=class{constructor(e){return e}},dd=new se("angularfire2.app.options"),hd=new se("angularfire2.app.name");function fp(n,e,t){let i=typeof t=="string"&&t||"[DEFAULT]",r=typeof t=="object"&&t||{};r.name=r.name||i;let s=zn.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>zn.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let a=!!module.hot;zne("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new sv(s)}var zne=(n,...e)=>{bb()&&typeof console<"u"&&console[n](...e)},Wne={provide:sv,useFactory:fp,deps:[dd,ye,[new dn,hd]]},fB=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:dd,useValue:t},{provide:hd,useValue:i}]}}constructor(t){zn.registerVersion("angularfire",pi.full,"core"),zn.registerVersion("angularfire",pi.full,"app-compat"),zn.registerVersion("angular",Bg.full,t.toString())}static \u0275fac=function(i){return new(i||n)(te(Tn))};static \u0275mod=Te({type:n});static \u0275inj=Ie({providers:[Wne]})}return n})();function av(n,e,t,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return Kne(r,s)||(dB("error",`${e} was already initialized on the ${t} Firebase App with different settings.${Qne?" You may need to reload as Firebase is not HMR aware.":""}`),dB("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}function Kne(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var Qne=typeof module<"u"&&!!module.hot,dB=(n,...e)=>{bb()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Yne=new Map,Jne={activated:!1,tokenObservers:[]},Zne={initialized:!1,enabled:!1};function Nr(n){return Yne.get(n)||Object.assign({},Jne)}function yB(){return Zne}var Xne="https://content-firebaseappcheck.googleapis.com/v1";var eie="exchangeDebugToken",pB={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},abe=24*60*60*1e3;var kS=class{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return P(this,null,function*(){this.stop();try{this.pending=new Pv,this.pending.promise.catch(t=>{}),yield tie(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Pv,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function tie(n){return new Promise(e=>{setTimeout(e,n)})}var nie={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},aa=new nN("appCheck","AppCheck",nie);function vB(n){if(!Nr(n).activated)throw aa.create("use-before-activation",{appName:n.name})}function EB(i,r){return P(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(n,a)}catch(g){throw aa.create("fetch-network-error",{originalErrorMessage:g?.message})}if(l.status!==200)throw aa.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(g){throw aa.create("fetch-parse-error",{originalErrorMessage:g?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw aa.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,m=Date.now();return{token:u.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function wB(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${Xne}/projects/${t}/apps/${i}:${eie}?key=${r}`,body:{debug_token:e}}}var iie="firebase-app-check-database",rie=1,FS="firebase-app-check-store";var lv=null;function oie(){return lv||(lv=new Promise((n,e)=>{try{let t=indexedDB.open(iie,rie);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(aa.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(FS,{keyPath:"compositeKey"})}}}catch(t){e(aa.create("storage-open",{originalErrorMessage:t?.message}))}}),lv)}function sie(n,e){return aie(lie(n),e)}function aie(n,e){return P(this,null,function*(){let i=(yield oie()).transaction(FS,"readwrite"),o=i.objectStore(FS).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var u;a(aa.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function lie(n){return`${n.options.appId}-${n.name}`}var VS=new Lp("@firebase/app-check");function PS(n,e){return Fp()?sie(n,e).catch(t=>{VS.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function bB(){return yB().enabled}function DB(){return P(this,null,function*(){let n=yB();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var cie={error:"UNKNOWN_ERROR"};function uie(n){return tN.encodeString(JSON.stringify(n),!1)}function LS(n,e=!1){return P(this,null,function*(){let t=n.app;vB(t);let i=Nr(t),r=i.token,o;if(r&&!pp(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(pp(l)?r=l:yield PS(t,void 0))}if(!e&&r&&pp(r))return{token:r.token};let s=!1;if(bB()){i.exchangeTokenPromise||(i.exchangeTokenPromise=EB(wB(t,yield DB()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield PS(t,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Nr(t).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?VS.warn(l.message):VS.error(l),o=l}let a;return r?o?pp(r)?a={token:r.token,internalError:o}:a=gB(o):(a={token:r.token},i.token=r,yield PS(t,r)):a=gB(o),s&&pie(t,a),a})}function die(n){return P(this,null,function*(){let e=n.app;vB(e);let{provider:t}=Nr(e);if(bB()){let i=yield DB(),{token:r}=yield EB(wB(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function hie(n,e,t,i){let{app:r}=n,o=Nr(r),s={next:t,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&pp(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),mB(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>mB(n))}function CB(n,e){let t=Nr(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function mB(n){let{app:e}=n,t=Nr(e),i=t.tokenRefresher;i||(i=fie(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function fie(n){let{app:e}=n;return new kS(()=>P(this,null,function*(){let t=Nr(e),i;if(t.token?i=yield LS(n,!0):i=yield LS(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=Nr(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},pB.RETRIAL_MIN_WAIT,pB.RETRIAL_MAX_WAIT)}function pie(n,e){let t=Nr(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function pp(n){return n.expireTimeMillis-Date.now()>0}function gB(n){return{token:uie(cie),error:n}}var BS=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Nr(this.app);for(let t of e)CB(this.app,t.next);return Promise.resolve()}};function mie(n,e){return new BS(n,e)}function gie(n){return{getToken:e=>LS(n,e),getLimitedUseToken:()=>die(n),addTokenListener:e=>hie(n,"INTERNAL",e),removeTokenListener:e=>CB(n.app,e)}}var _ie="@firebase/app-check",yie="0.8.8";var vie="app-check",_B="app-check-internal";function Eie(){ma(new Eo(vie,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return mie(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_B).initialize()})),ma(new Eo(_B,n=>{let e=n.getProvider("app-check").getImmediate();return gie(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Zt(_ie,yie)}Eie();var wie=["localhost","0.0.0.0","127.0.0.1"],vbe=typeof window<"u"&&wie.includes(window.location.hostname);var jS=new se("angularfire2.auth.use-emulator"),$S=new se("angularfire2.auth.settings"),US=new se("angularfire2.auth.tenant-id"),HS=new se("angularfire2.auth.langugage-code"),GS=new se("angularfire2.auth.use-device-language"),qS=new se("angularfire.auth.persistence"),zS=(n,e,t,i,r,o,s,a)=>av(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[u,d]of Object.entries(s))l.settings[u]=d;return a&&l.setPersistence(a),l},[t,i,r,o,s,a]),WS=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,l,u,d,f,m,g){let D=new Fe,I=ue(void 0).pipe(wi(s.outsideAngular),ft(()=>o.runOutsideAngular(()=>import("./chunk-YZRG2JC3.js"))),ce(()=>fp(t,o,i)),ce(T=>zS(T,o,a,u,d,f,l,m)),vm({bufferSize:1,refCount:!1}));if(Ha(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ue(null);else{I.pipe(Li()).subscribe();let T=I.pipe(ft(B=>B.getRedirectResult().then(G=>G,()=>null)),Jn,vm({bufferSize:1,refCount:!1})),F=I.pipe(ft(B=>new pe(G=>({unsubscribe:o.runOutsideAngular(()=>B.onAuthStateChanged(Z=>G.next(Z),Z=>G.error(Z),()=>G.complete()))})))),H=I.pipe(ft(B=>new pe(G=>({unsubscribe:o.runOutsideAngular(()=>B.onIdTokenChanged(Z=>G.next(Z),Z=>G.error(Z),()=>G.complete()))}))));this.authState=T.pipe(Em(F),Vi(s.outsideAngular),wi(s.insideAngular)),this.user=T.pipe(Em(H),Vi(s.outsideAngular),wi(s.insideAngular)),this.idToken=this.user.pipe(ft(B=>B?Se(B.getIdToken()):ue(null))),this.idTokenResult=this.user.pipe(ft(B=>B?Se(B.getIdTokenResult()):ue(null))),this.credential=Hd(T,D,this.authState.pipe(Xe(B=>!B))).pipe(ce(B=>B?.user?B:null),Vi(s.outsideAngular),wi(s.insideAngular))}return hB(this,I,o,{spy:{apply:(T,F,H)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&H.then(B=>D.next(B))}}})}static \u0275fac=function(i){return new(i||n)(te(dd),te(hd,8),te(Tn),te(ye),te(io),te(jS,8),te($S,8),te(US,8),te(HS,8),te(GS,8),te(qS,8),te(yr,8))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),TB=(()=>{class n{constructor(){zn.registerVersion("angularfire",pi.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=Ie({providers:[WS]})}return n})();var Die="@firebase/firestore-compat",Cie="0.3.38";function XS(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new q("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function SB(){if(typeof Uint8Array>"u")throw new q("unimplemented","Uint8Arrays are not available in this environment.")}function AB(){if(!X2())throw new q("unimplemented","Blobs are unavailable in Firestore in this environment.")}var cv=class n{constructor(e){this._delegate=e}static fromBase64String(e){return AB(),new n(po.fromBase64String(e))}static fromUint8Array(e){return SB(),new n(po.fromUint8Array(e))}toBase64(){return AB(),this._delegate.toBase64()}toUint8Array(){return SB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function KS(n){return Iie(n,["next","error","complete"])}function Iie(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}var QS=class{enableIndexedDbPersistence(e,t){return dT(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return hT(e._delegate)}clearIndexedDbPersistence(e){return fT(e._delegate)}},uv=class{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Gs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&br("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,i={}){Ey(this._delegate,e,t,i)}enableNetwork(){return mT(this._delegate)}disableNetwork(){return gT(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,cT("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return pT(this._delegate)}onSnapshotsInSync(e){return VT(this._delegate,e)}get app(){if(!this._appCompat)throw new q("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new md(this,Kf(this._delegate,e))}catch(t){throw ni(t,"collection()","Firestore.collection()")}}doc(e){try{return new go(this,Al(this._delegate,e))}catch(t){throw ni(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $l(this,uT(this._delegate,e))}catch(t){throw ni(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return BT(this._delegate,t=>e(new dv(this,t)))}batch(){return Mn(this._delegate),new hv(new fy(this._delegate,e=>Wu(this._delegate,e)))}loadBundle(e){return _T(this._delegate,e)}namedQuery(e){return yT(this._delegate,e).then(t=>t?new $l(this,t):null)}},fd=class extends Bu{constructor(e){super(),this.firestore=e}convertBytes(e){return new cv(new po(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return go.forKey(t,this.firestore,null)}};function Tie(n){OI(n)}var dv=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new fd(e)}get(e){let t=Ll(e);return this._delegate.get(t).then(i=>new Bl(this._firestore,new Xi(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){let r=Ll(e);return i?(XS("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){let o=Ll(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){let t=Ll(e);return this._delegate.delete(t),this}},hv=class{constructor(e){this._delegate=e}set(e,t,i){let r=Ll(e);return i?(XS("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){let o=Ll(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){let t=Ll(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},pd=class n{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){let i=new js(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jl(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let i=n.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new n(e,new fd(e),t),r.set(t,o)),o}};pd.INSTANCES=new WeakMap;var go=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fd(e)}static forPath(e,t,i){if(e.length%2!==0)throw new q("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new st(t._delegate,i,new oe(e)))}static forKey(e,t,i){return new n(t,new st(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new md(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new md(this.firestore,Kf(this._delegate,e))}catch(t){throw ni(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=We(e),e instanceof st?Qf(this._delegate,e):!1}set(e,t){t=XS("DocumentReference.set",t);try{return t?Sy(this._delegate,e,t):Sy(this._delegate,e)}catch(i){throw ni(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return arguments.length===1?Yf(this._delegate,e):Yf(this._delegate,e,t,...i)}catch(r){throw ni(r,"updateDoc()","DocumentReference.update()")}}delete(){return FT(this._delegate)}onSnapshot(...e){let t=NB(e),i=MB(e,r=>new Bl(this.firestore,new Xi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return zu(this._delegate,t,i)}get(e){let t;return e?.source==="cache"?t=xT(this._delegate):e?.source==="server"?t=RT(this._delegate):t=MT(this._delegate),t.then(i=>new Bl(this.firestore,new Xi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(pd.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function ni(n,e,t){return n.message=n.message.replace(e,t),n}function NB(n){for(let e of n)if(typeof e=="object"&&!KS(e))return e;return{}}function MB(n,e){var t,i;let r;return KS(n[0])?r=n[0]:KS(n[1])?r=n[1]:typeof n[0]=="function"?r={next:n[0],error:n[1],complete:n[2]}:r={next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:(t=r.error)===null||t===void 0?void 0:t.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Bl=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new go(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ty(this._delegate,e._delegate)}},jl=class extends Bl{data(e){let t=this._delegate.data(e);return this._delegate._converter||$2(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},$l=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fd(e)}where(e,t,i){try{return new n(this.firestore,Sr(this._delegate,Cy(e,t,i)))}catch(r){throw ni(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,Sr(this._delegate,DT(e,t)))}catch(i){throw ni(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,Sr(this._delegate,CT(e)))}catch(t){throw ni(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,Sr(this._delegate,IT(e)))}catch(t){throw ni(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,Sr(this._delegate,TT(...e)))}catch(t){throw ni(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,Sr(this._delegate,ST(...e)))}catch(t){throw ni(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,Sr(this._delegate,AT(...e)))}catch(t){throw ni(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,Sr(this._delegate,NT(...e)))}catch(t){throw ni(t,"endAt()","Query.endAt()")}}isEqual(e){return wy(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=PT(this._delegate):e?.source==="server"?t=kT(this._delegate):t=OT(this._delegate),t.then(i=>new mp(this.firestore,new Tr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let t=NB(e),i=MB(e,r=>new mp(this.firestore,new Tr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return zu(this._delegate,t,i)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(pd.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},YS=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new jl(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},mp=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $l(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jl(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new YS(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new jl(this._firestore,i))})}isEqual(e){return Ty(this._delegate,e._delegate)}},md=class n extends $l{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new go(this.firestore,e):null}doc(e){try{return e===void 0?new go(this.firestore,Al(this._delegate)):new go(this.firestore,Al(this._delegate,e))}catch(t){throw ni(t,"doc()","CollectionReference.doc()")}}add(e){return Ay(this._delegate,e).then(t=>new go(this.firestore,t))}isEqual(e){return Qf(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(pd.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Ll(n){return He(n,st)}var JS=class n{constructor(...e){this._delegate=new Ir(...e)}static documentId(){return new n(Vt.keyField().canonicalString())}isEqual(e){return e=We(e),e instanceof Ir?this._delegate._internalPath.isEqual(e._internalPath):!1}};var ZS=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=Ny();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=jT();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=$T(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=UT(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=HT(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var Sie={Firestore:uv,GeoPoint:Cl,Timestamp:vt,Blob:cv,Transaction:dv,WriteBatch:hv,DocumentReference:go,DocumentSnapshot:Bl,Query:$l,QueryDocumentSnapshot:jl,QuerySnapshot:mp,CollectionReference:md,FieldPath:JS,FieldValue:ZS,setLogLevel:Tie,CACHE_SIZE_UNLIMITED:mL};function Aie(n,e){n.INTERNAL.registerComponent(new Eo("firestore-compat",t=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Sie)))}function Nie(n){Aie(n,(e,t)=>new uv(e,t,new QS)),n.registerVersion(Die,Cie)}Nie(zn);function Mie(n,e=Fi){return new pe(t=>{let i;return e!=null?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}function xB(n,e){return Mie(n,e)}function xie(n,e){return xB(n,e).pipe(Co(void 0),fc(),ce(t=>{let[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function nA(n,e){return xB(n,e).pipe(ce(t=>({payload:t,type:"query"})))}var fv=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let i=this.ref.collection(e),{ref:r,query:o}=FB(i,t);return new mv(r,o,this.afs)}snapshotChanges(){return xie(this.ref,this.afs.schedulers.outsideAngular).pipe(Jn)}valueChanges(e={}){return this.snapshotChanges().pipe(ce(({payload:t})=>e.idField?Me(Y({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return Se(this.ref.get(e)).pipe(Jn)}};function pv(n,e){return nA(n,e).pipe(Co(void 0),fc(),ce(t=>{let[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{let u=o.find(f=>f.doc.ref.isEqual(a.ref)),d=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function RB(n,e,t){return pv(n,t).pipe(fs((i,r)=>Rie(i,r.map(o=>o.payload),e),[]),zd(),ce(i=>i.map(r=>({type:r.type,payload:r}))))}function Rie(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=Oie(n,i))}),n}function eA(n,e,t,...i){let r=n.slice();return r.splice(e,t,...i),r}function Oie(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return eA(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return eA(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return eA(n,e.oldIndex,1);break}return n}function OB(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var mv=class{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=pv(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(ce(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Co(void 0),fc(),Xe(([i,r])=>r.length>0||!i),ce(([,i])=>i),Jn)}auditTrail(e){return this.stateChanges(e).pipe(fs((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=OB(e);return RB(this.query,t,this.afs.schedulers.outsideAngular).pipe(Jn)}valueChanges(e={}){return nA(this.query,this.afs.schedulers.outsideAngular).pipe(ce(t=>t.payload.docs.map(i=>e.idField?Me(Y({},i.data()),{[e.idField]:i.id}):i.data())),Jn)}get(e){return Se(this.query.get(e)).pipe(Jn)}add(e){return this.ref.add(e)}doc(e){return new fv(this.ref.doc(e),this.afs)}},tA=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?pv(this.query,this.afs.schedulers.outsideAngular).pipe(Jn):pv(this.query,this.afs.schedulers.outsideAngular).pipe(ce(t=>t.filter(i=>e.indexOf(i.type)>-1)),Xe(t=>t.length>0),Jn)}auditTrail(e){return this.stateChanges(e).pipe(fs((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=OB(e);return RB(this.query,t,this.afs.schedulers.outsideAngular).pipe(Jn)}valueChanges(e={}){return nA(this.query,this.afs.schedulers.outsideAngular).pipe(ce(i=>i.payload.docs.map(r=>e.idField?Y({[e.idField]:r.id},r.data()):r.data())),Jn)}get(e){return Se(this.query.get(e)).pipe(Jn)}},PB=new se("angularfire2.enableFirestorePersistence"),kB=new se("angularfire2.firestore.persistenceSettings"),Pie=new se("angularfire2.firestore.settings"),kie=new se("angularfire2.firestore.use-emulator");function FB(n,e=t=>t){return{query:e(n),ref:n}}var Fie=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,l,u,d,f,m,g,D,I,T,F,H){this.schedulers=l;let B=fp(t,a,i),G=d;f&&zS(B,a,m,D,I,T,g,F),[this.firestore,this.persistenceEnabled$]=av(`${B.name}.firestore`,"AngularFirestore",B.name,()=>{let Z=a.runOutsideAngular(()=>B.firestore());if(o&&Z.settings(o),G&&Z.useEmulator(...G),r&&!Ha(s)){let X=()=>{try{return Se(Z.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(C){return typeof console<"u"&&console.warn(C),ue(!1)}};return[Z,a.runOutsideAngular(X)]}else return[Z,ue(!1)]},[o,G,r])}collection(t,i){let r;typeof t=="string"?r=this.firestore.collection(t):r=t;let{ref:o,query:s}=FB(r,i),a=this.schedulers.ngZone.run(()=>o);return new mv(a,s,this)}collectionGroup(t,i){let r=i||(s=>s),o=this.firestore.collectionGroup(t);return new tA(r(o),this)}doc(t){let i;typeof t=="string"?i=this.firestore.doc(t):i=t;let r=this.schedulers.ngZone.run(()=>i);return new fv(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(te(dd),te(hd,8),te(PB,8),te(Pie,8),te(Tn),te(ye),te(io),te(kB,8),te(kie,8),te(WS,8),te(jS,8),te($S,8),te(US,8),te(HS,8),te(GS,8),te(qS,8),te(yr,8))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),VB=(()=>{class n{constructor(){zn.registerVersion("angularfire",pi.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:PB,useValue:!0},{provide:kB,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=Ie({providers:[Fie]})}return n})();var LB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n})}static{this.\u0275inj=Ie({imports:[Kr,zc,i0]})}}return n})();var BB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Te({type:n,bootstrap:[jn]})}static{this.\u0275inj=Ie({providers:[pn,ov,ck(()=>uk(hp.firebaseConfig)),mk(()=>yk()),OL(()=>PL())],imports:[fB.initializeApp(hp.firebaseConfig),uB,zc,ak,Kr,jO,TB,VB,i0,LB,n0,o0,r0]})}}return n})();hp&&void 0;BO().bootstrapModule(BB).catch(n=>console.error(n));
